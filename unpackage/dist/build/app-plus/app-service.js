if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){const e=this.constructor;return this.then((r=>e.resolve(t()).then((()=>r))),(r=>e.resolve(t()).then((()=>{throw r}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const t=uni.requireGlobal();ArrayBuffer=t.ArrayBuffer,Int8Array=t.Int8Array,Uint8Array=t.Uint8Array,Uint8ClampedArray=t.Uint8ClampedArray,Int16Array=t.Int16Array,Uint16Array=t.Uint16Array,Int32Array=t.Int32Array,Uint32Array=t.Uint32Array,Float32Array=t.Float32Array,Float64Array=t.Float64Array,BigInt64Array=t.BigInt64Array,BigUint64Array=t.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(t){"use strict";function e(t,e,...r){uni.__log__?uni.__log__(t,e,...r):console[t].apply(console,[...r,e])}__definePage("pages/index/index",{data:()=>({url:"https://edinburgh.ucsslo.cn"}),onLoad(){var t=this.$scope.$getAppWebview(),e=plus.webview.create(this.url,"edinburgh",{top:uni.getSystemInfoSync().statusBarHeight,"uni-app":"none",bottom:"0px",cachemode:"default"});e.appendJsFile("static/js/return.js"),t.append(e)}});var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];const n={getRandomValues(t){if(!(t instanceof Int8Array||t instanceof Uint8Array||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8ClampedArray))throw new Error("Expected an integer array");if(t.byteLength>65536)throw new Error("Can only request a maximum of 65536 bytes");var e;return function(t,e){for(var n,s=t.length,i="="===t[s-2]?2:"="===t[s-1]?1:0,o=0,a=s-i&4294967292,c=0;c<a;c+=4)n=r[t.charCodeAt(c)]<<18|r[t.charCodeAt(c+1)]<<12|r[t.charCodeAt(c+2)]<<6|r[t.charCodeAt(c+3)],e[o++]=n>>16&255,e[o++]=n>>8&255,e[o++]=255&n;1===i&&(n=r[t.charCodeAt(c)]<<10|r[t.charCodeAt(c+1)]<<4|r[t.charCodeAt(c+2)]>>2,e[o++]=n>>8&255,e[o++]=255&n),2===i&&(n=r[t.charCodeAt(c)]<<2|r[t.charCodeAt(c+1)]>>4,e[o++]=255&n)}((e="DCloud-Crypto",weex.requireModule(e)).getRandomValues(t.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t}};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i,o={};self,i=()=>(()=>{var t={4736:(t,e,r)=>{var n;t=r.nmd(t);var s=function(t){var e=1e7,r=9007199254740992,n=f(r),i="0123456789abcdefghijklmnopqrstuvwxyz",o="function"==typeof BigInt;function a(t,e,r,n){return void 0===t?a[0]:void 0===e||10==+e&&!r?G(t):K(t,e,r,n)}function c(t,e){this.value=t,this.sign=e,this.isSmall=!1}function u(t){this.value=t,this.sign=t<0,this.isSmall=!0}function l(t){this.value=t}function h(t){return-r<t&&t<r}function f(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function d(t){p(t);var r=t.length;if(r<4&&O(t,n)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function p(t){for(var e=t.length;0===t[--e];);t.length=e+1}function g(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function y(t){return t>0?Math.floor(t):Math.ceil(t)}function m(t,r){var n,s,i=t.length,o=r.length,a=new Array(i),c=0,u=e;for(s=0;s<o;s++)c=(n=t[s]+r[s]+c)>=u?1:0,a[s]=n-c*u;for(;s<i;)c=(n=t[s]+c)===u?1:0,a[s++]=n-c*u;return c>0&&a.push(c),a}function v(t,e){return t.length>=e.length?m(t,e):m(e,t)}function _(t,r){var n,s,i=t.length,o=new Array(i),a=e;for(s=0;s<i;s++)n=t[s]-a+r,r=Math.floor(n/a),o[s]=n-r*a,r+=1;for(;r>0;)o[s++]=r%a,r=Math.floor(r/a);return o}function S(t,r){var n,s,i=t.length,o=r.length,a=new Array(i),c=0,u=e;for(n=0;n<o;n++)(s=t[n]-c-r[n])<0?(s+=u,c=1):c=0,a[n]=s;for(n=o;n<i;n++){if(!((s=t[n]-c)<0)){a[n++]=s;break}s+=u,a[n]=s}for(;n<i;n++)a[n]=t[n];return p(a),a}function w(t,r,n){var s,i,o=t.length,a=new Array(o),l=-r,h=e;for(s=0;s<o;s++)i=t[s]+l,l=Math.floor(i/h),i%=h,a[s]=i<0?i+h:i;return"number"==typeof(a=d(a))?(n&&(a=-a),new u(a)):new c(a,n)}function b(t,r){var n,s,i,o,a=t.length,c=r.length,u=g(a+c),l=e;for(i=0;i<a;++i){o=t[i];for(var h=0;h<c;++h)n=o*r[h]+u[i+h],s=Math.floor(n/l),u[i+h]=n-s*l,u[i+h+1]+=s}return p(u),u}function E(t,r){var n,s,i=t.length,o=new Array(i),a=e,c=0;for(s=0;s<i;s++)n=t[s]*r+c,c=Math.floor(n/a),o[s]=n-c*a;for(;c>0;)o[s++]=c%a,c=Math.floor(c/a);return o}function T(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function I(t,e){var r=Math.max(t.length,e.length);if(r<=30)return b(t,e);r=Math.ceil(r/2);var n=t.slice(r),s=t.slice(0,r),i=e.slice(r),o=e.slice(0,r),a=I(s,o),c=I(n,i),u=I(v(s,n),v(o,i)),l=v(v(a,T(S(S(u,a),c),r)),T(c,2*r));return p(l),l}function A(t,r,n){return new c(t<e?E(r,t):b(r,f(t)),n)}function D(t){var r,n,s,i,o=t.length,a=g(o+o),c=e;for(s=0;s<o;s++){n=0-(i=t[s])*i;for(var u=s;u<o;u++)r=i*t[u]*2+a[s+u]+n,n=Math.floor(r/c),a[s+u]=r-n*c;a[s+o]=n}return p(a),a}function k(t,e){var r,n,s,i,o=t.length,a=g(o);for(s=0,r=o-1;r>=0;--r)s=(i=1e7*s+t[r])-(n=y(i/e))*e,a[r]=0|n;return[a,0|s]}function x(t,r){var n,s=G(r);if(o)return[new l(t.value/s.value),new l(t.value%s.value)];var i,h=t.value,m=s.value;if(0===m)throw new Error("Cannot divide by zero");if(t.isSmall)return s.isSmall?[new u(y(h/m)),new u(h%m)]:[a[0],t];if(s.isSmall){if(1===m)return[t,a[0]];if(-1==m)return[t.negate(),a[0]];var v=Math.abs(m);if(v<e){i=d((n=k(h,v))[0]);var _=n[1];return t.sign&&(_=-_),"number"==typeof i?(t.sign!==s.sign&&(i=-i),[new u(i),new u(_)]):[new c(i,t.sign!==s.sign),new u(_)]}m=f(v)}var w=O(h,m);if(-1===w)return[a[0],t];if(0===w)return[a[t.sign===s.sign?1:-1],a[0]];n=h.length+m.length<=200?function(t,r){var n,s,i,o,a,c,u,l=t.length,h=r.length,f=e,p=g(r.length),y=r[h-1],m=Math.ceil(f/(2*y)),v=E(t,m),_=E(r,m);for(v.length<=l&&v.push(0),_.push(0),y=_[h-1],s=l-h;s>=0;s--){for(n=f-1,v[s+h]!==y&&(n=Math.floor((v[s+h]*f+v[s+h-1])/y)),i=0,o=0,c=_.length,a=0;a<c;a++)i+=n*_[a],u=Math.floor(i/f),o+=v[s+a]-(i-u*f),i=u,o<0?(v[s+a]=o+f,o=-1):(v[s+a]=o,o=0);for(;0!==o;){for(n-=1,i=0,a=0;a<c;a++)(i+=v[s+a]-f+_[a])<0?(v[s+a]=i+f,i=0):(v[s+a]=i,i=1);o+=i}p[s]=n}return v=k(v,m)[0],[d(p),d(v)]}(h,m):function(t,r){for(var n,s,i,o,a,c=t.length,u=r.length,l=[],h=[],f=e;c;)if(h.unshift(t[--c]),p(h),O(h,r)<0)l.push(0);else{i=h[(s=h.length)-1]*f+h[s-2],o=r[u-1]*f+r[u-2],s>u&&(i=(i+1)*f),n=Math.ceil(i/o);do{if(O(a=E(r,n),h)<=0)break;n--}while(n);l.push(n),h=S(h,a)}return l.reverse(),[d(l),d(h)]}(h,m),i=n[0];var b=t.sign!==s.sign,T=n[1],I=t.sign;return"number"==typeof i?(b&&(i=-i),i=new u(i)):i=new c(i,b),"number"==typeof T?(I&&(T=-T),T=new u(T)):T=new c(T,I),[i,T]}function O(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function R(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function M(t,e){for(var r,n,i,o=t.prev(),a=o,c=0;a.isEven();)a=a.divide(2),c++;t:for(n=0;n<e.length;n++)if(!t.lesser(e[n])&&!(i=s(e[n]).modPow(a,t)).isUnit()&&!i.equals(o)){for(r=c-1;0!=r;r--){if((i=i.square().mod(t)).isUnit())return!1;if(i.equals(o))continue t}return!1}return!0}c.prototype=Object.create(a.prototype),u.prototype=Object.create(a.prototype),l.prototype=Object.create(a.prototype),c.prototype.add=function(t){var e=G(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new c(_(r,Math.abs(n)),this.sign):new c(v(r,n),this.sign)},c.prototype.plus=c.prototype.add,u.prototype.add=function(t){var e=G(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(h(r+n))return new u(r+n);n=f(Math.abs(n))}return new c(_(n,Math.abs(r)),r<0)},u.prototype.plus=u.prototype.add,l.prototype.add=function(t){return new l(this.value+G(t).value)},l.prototype.plus=l.prototype.add,c.prototype.subtract=function(t){var e=G(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?w(r,Math.abs(n),this.sign):function(t,e,r){var n;return O(t,e)>=0?n=S(t,e):(n=S(e,t),r=!r),"number"==typeof(n=d(n))?(r&&(n=-n),new u(n)):new c(n,r)}(r,n,this.sign)},c.prototype.minus=c.prototype.subtract,u.prototype.subtract=function(t){var e=G(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new u(r-n):w(n,Math.abs(r),r>=0)},u.prototype.minus=u.prototype.subtract,l.prototype.subtract=function(t){return new l(this.value-G(t).value)},l.prototype.minus=l.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},u.prototype.negate=function(){var t=this.sign,e=new u(-this.value);return e.sign=!t,e},l.prototype.negate=function(){return new l(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)},c.prototype.multiply=function(t){var r,n=G(t),s=this.value,i=n.value,o=this.sign!==n.sign;if(n.isSmall){if(0===i)return a[0];if(1===i)return this;if(-1===i)return this.negate();if((r=Math.abs(i))<e)return new c(E(s,r),o);i=f(r)}return function(t,e){return-.012*t-.012*e+15e-6*t*e>0}(s.length,i.length)?new c(I(s,i),o):new c(b(s,i),o)},c.prototype.times=c.prototype.multiply,u.prototype._multiplyBySmall=function(t){return h(t.value*this.value)?new u(t.value*this.value):A(Math.abs(t.value),f(Math.abs(this.value)),this.sign!==t.sign)},c.prototype._multiplyBySmall=function(t){return 0===t.value?a[0]:1===t.value?this:-1===t.value?this.negate():A(Math.abs(t.value),this.value,this.sign!==t.sign)},u.prototype.multiply=function(t){return G(t)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,l.prototype.multiply=function(t){return new l(this.value*G(t).value)},l.prototype.times=l.prototype.multiply,c.prototype.square=function(){return new c(D(this.value),!1)},u.prototype.square=function(){var t=this.value*this.value;return h(t)?new u(t):new c(D(f(Math.abs(this.value))),!1)},l.prototype.square=function(t){return new l(this.value*this.value)},c.prototype.divmod=function(t){var e=x(this,t);return{quotient:e[0],remainder:e[1]}},l.prototype.divmod=u.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(t){return x(this,t)[0]},l.prototype.over=l.prototype.divide=function(t){return new l(this.value/G(t).value)},u.prototype.over=u.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(t){return x(this,t)[1]},l.prototype.mod=l.prototype.remainder=function(t){return new l(this.value%G(t).value)},u.prototype.remainder=u.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(t){var e,r,n,s=G(t),i=this.value,o=s.value;if(0===o)return a[1];if(0===i)return a[0];if(1===i)return a[1];if(-1===i)return s.isEven()?a[1]:a[-1];if(s.sign)return a[0];if(!s.isSmall)throw new Error("The exponent "+s.toString()+" is too large.");if(this.isSmall&&h(e=Math.pow(i,o)))return new u(y(e));for(r=this,n=a[1];!0&o&&(n=n.times(r),--o),0!==o;)o/=2,r=r.square();return n},u.prototype.pow=c.prototype.pow,l.prototype.pow=function(t){var e=G(t),r=this.value,n=e.value,s=BigInt(0),i=BigInt(1),o=BigInt(2);if(n===s)return a[1];if(r===s)return a[0];if(r===i)return a[1];if(r===BigInt(-1))return e.isEven()?a[1]:a[-1];if(e.isNegative())return new l(s);for(var c=this,u=a[1];(n&i)===i&&(u=u.times(c),--n),n!==s;)n/=o,c=c.square();return u},c.prototype.modPow=function(t,e){if(t=G(t),(e=G(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=a[1],n=this.mod(e);for(t.isNegative()&&(t=t.multiply(a[-1]),n=n.modInv(e));t.isPositive();){if(n.isZero())return a[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},l.prototype.modPow=u.prototype.modPow=c.prototype.modPow,c.prototype.compareAbs=function(t){var e=G(t),r=this.value,n=e.value;return e.isSmall?1:O(r,n)},u.prototype.compareAbs=function(t){var e=G(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},l.prototype.compareAbs=function(t){var e=this.value,r=G(t).value;return(e=e>=0?e:-e)===(r=r>=0?r:-r)?0:e>r?1:-1},c.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=G(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:O(r,n)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=G(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},u.prototype.compareTo=u.prototype.compare,l.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,r=G(t).value;return e===r?0:e>r?1:-1},l.prototype.compareTo=l.prototype.compare,c.prototype.equals=function(t){return 0===this.compare(t)},l.prototype.eq=l.prototype.equals=u.prototype.eq=u.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(t){return 0!==this.compare(t)},l.prototype.neq=l.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(t){return this.compare(t)>0},l.prototype.gt=l.prototype.greater=u.prototype.gt=u.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(t){return this.compare(t)<0},l.prototype.lt=l.prototype.lesser=u.prototype.lt=u.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},l.prototype.geq=l.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},l.prototype.leq=l.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return 0==(1&this.value[0])},u.prototype.isEven=function(){return 0==(1&this.value)},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return 1==(1&this.value[0])},u.prototype.isOdd=function(){return 1==(1&this.value)},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=u.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=u.prototype.isNegative,c.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return 1===Math.abs(this.value)},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return 0===this.value},l.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(t){var e=G(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},l.prototype.isDivisibleBy=u.prototype.isDivisibleBy=c.prototype.isDivisibleBy,c.prototype.isPrime=function(e){var r=R(this);if(r!==t)return r;var n=this.abs(),i=n.bitLength();if(i<=64)return M(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*i.toJSNumber(),a=Math.ceil(!0===e?2*Math.pow(o,2):o),c=[],u=0;u<a;u++)c.push(s(u+2));return M(n,c)},l.prototype.isPrime=u.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(e,r){var n=R(this);if(n!==t)return n;for(var i=this.abs(),o=e===t?5:e,a=[],c=0;c<o;c++)a.push(s.randBetween(2,i.minus(2),r));return M(i,a)},l.prototype.isProbablePrime=u.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(t){for(var e,r,n,i=s.zero,o=s.one,a=G(t),c=this.abs();!c.isZero();)e=a.divide(c),r=i,n=a,i=o,a=c,o=r.subtract(e.multiply(o)),c=n.subtract(e.multiply(c));if(!a.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(t)),this.isNegative()?i.negate():i},l.prototype.modInv=u.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var t=this.value;return this.sign?w(t,1,this.sign):new c(_(t,1),this.sign)},u.prototype.next=function(){var t=this.value;return t+1<r?new u(t+1):new c(n,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},c.prototype.prev=function(){var t=this.value;return this.sign?new c(_(t,1),!0):w(t,1,this.sign)},u.prototype.prev=function(){var t=this.value;return t-1>-r?new u(t-1):new c(n,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var C=[1];2*C[C.length-1]<=e;)C.push(2*C[C.length-1]);var P=C.length,B=C[P-1];function N(t){return Math.abs(t)<=e}function L(t,e,r){e=G(e);for(var n=t.isNegative(),i=e.isNegative(),o=n?t.not():t,a=i?e.not():e,c=0,u=0,l=null,h=null,f=[];!o.isZero()||!a.isZero();)c=(l=x(o,B))[1].toJSNumber(),n&&(c=B-1-c),u=(h=x(a,B))[1].toJSNumber(),i&&(u=B-1-u),o=l[0],a=h[0],f.push(r(c,u));for(var d=0!==r(n?1:0,i?1:0)?s(-1):s(0),p=f.length-1;p>=0;p-=1)d=d.multiply(B).add(s(f[p]));return d}c.prototype.shiftLeft=function(t){var e=G(t).toJSNumber();if(!N(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var r=this;if(r.isZero())return r;for(;e>=P;)r=r.multiply(B),e-=P-1;return r.multiply(C[e])},l.prototype.shiftLeft=u.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(t){var e,r=G(t).toJSNumber();if(!N(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=P;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(e=x(n,B))[1].isNegative()?e[0].prev():e[0],r-=P-1}return(e=x(n,C[r]))[1].isNegative()?e[0].prev():e[0]},l.prototype.shiftRight=u.prototype.shiftRight=c.prototype.shiftRight,c.prototype.not=function(){return this.negate().prev()},l.prototype.not=u.prototype.not=c.prototype.not,c.prototype.and=function(t){return L(this,t,(function(t,e){return t&e}))},l.prototype.and=u.prototype.and=c.prototype.and,c.prototype.or=function(t){return L(this,t,(function(t,e){return t|e}))},l.prototype.or=u.prototype.or=c.prototype.or,c.prototype.xor=function(t){return L(this,t,(function(t,e){return t^e}))},l.prototype.xor=u.prototype.xor=c.prototype.xor;var U=1<<30;function q(t){var r=t.value,n="number"==typeof r?r|U:"bigint"==typeof r?r|BigInt(U):r[0]+r[1]*e|1073758208;return n&-n}function j(t,e){if(e.compareTo(t)<=0){var r=j(t,e.square(e)),n=r.p,i=r.e,o=n.multiply(e);return o.compareTo(t)<=0?{p:o,e:2*i+1}:{p:n,e:2*i}}return{p:s(1),e:0}}function F(t,e){return t=G(t),e=G(e),t.greater(e)?t:e}function H(t,e){return t=G(t),e=G(e),t.lesser(e)?t:e}function V(t,e){if(t=G(t).abs(),e=G(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,s=a[1];t.isEven()&&e.isEven();)r=H(q(t),q(e)),t=t.divide(r),e=e.divide(r),s=s.multiply(r);for(;t.isEven();)t=t.divide(q(t));do{for(;e.isEven();)e=e.divide(q(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return s.isUnit()?t:t.multiply(s)}c.prototype.bitLength=function(){var t=this;return t.compareTo(s(0))<0&&(t=t.negate().subtract(s(1))),0===t.compareTo(s(0))?s(0):s(j(t,s(2)).e).add(s(1))},l.prototype.bitLength=u.prototype.bitLength=c.prototype.bitLength;var K=function(t,e,r,n){r=r||i,t=String(t),n||(t=t.toLowerCase(),r=r.toLowerCase());var s,o=t.length,a=Math.abs(e),c={};for(s=0;s<r.length;s++)c[r[s]]=s;for(s=0;s<o;s++)if("-"!==(h=t[s])&&h in c&&c[h]>=a){if("1"===h&&1===a)continue;throw new Error(h+" is not a valid digit in base "+e+".")}e=G(e);var u=[],l="-"===t[0];for(s=l?1:0;s<t.length;s++){var h;if((h=t[s])in c)u.push(G(c[h]));else{if("<"!==h)throw new Error(h+" is not a valid character");var f=s;do{s++}while(">"!==t[s]&&s<t.length);u.push(G(t.slice(f+1,s)))}}return $(u,e,l)};function $(t,e,r){var n,s=a[0],i=a[1];for(n=t.length-1;n>=0;n--)s=s.add(t[n].times(i)),i=i.times(e);return r?s.negate():s}function z(t,e){if((e=s(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(t.isNegative()&&e.isPositive()&&(n=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var i,o=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){i=a.divmod(e),a=i.quotient;var c=i.remainder;c.isNegative()&&(c=e.minus(c).abs(),a=a.next()),o.push(c.toJSNumber())}return o.push(a.toJSNumber()),{value:o.reverse(),isNegative:n}}function W(t,e,r){var n=z(t,e);return(n.isNegative?"-":"")+n.value.map((function(t){return function(t,e){return t<(e=e||i).length?e[t]:"<"+t+">"}(t,r)})).join("")}function J(t){if(h(+t)){var e=+t;if(e===y(e))return o?new l(BigInt(e)):new u(e);throw new Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var n=t.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var s=n[1];if("+"===s[0]&&(s=s.slice(1)),(s=+s)!==y(s)||!h(s))throw new Error("Invalid integer: "+s+" is not a valid exponent.");var i=n[0],a=i.indexOf(".");if(a>=0&&(s-=i.length-a-1,i=i.slice(0,a)+i.slice(a+1)),s<0)throw new Error("Cannot include negative exponent part for integers");t=i+=new Array(s+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(o)return new l(BigInt(r?"-"+t:t));for(var f=[],d=t.length,g=d-7;d>0;)f.push(+t.slice(g,d)),(g-=7)<0&&(g=0),d-=7;return p(f),new c(f,r)}function G(t){return"number"==typeof t?function(t){if(o)return new l(BigInt(t));if(h(t)){if(t!==y(t))throw new Error(t+" is not an integer.");return new u(t)}return J(t.toString())}(t):"string"==typeof t?J(t):"bigint"==typeof t?new l(t):t}c.prototype.toArray=function(t){return z(this,t)},u.prototype.toArray=function(t){return z(this,t)},l.prototype.toArray=function(t){return z(this,t)},c.prototype.toString=function(e,r){if(e===t&&(e=10),10!==e)return W(this,e,r);for(var n,s=this.value,i=s.length,o=String(s[--i]);--i>=0;)n=String(s[i]),o+="0000000".slice(n.length)+n;return(this.sign?"-":"")+o},u.prototype.toString=function(e,r){return e===t&&(e=10),10!=e?W(this,e,r):String(this.value)},l.prototype.toString=u.prototype.toString,l.prototype.toJSON=c.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var Y=0;Y<1e3;Y++)a[Y]=G(Y),Y>0&&(a[-Y]=G(-Y));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=F,a.min=H,a.gcd=V,a.lcm=function(t,e){return t=G(t).abs(),e=G(e).abs(),t.divide(V(t,e)).multiply(e)},a.isInstance=function(t){return t instanceof c||t instanceof u||t instanceof l},a.randBetween=function(t,r,n){t=G(t),r=G(r);var s=n||Math.random,i=H(t,r),o=F(t,r).subtract(i).add(1);if(o.isSmall)return i.add(Math.floor(s()*o));for(var c=z(o,e).value,u=[],l=!0,h=0;h<c.length;h++){var f=l?c[h]+(h+1<c.length?c[h+1]/e:0):e,d=y(s()*f);u.push(d),d<c[h]&&(l=!1)}return i.add(a.fromArray(u,e,!1))},a.fromArray=function(t,e,r){return $(t.map(G),G(e||10),r)},a}();t.hasOwnProperty("exports")&&(t.exports=s),void 0!==(n=function(){return s}.call(e,r,e,t))&&(t.exports=n)},452:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,s=[],i=[],o=[],a=[],c=[],u=[],l=[],h=[],f=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,s[r]=p,i[p]=r;var g=t[r],y=t[g],m=t[y],v=257*t[p]^16843008*p;o[r]=v<<24|v>>>8,a[r]=v<<16|v>>>16,c[r]=v<<8|v>>>24,u[r]=v,v=16843009*m^65537*y^257*g^16843008*r,l[p]=v<<24|v>>>8,h[p]=v<<16|v>>>16,f[p]=v<<8|v>>>24,d[p]=v,r?(r=g^t[t[t[m^g]]],n^=t[t[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],o=0;o<n;o++)o<r?i[o]=e[o]:(u=i[o-1],o%r?r>6&&o%r==4&&(u=s[u>>>24]<<24|s[u>>>16&255]<<16|s[u>>>8&255]<<8|s[255&u]):(u=s[(u=u<<8|u>>>24)>>>24]<<24|s[u>>>16&255]<<16|s[u>>>8&255]<<8|s[255&u],u^=p[o/r|0]<<24),i[o]=i[o-r]^u);for(var a=this._invKeySchedule=[],c=0;c<n;c++){if(o=n-c,c%4)var u=i[o];else u=i[o-4];a[c]=c<4||o<=4?u:l[s[u>>>24]]^h[s[u>>>16&255]]^f[s[u>>>8&255]]^d[s[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,a,c,u,s)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,l,h,f,d,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,s,i,o,a){for(var c=this._nRounds,u=t[e]^r[0],l=t[e+1]^r[1],h=t[e+2]^r[2],f=t[e+3]^r[3],d=4,p=1;p<c;p++){var g=n[u>>>24]^s[l>>>16&255]^i[h>>>8&255]^o[255&f]^r[d++],y=n[l>>>24]^s[h>>>16&255]^i[f>>>8&255]^o[255&u]^r[d++],m=n[h>>>24]^s[f>>>16&255]^i[u>>>8&255]^o[255&l]^r[d++],v=n[f>>>24]^s[u>>>16&255]^i[l>>>8&255]^o[255&h]^r[d++];u=g,l=y,h=m,f=v}g=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^r[d++],y=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&u])^r[d++],m=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^r[d++],v=(a[f>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[d++],t[e]=g,t[e+1]=y,t[e+2]=m,t[e+3]=v},keySize:8});t.AES=e._createHelper(g)}(),n.AES)},5109:function(t,e,r){var n;t.exports=(n=r(8249),r(888),void(n.lib.Cipher||function(t){var e=n,r=e.lib,s=r.Base,i=r.WordArray,o=r.BufferedBlockAlgorithm,a=e.enc;a.Utf8;var c=a.Base64,u=e.algo.EvpKDF,l=r.Cipher=o.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?_:m}return function(e){return{encrypt:function(r,n,s){return t(n).encrypt(e,r,n,s)},decrypt:function(r,n,s){return t(n).decrypt(e,r,n,s)}}}}()});r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=e.mode={},f=r.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=h.CBC=function(){var e=f.extend();function r(e,r,n){var s,i=this._iv;i?(s=i,this._iv=t):s=this._prevBlock;for(var o=0;o<n;o++)e[r+o]^=s[o]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,s=n.blockSize;r.call(this,t,e,s),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+s)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,s=n.blockSize,i=t.slice(e,e+s);n.decryptBlock(t,e),r.call(this,t,e,s),this._prevBlock=i}}),e}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,s=n<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(s);var c=i.create(o,n);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:p}),reset:function(){var t;l.reset.call(this);var e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4});var g=r.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?i.create([1398893684,1701076831]).concat(r).concat(e):e).toString(c)},parse:function(t){var e,r=c.parse(t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=i.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),g.create({ciphertext:r,salt:e})}},m=r.SerializableCipher=s.extend({cfg:s.extend({format:y}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var s=t.createEncryptor(r,n),i=s.finalize(e),o=s.cfg;return g.create({ciphertext:i,key:r,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=i.random(8));var s=u.create({keySize:e+r}).compute(t,n),o=i.create(s.words.slice(e),4*r);return s.sigBytes=4*e,g.create({key:s,iv:o,salt:n})}},_=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:v}),encrypt:function(t,e,r,n){var s=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=s.iv;var i=m.encrypt.call(this,t,e,s.key,n);return i.mixIn(s),i},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var s=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=s.iv,m.decrypt.call(this,t,e,s.key,n)}})}()))},8249:function(t,e,r){var s;t.exports=(s=s||function(t,e){var s;if("undefined"!=typeof window&&n&&(s=n),"undefined"!=typeof self&&self.crypto&&(s=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(s=globalThis.crypto),!s&&"undefined"!=typeof window&&window.msCrypto&&(s=window.msCrypto),!s&&void 0!==r.g&&r.g.crypto&&(s=r.g.crypto),!s)try{s=r(2480)}catch(m){}var i=function(){if(s){if("function"==typeof s.getRandomValues)try{return s.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"==typeof s.randomBytes)try{return s.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),a={},c=a.lib={},u=c.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,s=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<s;i++){var o=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=o<<24-(n+i)%4*8}else for(var a=0;a<s;a+=4)e[n+a>>>2]=r[a>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(i());return new l.init(e,t)}}),h=a.enc={},f=h.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],s=0;s<r;s++){var i=e[s>>>2]>>>24-s%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(r,e/2)}},d=h.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],s=0;s<r;s++){var i=e[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(r,e)}},p=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},g=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,s=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,u=t.min(4*c,i);if(c){for(var h=0;h<c;h+=o)this._doProcessBlock(s,h);r=s.splice(0,c),n.sigBytes-=u}return new l.init(r,u)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});c.Hasher=g.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new y.HMAC.init(t,r).finalize(e)}}});var y=a.algo={};return a}(Math),s)},8269:function(t,e,r){var n;t.exports=(n=r(8249),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var s=[],i=0,o=0;o<r;o++)if(o%4){var a=n[t.charCodeAt(o-1)]<<o%4*2|n[t.charCodeAt(o)]>>>6-o%4*2;s[i>>>2]|=a<<24-i%4*8,i++}return e.create(s,i)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var s=[],i=0;i<r;i+=3)for(var o=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<r;a++)s.push(n.charAt(o>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(t){var e=t.length,n=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var i=0;i<n.length;i++)s[n.charCodeAt(i)]=i}var o=n.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return r(t,e,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},3786:function(t,e,r){var n;t.exports=(n=r(8249),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var s=[],i=0,o=0;o<r;o++)if(o%4){var a=n[t.charCodeAt(o-1)]<<o%4*2|n[t.charCodeAt(o)]>>>6-o%4*2;s[i>>>2]|=a<<24-i%4*8,i++}return e.create(s,i)}t.enc.Base64url={stringify:function(t,e=!0){var r=t.words,n=t.sigBytes,s=e?this._safe_map:this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(r[o>>>2]>>>24-o%4*8&255)<<16|(r[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|r[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;c<4&&o+.75*c<n;c++)i.push(s.charAt(a>>>6*(3-c)&63));var u=s.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t,e=!0){var n=t.length,s=e?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<s.length;o++)i[s.charCodeAt(o)]=o}var a=s.charAt(64);if(a){var c=t.indexOf(a);-1!==c&&(n=c)}return r(t,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),n.enc.Base64url)},298:function(t,e,r){var n;t.exports=(n=r(8249),function(){var t=n,e=t.lib.WordArray,r=t.enc;function s(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],s=0;s<r;s+=2){var i=e[s>>>2]>>>16-s%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var r=t.length,n=[],s=0;s<r;s++)n[s>>>1]|=t.charCodeAt(s)<<16-s%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=s(e[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=s(t.charCodeAt(i)<<16-i%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},888:function(t,e,r){var n,s,i,o,a,c,u,l;t.exports=(l=r(8249),r(2783),r(9824),s=(n=l).lib,i=s.Base,o=s.WordArray,a=n.algo,c=a.MD5,u=a.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,n=this.cfg,s=n.hasher.create(),i=o.create(),a=i.words,c=n.keySize,u=n.iterations;a.length<c;){r&&s.update(r),r=s.update(t).finalize(e),s.reset();for(var l=1;l<u;l++)r=s.finalize(r),s.reset();i.concat(r)}return i.sigBytes=4*c,i}}),n.EvpKDF=function(t,e,r){return u.create(r).compute(t,e)},l.EvpKDF)},2209:function(t,e,r){var n,s,i,o;t.exports=(o=r(8249),r(5109),s=(n=o).lib.CipherParams,i=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(i)},parse:function(t){var e=i.parse(t);return s.create({ciphertext:e})}},o.format.Hex)},9824:function(t,e,r){var n,s,i,o;t.exports=(o=r(8249),s=(n=o).lib.Base,i=n.enc.Utf8,void(n.algo.HMAC=s.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var s=this._oKey=e.clone(),o=this._iKey=e.clone(),a=s.words,c=o.words,u=0;u<r;u++)a[u]^=1549556828,c[u]^=909522486;s.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},1354:function(t,e,r){var n;t.exports=(n=r(8249),r(4938),r(4433),r(298),r(8269),r(3786),r(8214),r(2783),r(2153),r(7792),r(34),r(7460),r(3327),r(706),r(9824),r(2112),r(888),r(5109),r(8568),r(4242),r(9968),r(7660),r(1148),r(3615),r(2807),r(1077),r(6475),r(6991),r(2209),r(452),r(4253),r(1857),r(4454),r(3974),n)},4433:function(t,e,r){var n;t.exports=(n=r(8249),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],s=0;s<r;s++)n[s>>>2]|=t[s]<<24-s%4*8;e.call(this,n,r)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)},8214:function(t,e,r){var n;t.exports=(n=r(8249),function(t){var e=n,r=e.lib,s=r.WordArray,i=r.Hasher,o=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=o.MD5=i.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,s=t[n];t[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var i=this._hash.words,o=t[e+0],c=t[e+1],d=t[e+2],p=t[e+3],g=t[e+4],y=t[e+5],m=t[e+6],v=t[e+7],_=t[e+8],S=t[e+9],w=t[e+10],b=t[e+11],E=t[e+12],T=t[e+13],I=t[e+14],A=t[e+15],D=i[0],k=i[1],x=i[2],O=i[3];D=u(D,k,x,O,o,7,a[0]),O=u(O,D,k,x,c,12,a[1]),x=u(x,O,D,k,d,17,a[2]),k=u(k,x,O,D,p,22,a[3]),D=u(D,k,x,O,g,7,a[4]),O=u(O,D,k,x,y,12,a[5]),x=u(x,O,D,k,m,17,a[6]),k=u(k,x,O,D,v,22,a[7]),D=u(D,k,x,O,_,7,a[8]),O=u(O,D,k,x,S,12,a[9]),x=u(x,O,D,k,w,17,a[10]),k=u(k,x,O,D,b,22,a[11]),D=u(D,k,x,O,E,7,a[12]),O=u(O,D,k,x,T,12,a[13]),x=u(x,O,D,k,I,17,a[14]),D=l(D,k=u(k,x,O,D,A,22,a[15]),x,O,c,5,a[16]),O=l(O,D,k,x,m,9,a[17]),x=l(x,O,D,k,b,14,a[18]),k=l(k,x,O,D,o,20,a[19]),D=l(D,k,x,O,y,5,a[20]),O=l(O,D,k,x,w,9,a[21]),x=l(x,O,D,k,A,14,a[22]),k=l(k,x,O,D,g,20,a[23]),D=l(D,k,x,O,S,5,a[24]),O=l(O,D,k,x,I,9,a[25]),x=l(x,O,D,k,p,14,a[26]),k=l(k,x,O,D,_,20,a[27]),D=l(D,k,x,O,T,5,a[28]),O=l(O,D,k,x,d,9,a[29]),x=l(x,O,D,k,v,14,a[30]),D=h(D,k=l(k,x,O,D,E,20,a[31]),x,O,y,4,a[32]),O=h(O,D,k,x,_,11,a[33]),x=h(x,O,D,k,b,16,a[34]),k=h(k,x,O,D,I,23,a[35]),D=h(D,k,x,O,c,4,a[36]),O=h(O,D,k,x,g,11,a[37]),x=h(x,O,D,k,v,16,a[38]),k=h(k,x,O,D,w,23,a[39]),D=h(D,k,x,O,T,4,a[40]),O=h(O,D,k,x,o,11,a[41]),x=h(x,O,D,k,p,16,a[42]),k=h(k,x,O,D,m,23,a[43]),D=h(D,k,x,O,S,4,a[44]),O=h(O,D,k,x,E,11,a[45]),x=h(x,O,D,k,A,16,a[46]),D=f(D,k=h(k,x,O,D,d,23,a[47]),x,O,o,6,a[48]),O=f(O,D,k,x,v,10,a[49]),x=f(x,O,D,k,I,15,a[50]),k=f(k,x,O,D,y,21,a[51]),D=f(D,k,x,O,E,6,a[52]),O=f(O,D,k,x,p,10,a[53]),x=f(x,O,D,k,w,15,a[54]),k=f(k,x,O,D,c,21,a[55]),D=f(D,k,x,O,_,6,a[56]),O=f(O,D,k,x,A,10,a[57]),x=f(x,O,D,k,m,15,a[58]),k=f(k,x,O,D,T,21,a[59]),D=f(D,k,x,O,g,6,a[60]),O=f(O,D,k,x,b,10,a[61]),x=f(x,O,D,k,d,15,a[62]),k=f(k,x,O,D,S,21,a[63]),i[0]=i[0]+D|0,i[1]=i[1]+k|0,i[2]=i[2]+x|0,i[3]=i[3]+O|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;r[s>>>5]|=128<<24-s%32;var i=t.floor(n/4294967296),o=n;r[15+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,r,n,s,i,o){var a=t+(e&r|~e&n)+s+o;return(a<<i|a>>>32-i)+e}function l(t,e,r,n,s,i,o){var a=t+(e&n|r&~n)+s+o;return(a<<i|a>>>32-i)+e}function h(t,e,r,n,s,i,o){var a=t+(e^r^n)+s+o;return(a<<i|a>>>32-i)+e}function f(t,e,r,n,s,i,o){var a=t+(r^(e|~n))+s+o;return(a<<i|a>>>32-i)+e}e.MD5=i._createHelper(c),e.HmacMD5=i._createHmacHelper(c)}(Math),n.MD5)},8568:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var s,i=this._iv;i?(s=i.slice(0),this._iv=void 0):s=this._prevBlock,n.encryptBlock(s,0);for(var o=0;o<r;o++)t[e+o]^=s[o]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,s=n.blockSize;e.call(this,t,r,s,n),this._prevBlock=t.slice(r,r+s)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,s=n.blockSize,i=t.slice(r,r+s);e.call(this,t,r,s,n),this._prevBlock=i}}),t}(),n.mode.CFB)},9968:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}else t+=1<<24;return t}function r(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var s=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,s=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0),r(o);var a=o.slice(0);n.encryptBlock(a,0);for(var c=0;c<s;c++)t[e+c]^=a[c]}});return t.Decryptor=s,t}(),n.mode.CTRGladman)},4242:function(t,e,r){var n,s,i;t.exports=(i=r(8249),r(5109),i.mode.CTR=(n=i.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,s=this._iv,i=this._counter;s&&(i=this._counter=s.slice(0),this._iv=void 0);var o=i.slice(0);r.encryptBlock(o,0),i[n-1]=i[n-1]+1|0;for(var a=0;a<n;a++)t[e+a]^=o[a]}}),n.Decryptor=s,n),i.mode.CTR)},1148:function(t,e,r){var n,s;t.exports=(s=r(8249),r(5109),s.mode.ECB=((n=s.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),s.mode.ECB)},7660:function(t,e,r){var n,s,i;t.exports=(i=r(8249),r(5109),i.mode.OFB=(n=i.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,s=this._iv,i=this._keystream;s&&(i=this._keystream=s.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var o=0;o<n;o++)t[e+o]^=i[o]}}),n.Decryptor=s,n),i.mode.OFB)},3615:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,s=n-r%n,i=r+s-1;t.clamp(),t.words[i>>>2]|=s<<24-i%4*8,t.sigBytes+=s},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},2807:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.Iso10126={pad:function(t,e){var r=4*e,s=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},1077:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},6991:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},6475:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){var e=t.words,r=t.sigBytes-1;for(r=t.sigBytes-1;r>=0;r--)if(e[r>>>2]>>>24-r%4*8&255){t.sigBytes=r+1;break}}},n.pad.ZeroPadding)},2112:function(t,e,r){var n,s,i,o,a,c,u,l,h;t.exports=(h=r(8249),r(2783),r(9824),s=(n=h).lib,i=s.Base,o=s.WordArray,a=n.algo,c=a.SHA1,u=a.HMAC,l=a.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=u.create(r.hasher,t),s=o.create(),i=o.create([1]),a=s.words,c=i.words,l=r.keySize,h=r.iterations;a.length<l;){var f=n.update(e).finalize(i);n.reset();for(var d=f.words,p=d.length,g=f,y=1;y<h;y++){g=n.finalize(g),n.reset();for(var m=g.words,v=0;v<p;v++)d[v]^=m[v]}s.concat(f),c[0]++}return s.sigBytes=4*l,s}}),n.PBKDF2=function(t,e,r){return l.create(r).compute(t,e)},h.PBKDF2)},3974:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,s=[],i=[],o=[],a=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var s=0;s<4;s++)c.call(this);for(s=0;s<8;s++)n[s]^=r[s+4&7];if(e){var i=e.words,o=i[0],a=i[1],u=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=u>>>16|4294901760&l,f=l<<16|65535&u;for(n[0]^=u,n[1]^=h,n[2]^=l,n[3]^=f,n[4]^=u,n[5]^=h,n[6]^=l,n[7]^=f,s=0;s<4;s++)c.call(this)}},_doProcessBlock:function(t,e){var r=this._X;c.call(this),s[0]=r[0]^r[5]>>>16^r[3]<<16,s[1]=r[2]^r[7]>>>16^r[5]<<16,s[2]=r[4]^r[1]>>>16^r[7]<<16,s[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)s[n]=16711935&(s[n]<<8|s[n]>>>24)|4278255360&(s[n]<<24|s[n]>>>8),t[e+n]^=s[n]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],s=65535&n,a=n>>>16,c=((s*s>>>17)+s*a>>>15)+a*a,u=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=c^u}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=e._createHelper(a)}(),n.RabbitLegacy)},4454:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,s=[],i=[],o=[],a=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],s=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)s[r]^=n[r+4&7];if(e){var i=e.words,o=i[0],a=i[1],u=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=u>>>16|4294901760&l,f=l<<16|65535&u;for(s[0]^=u,s[1]^=h,s[2]^=l,s[3]^=f,s[4]^=u,s[5]^=h,s[6]^=l,s[7]^=f,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(t,e){var r=this._X;c.call(this),s[0]=r[0]^r[5]>>>16^r[3]<<16,s[1]=r[2]^r[7]>>>16^r[5]<<16,s[2]=r[4]^r[1]>>>16^r[7]<<16,s[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)s[n]=16711935&(s[n]<<8|s[n]>>>24)|4278255360&(s[n]<<24|s[n]>>>8),t[e+n]^=s[n]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],s=65535&n,a=n>>>16,c=((s*s>>>17)+s*a>>>15)+a*a,u=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=c^u}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=e._createHelper(a)}(),n.Rabbit)},1857:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,s=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],s=0;s<256;s++)n[s]=s;s=0;for(var i=0;s<256;s++){var o=s%r,a=e[o>>>2]>>>24-o%4*8&255;i=(i+n[s]+a)%256;var c=n[s];n[s]=n[i],n[i]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var t=this._S,e=this._i,r=this._j,n=0,s=0;s<4;s++){r=(r+t[e=(e+1)%256])%256;var i=t[e];t[e]=t[r],t[r]=i,n|=t[(t[e]+t[r])%256]<<24-8*s}return this._i=e,this._j=r,n}t.RC4=e._createHelper(s);var o=r.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)i.call(this)}});t.RC4Drop=e._createHelper(o)}(),n.RC4)},706:function(t,e,r){var n;t.exports=(n=r(8249),function(t){var e=n,r=e.lib,s=r.WordArray,i=r.Hasher,o=e.algo,a=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),f=s.create([1352829926,1548603684,1836072691,2053994217,0]),d=o.RIPEMD160=i.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,s=t[n];t[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var i,o,d,S,w,b,E,T,I,A,D,k=this._hash.words,x=h.words,O=f.words,R=a.words,M=c.words,C=u.words,P=l.words;for(b=i=k[0],E=o=k[1],T=d=k[2],I=S=k[3],A=w=k[4],r=0;r<80;r+=1)D=i+t[e+R[r]]|0,D+=r<16?p(o,d,S)+x[0]:r<32?g(o,d,S)+x[1]:r<48?y(o,d,S)+x[2]:r<64?m(o,d,S)+x[3]:v(o,d,S)+x[4],D=(D=_(D|=0,C[r]))+w|0,i=w,w=S,S=_(d,10),d=o,o=D,D=b+t[e+M[r]]|0,D+=r<16?v(E,T,I)+O[0]:r<32?m(E,T,I)+O[1]:r<48?y(E,T,I)+O[2]:r<64?g(E,T,I)+O[3]:p(E,T,I)+O[4],D=(D=_(D|=0,P[r]))+A|0,b=A,A=I,I=_(T,10),T=E,E=D;D=k[1]+d+I|0,k[1]=k[2]+S+A|0,k[2]=k[3]+w+b|0,k[3]=k[4]+i+E|0,k[4]=k[0]+o+T|0,k[0]=D},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var s=this._hash,i=s.words,o=0;o<5;o++){var a=i[o];i[o]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return s},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,r){return t^e^r}function g(t,e,r){return t&e|~t&r}function y(t,e,r){return(t|~e)^r}function m(t,e,r){return t&r|e&~r}function v(t,e,r){return t^(e|~r)}function _(t,e){return t<<e|t>>>32-e}e.RIPEMD160=i._createHelper(d),e.HmacRIPEMD160=i._createHmacHelper(d)}(),n.RIPEMD160)},2783:function(t,e,r){var n,s,i,o,a,c,u,l;t.exports=(l=r(8249),s=(n=l).lib,i=s.WordArray,o=s.Hasher,a=n.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],s=r[1],i=r[2],o=r[3],a=r[4],u=0;u<80;u++){if(u<16)c[u]=0|t[e+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var h=(n<<5|n>>>27)+a+c[u];h+=u<20?1518500249+(s&i|~s&o):u<40?1859775393+(s^i^o):u<60?(s&i|s&o|i&o)-1894007588:(s^i^o)-899497514,a=o,o=i,i=s<<30|s>>>2,s=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+s|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u),l.SHA1)},7792:function(t,e,r){var n,s,i,o,a,c;t.exports=(c=r(8249),r(2153),s=(n=c).lib.WordArray,i=n.algo,o=i.SHA256,a=i.SHA224=o.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=o._createHelper(a),n.HmacSHA224=o._createHmacHelper(a),c.SHA224)},2153:function(t,e,r){var n;t.exports=(n=r(8249),function(t){var e=n,r=e.lib,s=r.WordArray,i=r.Hasher,o=e.algo,a=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,s=0;s<64;)e(n)&&(s<8&&(a[s]=r(t.pow(n,.5))),c[s]=r(t.pow(n,1/3)),s++),n++}();var u=[],l=o.SHA256=i.extend({_doReset:function(){this._hash=new s.init(a.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],s=r[1],i=r[2],o=r[3],a=r[4],l=r[5],h=r[6],f=r[7],d=0;d<64;d++){if(d<16)u[d]=0|t[e+d];else{var p=u[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,y=u[d-2],m=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;u[d]=g+u[d-7]+m+u[d-16]}var v=n&s^n&i^s&i,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),S=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&h)+c[d]+u[d];f=h,h=l,l=a,a=o+S|0,o=i,i=s,s=n,n=S+(_+v)|0}r[0]=r[0]+n|0,r[1]=r[1]+s|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+a|0,r[5]=r[5]+l|0,r[6]=r[6]+h|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;return r[s>>>5]|=128<<24-s%32,r[14+(s+64>>>9<<4)]=t.floor(n/4294967296),r[15+(s+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(l),e.HmacSHA256=i._createHmacHelper(l)}(Math),n.SHA256)},3327:function(t,e,r){var n;t.exports=(n=r(8249),r(4938),function(t){var e=n,r=e.lib,s=r.WordArray,i=r.Hasher,o=e.x64.Word,a=e.algo,c=[],u=[],l=[];!function(){for(var t=1,e=0,r=0;r<24;r++){c[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var s=1,i=0;i<24;i++){for(var a=0,h=0,f=0;f<7;f++){if(1&s){var d=(1<<f)-1;d<32?h^=1<<d:a^=1<<d-32}128&s?s=s<<1^113:s<<=1}l[i]=o.create(a,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=o.create()}();var f=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,s=0;s<n;s++){var i=t[e+2*s],o=t[e+2*s+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(k=r[s]).high^=o,k.low^=i}for(var a=0;a<24;a++){for(var f=0;f<5;f++){for(var d=0,p=0,g=0;g<5;g++)d^=(k=r[f+5*g]).high,p^=k.low;var y=h[f];y.high=d,y.low=p}for(f=0;f<5;f++){var m=h[(f+4)%5],v=h[(f+1)%5],_=v.high,S=v.low;for(d=m.high^(_<<1|S>>>31),p=m.low^(S<<1|_>>>31),g=0;g<5;g++)(k=r[f+5*g]).high^=d,k.low^=p}for(var w=1;w<25;w++){var b=(k=r[w]).high,E=k.low,T=c[w];T<32?(d=b<<T|E>>>32-T,p=E<<T|b>>>32-T):(d=E<<T-32|b>>>64-T,p=b<<T-32|E>>>64-T);var I=h[u[w]];I.high=d,I.low=p}var A=h[0],D=r[0];for(A.high=D.high,A.low=D.low,f=0;f<5;f++)for(g=0;g<5;g++){var k=r[w=f+5*g],x=h[w],O=h[(f+1)%5+5*g],R=h[(f+2)%5+5*g];k.high=x.high^~O.high&R.high,k.low=x.low^~O.low&R.low}k=r[0];var M=l[a];k.high^=M.high,k.low^=M.low}},_doFinalize:function(){var e=this._data,r=e.words;this._nDataBytes;var n=8*e.sigBytes,i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/i)*i>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var o=this._state,a=this.cfg.outputLength/8,c=a/8,u=[],l=0;l<c;l++){var h=o[l],f=h.high,d=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(d),u.push(f)}return new s.init(u,a)},clone:function(){for(var t=i.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=i._createHelper(f),e.HmacSHA3=i._createHmacHelper(f)}(Math),n.SHA3)},7460:function(t,e,r){var n,s,i,o,a,c,u,l;t.exports=(l=r(8249),r(4938),r(34),s=(n=l).x64,i=s.Word,o=s.WordArray,a=n.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u),l.SHA384)},34:function(t,e,r){var n;t.exports=(n=r(8249),r(4938),function(){var t=n,e=t.lib.Hasher,r=t.x64,s=r.Word,i=r.WordArray,o=t.algo;function a(){return s.create.apply(s,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=a()}();var l=o.SHA512=e.extend({_doReset:function(){this._hash=new i.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],s=r[1],i=r[2],o=r[3],a=r[4],l=r[5],h=r[6],f=r[7],d=n.high,p=n.low,g=s.high,y=s.low,m=i.high,v=i.low,_=o.high,S=o.low,w=a.high,b=a.low,E=l.high,T=l.low,I=h.high,A=h.low,D=f.high,k=f.low,x=d,O=p,R=g,M=y,C=m,P=v,B=_,N=S,L=w,U=b,q=E,j=T,F=I,H=A,V=D,K=k,$=0;$<80;$++){var z,W,J=u[$];if($<16)W=J.high=0|t[e+2*$],z=J.low=0|t[e+2*$+1];else{var G=u[$-15],Y=G.high,Z=G.low,Q=(Y>>>1|Z<<31)^(Y>>>8|Z<<24)^Y>>>7,X=(Z>>>1|Y<<31)^(Z>>>8|Y<<24)^(Z>>>7|Y<<25),tt=u[$-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,st=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),it=u[$-7],ot=it.high,at=it.low,ct=u[$-16],ut=ct.high,lt=ct.low;W=(W=(W=Q+ot+((z=X+at)>>>0<X>>>0?1:0))+nt+((z+=st)>>>0<st>>>0?1:0))+ut+((z+=lt)>>>0<lt>>>0?1:0),J.high=W,J.low=z}var ht,ft=L&q^~L&F,dt=U&j^~U&H,pt=x&R^x&C^R&C,gt=O&M^O&P^M&P,yt=(x>>>28|O<<4)^(x<<30|O>>>2)^(x<<25|O>>>7),mt=(O>>>28|x<<4)^(O<<30|x>>>2)^(O<<25|x>>>7),vt=(L>>>14|U<<18)^(L>>>18|U<<14)^(L<<23|U>>>9),_t=(U>>>14|L<<18)^(U>>>18|L<<14)^(U<<23|L>>>9),St=c[$],wt=St.high,bt=St.low,Et=V+vt+((ht=K+_t)>>>0<K>>>0?1:0),Tt=mt+gt;V=F,K=H,F=q,H=j,q=L,j=U,L=B+(Et=(Et=(Et=Et+ft+((ht+=dt)>>>0<dt>>>0?1:0))+wt+((ht+=bt)>>>0<bt>>>0?1:0))+W+((ht+=z)>>>0<z>>>0?1:0))+((U=N+ht|0)>>>0<N>>>0?1:0)|0,B=C,N=P,C=R,P=M,R=x,M=O,x=Et+(yt+pt+(Tt>>>0<mt>>>0?1:0))+((O=ht+Tt|0)>>>0<ht>>>0?1:0)|0}p=n.low=p+O,n.high=d+x+(p>>>0<O>>>0?1:0),y=s.low=y+M,s.high=g+R+(y>>>0<M>>>0?1:0),v=i.low=v+P,i.high=m+C+(v>>>0<P>>>0?1:0),S=o.low=S+N,o.high=_+B+(S>>>0<N>>>0?1:0),b=a.low=b+U,a.high=w+L+(b>>>0<U>>>0?1:0),T=l.low=T+j,l.high=E+q+(T>>>0<j>>>0?1:0),A=h.low=A+H,h.high=I+F+(A>>>0<H>>>0?1:0),k=f.low=k+K,f.high=D+V+(k>>>0<K>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),n.SHA512)},4253:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib,r=e.WordArray,s=e.BlockCipher,i=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=i.DES=s.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=o[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var s=this._subKeys=[],i=0;i<16;i++){var u=s[i]=[],l=c[i];for(r=0;r<24;r++)u[r/6|0]|=e[(a[r]-1+l)%28]<<31-r%6,u[4+(r/6|0)]|=e[28+(a[r+24]-1+l)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=s[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],f.call(this,4,252645135),f.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),f.call(this,1,1431655765);for(var n=0;n<16;n++){for(var s=r[n],i=this._lBlock,o=this._rBlock,a=0,c=0;c<8;c++)a|=u[c][((o^s[c])&l[c])>>>0];this._lBlock=o,this._rBlock=i^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,f.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function d(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=s._createHelper(h);var p=i.TripleDES=s.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),n=t.length<4?t.slice(0,2):t.slice(2,4),s=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=h.createEncryptor(r.create(e)),this._des2=h.createEncryptor(r.create(n)),this._des3=h.createEncryptor(r.create(s))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=s._createHelper(p)}(),n.TripleDES)},4938:function(t,e,r){var n,s,i,o,a,c,u;t.exports=(u=r(8249),i=(s=u).lib,o=i.Base,a=i.WordArray,(c=s.x64={}).Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),c.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=n?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var s=t[n];r.push(s.high),r.push(s.low)}return a.create(r,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}}),u)},4198:(t,e)=>{var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorCode=void 0,(r=e.ErrorCode||(e.ErrorCode={}))[r.SUCCESS=0]="SUCCESS",r[r.CLIENT_ID_NOT_FOUND=1]="CLIENT_ID_NOT_FOUND",r[r.OPERATION_TOO_OFTEN=2]="OPERATION_TOO_OFTEN",r[r.REPEAT_MESSAGE=3]="REPEAT_MESSAGE",r[r.TIME_OUT=4]="TIME_OUT"},9021:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const s=n(r(6893)),i=n(r(7555)),o=n(r(6379)),a=n(r(529));var c,u;(u=c||(c={})).setDebugMode=function(t){a.default.debugMode=t,a.default.info(`setDebugMode: ${t}`)},u.init=function(t){try{i.default.init(t)}catch(e){a.default.error("init error",e)}},u.setSocketServer=function(t){try{if(!t.url)throw new Error("invalid url");if(!t.key||!t.keyId)throw new Error("invalid key or keyId");o.default.socketUrl=t.url,o.default.publicKeyId=t.keyId,o.default.publicKey=t.key}catch(e){a.default.error("setSocketServer error",e)}},u.enableSocket=function(t){try{i.default.enableSocket(t)}catch(e){a.default.error("enableSocket error",e)}},u.getVersion=function(){return s.default.SDK_VERSION},t.exports=c},9478:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(496)),i=n(r(3555)),o=n(r(1929)),a=n(r(4379)),c=n(r(6899)),u=n(r(776)),l=n(r(2002)),h=n(r(5807)),f=n(r(9704)),d=n(r(6545)),p=n(r(3680)),g=n(r(7706)),y=n(r(4486)),m=n(r(5867)),v=n(r(7006));var _;!function(t){let e,r,n;function _(){"undefined"!=typeof uni?(e=new d.default,r=new p.default,n=new g.default):"undefined"!=typeof tt?(e=new l.default,r=new h.default,n=new f.default):"undefined"!=typeof my?(e=new s.default,r=new i.default,n=new o.default):"undefined"!=typeof wx?(e=new y.default,r=new m.default,n=new v.default):"undefined"!=typeof window&&(e=new a.default,r=new c.default,n=new u.default)}t.getDevice=function(){return e||_(),e},t.getStorage=function(){return r||_(),r},t.getWebSocket=function(){return n||_(),n}}(_||(_={})),e.default=_},4685:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(9478));var i,o;(o=i||(i={})).os=function(){return s.default.getDevice().os()},o.osVersion=function(){return s.default.getDevice().osVersion()},o.model=function(){return s.default.getDevice().model()},o.brand=function(){return s.default.getDevice().brand()},o.platform=function(){return s.default.getDevice().platform()},o.platformVersion=function(){return s.default.getDevice().platformVersion()},o.platformId=function(){return s.default.getDevice().platformId()},o.language=function(){return s.default.getDevice().language()},o.userAgent=function(){let t=s.default.getDevice().userAgent;return t?t():""},o.getNetworkType=function(t){s.default.getDevice().getNetworkType(t)},o.onNetworkStatusChange=function(t){s.default.getDevice().onNetworkStatusChange(t)},e.default=i},7002:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(6379)),i=n(r(1386)),o=n(r(4054)),a=r(2918),c=n(r(7167)),u=n(r(529)),l=n(r(9478)),h=n(r(8506));var f;!function(t){let e,r=!1,n=!1,f=!1,d=[],p=0;function g(){return r&&n}function y(e=0){t.allowReconnect&&_()&&setTimeout((function(){m()}),e)}function m(){if(t.allowReconnect=!0,!_())return;if(!function(){var t=d.length;let e=(new Date).getTime();if(t>0)for(var r=t-1;r>=0;r--)if(e-d[r]>5e3){d.splice(0,r+1);break}return t=d.length,d.push(e),!(t>=10&&(u.default.error("connect failed, connection limit reached"),1))}())return;f=!0;let r=s.default.socketUrl;try{let t=h.default.getSync(h.default.KEY_REDIRECT_SERVER,"");if(t){let e=a.RedirectServerData.parse(t),n=e.addressList[0].split(","),s=n[0],i=Number(n[1]);(new Date).getTime()-e.time<1e3*i&&(r=s)}}catch(i){}e=l.default.getWebSocket().connect({url:r,success:function(){n=!0,v()},fail:function(){n=!1,w(),y(100)}}),e.onOpen(b),e.onClose(I),e.onError(T),e.onMessage(E)}function v(){n&&r&&(f=!1,i.default.create().send(),c.default.getInstance().start())}function _(){return s.default.networkConnected?f?(u.default.warn("connecting"),!1):!g()||(u.default.warn("already connected"),!1):(u.default.error("connect failed, network is not available"),!1)}function S(t=""){null==e||e.close({code:1e3,reason:t,success:function(t){},fail:function(t){}}),w()}function w(t){var e;n=!1,r=!1,f=!1,c.default.getInstance().cancel(),s.default.online&&(s.default.online=!1,null===(e=s.default.onlineState)||void 0===e||e.call(s.default.onlineState,{online:s.default.online}))}t.allowReconnect=!0,t.isAvailable=g,t.enableSocket=function(e){let r=(new Date).getTime();r-p<1e3?u.default.warn(`enableSocket ${e} fail: this function can only be called once a second`):(p=r,t.allowReconnect=e,e?t.reconnect(10):t.close(`enableSocket ${e}`))},t.reconnect=y,t.connect=m,t.close=S,t.send=function(t){if(!r||!r)throw new Error("socket not connect");null==e||e.send({data:t,success:function(t){},fail:function(t){}})};let b=function(t){r=!0,v()},E=function(t){try{t.data,c.default.getInstance().refresh(),o.default.receiveMessage(t.data)}catch(e){}},T=function(t){S("socket error")},I=function(t){w()}}(f||(f={})),e.default=f},8506:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(9478));var i,o;(o=i||(i={})).KEY_APPID="getui_appid",o.KEY_CID="getui_cid",o.KEY_SESSION="getui_session",o.KEY_REGID="getui_regid",o.KEY_SOCKET_URL="getui_socket_url",o.KEY_DEVICE_ID="getui_deviceid",o.KEY_ADD_PHONE_INFO_TIME="getui_api_time",o.KEY_BIND_ALIAS_TIME="getui_ba_time",o.KEY_SET_TAG_TIME="getui_st_time",o.KEY_REDIRECT_SERVER="getui_redirect_server",o.KEY_LAST_CONNECT_TIME="getui_last_connect_time",o.set=function(t){s.default.getStorage().set(t)},o.setSync=function(t,e){s.default.getStorage().setSync(t,e)},o.get=function(t){s.default.getStorage().get(t)},o.getSync=function(t,e){let r=s.default.getStorage().getSync(t);return r||e},e.default=i},496:t=>{t.exports=class{constructor(){this.systemInfo=my.getSystemInfoSync()}os(){var t;return null===(t=this.systemInfo)||void 0===t?void 0:t.platform}osVersion(){var t;return null===(t=this.systemInfo)||void 0===t?void 0:t.system}model(){var t;return null===(t=this.systemInfo)||void 0===t?void 0:t.model}brand(){var t;return null===(t=this.systemInfo)||void 0===t?void 0:t.brand}platform(){return"MP-ALIPAY"}platformVersion(){return this.systemInfo.app+" "+this.systemInfo.version}platformId(){return my.getAppIdSync()}language(){var t;return null===(t=this.systemInfo)||void 0===t?void 0:t.language}getNetworkType(t){my.getNetworkType({success:e=>{var r;null===(r=t.success)||void 0===r||r.call(t.success,{networkType:e.networkType})},fail:()=>{var e;null===(e=t.fail)||void 0===e||e.call(t.fail,"")}})}onNetworkStatusChange(t){my.onNetworkStatusChange(t)}}},3555:t=>{t.exports=class{set(t){my.setStorage({key:t.key,data:t.data,success:t.success,fail:t.fail})}setSync(t,e){my.setStorageSync({key:t,data:e})}get(t){my.getStorage({key:t.key,success:t.success,fail:t.fail,complete:t.complete})}getSync(t){return my.getStorageSync({key:t}).data}}},1929:t=>{t.exports=class{connect(t){return my.connectSocket({url:t.url,header:t.header,method:t.method,success:t.success,fail:t.fail,complete:t.complete}),{onOpen:my.onSocketOpen,send:my.sendSocketMessage,onMessage:t=>{my.onSocketMessage.call(my.onSocketMessage,(e=>{t.call(t,{data:e?e.data:""})}))},onError:my.onSocketError,onClose:my.onSocketClose,close:my.closeSocket}}}},4379:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{os(){let t=window.navigator.userAgent.toLowerCase();return t.indexOf("android")>0||t.indexOf("adr")>0?"android":t.match(/\(i[^;]+;( u;)? cpu.+mac os x/)?"ios":t.indexOf("windows")>0||t.indexOf("win32")>0||t.indexOf("win64")>0?"windows":t.indexOf("macintosh")>0||t.indexOf("mac os")>0?"mac os":t.indexOf("linux")>0||t.indexOf("unix")>0?"linux":"other"}osVersion(){let t=window.navigator.userAgent.toLowerCase(),e=t.substring(t.indexOf(";")+1).trim();return e.indexOf(";")>0?e.substring(0,e.indexOf(";")).trim():e.substring(0,e.indexOf(")")).trim()}model(){return""}brand(){return""}platform(){return"H5"}platformVersion(){return""}platformId(){return""}language(){return window.navigator.language}userAgent(){return window.navigator.userAgent}getNetworkType(t){var e;null===(e=t.success)||void 0===e||e.call(t.success,{networkType:window.navigator.onLine?"unknown":"none"})}onNetworkStatusChange(t){}}},6899:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{set(t){var e;window.localStorage.setItem(t.key,t.data),null===(e=t.success)||void 0===e||e.call(t.success,"")}setSync(t,e){window.localStorage.setItem(t,e)}get(t){var e;let r=window.localStorage.getItem(t.key);null===(e=t.success)||void 0===e||e.call(t.success,r)}getSync(t){return window.localStorage.getItem(t)}}},776:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{connect(t){let e=new WebSocket(t.url);return{send:t=>{var r,n;try{e.send(t.data),null===(r=t.success)||void 0===r||r.call(t.success,{errMsg:""})}catch(s){null===(n=t.fail)||void 0===n||n.call(t.fail,{errMsg:s+""})}},close:t=>{var r,n;try{e.close(t.code,t.reason),null===(r=t.success)||void 0===r||r.call(t.success,{errMsg:""})}catch(s){null===(n=t.fail)||void 0===n||n.call(t.fail,{errMsg:s+""})}},onOpen:r=>{e.onopen=e=>{var n;null===(n=t.success)||void 0===n||n.call(t.success,""),r({header:""})}},onError:r=>{e.onerror=e=>{var n;null===(n=t.fail)||void 0===n||n.call(t.fail,""),r({errMsg:""})}},onMessage:t=>{e.onmessage=e=>{t({data:e.data})}},onClose:t=>{e.onclose=e=>{t(e)}}}}}},2002:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.systemInfo=tt.getSystemInfoSync()}os(){return this.systemInfo.platform}osVersion(){return this.systemInfo.system}model(){return this.systemInfo.model}brand(){return this.systemInfo.brand}platform(){return"MP-TOUTIAO"}platformVersion(){return this.systemInfo.appName+" "+this.systemInfo.version}language(){return""}platformId(){return""}getNetworkType(t){tt.getNetworkType(t)}onNetworkStatusChange(t){tt.onNetworkStatusChange(t)}}},5807:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{set(t){tt.setStorage(t)}setSync(t,e){tt.setStorageSync(t,e)}get(t){tt.getStorage(t)}getSync(t){return tt.getStorageSync(t)}}},9704:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{connect(t){let e=tt.connectSocket({url:t.url,header:t.header,protocols:t.protocols,success:t.success,fail:t.fail,complete:t.complete});return{onOpen:e.onOpen,send:e.send,onMessage:e.onMessage,onError:e.onError,onClose:e.onClose,close:e.close}}}},6545:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){try{this.systemInfo=uni.getSystemInfoSync(),this.accountInfo=uni.getAccountInfoSync()}catch(t){}}os(){return this.systemInfo?this.systemInfo.platform:""}model(){return this.systemInfo?this.systemInfo.model:""}brand(){var t;return(null===(t=this.systemInfo)||void 0===t?void 0:t.brand)?this.systemInfo.brand:""}osVersion(){return this.systemInfo?this.systemInfo.system:""}platform(){let t="";return t="APP-PLUS","APP-PLUS"}platformVersion(){return this.systemInfo?this.systemInfo.version:""}platformId(){return this.accountInfo?this.accountInfo.miniProgram.appId:""}language(){var t;return(null===(t=this.systemInfo)||void 0===t?void 0:t.language)?this.systemInfo.language:""}userAgent(){return window?window.navigator.userAgent:""}getNetworkType(t){uni.getNetworkType(t)}onNetworkStatusChange(t){uni.onNetworkStatusChange(t)}}},3680:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{set(t){uni.setStorage(t)}setSync(t,e){uni.setStorageSync(t,e)}get(t){uni.getStorage(t)}getSync(t){return uni.getStorageSync(t)}}},7706:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{connect(t){let e=uni.connectSocket(t);return{send:t=>{null==e||e.send(t)},close:t=>{null==e||e.close(t)},onOpen:t=>{null==e||e.onOpen(t)},onError:t=>{null==e||e.onError(t)},onMessage:t=>{null==e||e.onMessage(t)},onClose:t=>{null==e||e.onClose(t)}}}}},4486:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.systemInfo=wx.getSystemInfoSync()}os(){return this.systemInfo.platform}osVersion(){return this.systemInfo.system}model(){return this.systemInfo.model}brand(){return this.systemInfo.brand}platform(){return"MP-WEIXIN"}platformVersion(){return this.systemInfo.version}language(){return this.systemInfo.language}platformId(){return wx.canIUse("getAccountInfoSync")?wx.getAccountInfoSync().miniProgram.appId:""}getNetworkType(t){wx.getNetworkType({success:e=>{var r;null===(r=t.success)||void 0===r||r.call(t.success,{networkType:e.networkType})},fail:t.fail})}onNetworkStatusChange(t){wx.onNetworkStatusChange(t)}}},5867:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{set(t){wx.setStorage(t)}setSync(t,e){wx.setStorageSync(t,e)}get(t){wx.getStorage(t)}getSync(t){return wx.getStorageSync(t)}}},7006:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{connect(t){let e=wx.connectSocket({url:t.url,header:t.header,protocols:t.protocols,success:t.success,fail:t.fail,complete:t.complete});return{onOpen:e.onOpen,send:e.send,onMessage:e.onMessage,onError:e.onError,onClose:e.onClose,close:e.close}}}},6893:(t,e)=>{var r,n;Object.defineProperty(e,"__esModule",{value:!0}),(n=r||(r={})).SDK_VERSION="GTMP-2.0.3.dcloud",n.DEFAULT_SOCKET_URL="wss://wshzn.gepush.com:5223/nws",n.SOCKET_PROTOCOL_VERSION="1.0",n.SERVER_PUBLIC_KEY="MHwwDQYJKoZIhvcNAQEBBQADawAwaAJhAJp1rROuvBF7sBSnvLaesj2iFhMcY8aXyLvpnNLKs2wjL3JmEnyr++SlVa35liUlzi83tnAFkn3A9GB7pHBNzawyUkBh8WUhq5bnFIkk2RaDa6+5MpG84DEv52p7RR+aWwIDAQAB",n.SERVER_PUBLIC_KEY_ID="69d747c4b9f641baf4004be4297e9f3b",n.ID_U_2_G=!0,e.default=r},7555:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(7002)),i=n(r(529)),o=n(r(6379));class a{static init(t){var e;if(!this.inited)try{this.checkAppid(t.appid),this.inited=!0,i.default.info(`init: appid=${t.appid}`),o.default.init(t),s.default.connect()}catch(r){throw this.inited=!1,null===(e=t.onError)||void 0===e||e.call(t.onError,{error:r}),r}}static enableSocket(t){this.checkInit(),s.default.enableSocket(t)}static checkInit(){if(!this.inited)throw new Error("not init, please invoke init method firstly")}static checkAppid(t){if(null==t||null==t||""==t.trim())throw new Error(`invalid appid ${t}`)}}a.inited=!1,e.default=a},6379:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(6667)),i=n(r(8506)),o=n(r(6893)),a=n(r(7002)),c=n(r(529)),u=n(r(4685)),l=n(r(2323));class h{static init(t){var e;o.default.ID_U_2_G?this.appid=l.default.to_getui(t.appid):this.appid=t.appid,this.onError=t.onError,this.onClientId=t.onClientId,this.onlineState=t.onlineState,this.onPushMsg=t.onPushMsg,this.appid!=i.default.getSync(i.default.KEY_APPID,this.appid)&&(c.default.info("appid changed, clear session and cid"),i.default.setSync(i.default.KEY_CID,""),i.default.setSync(i.default.KEY_SESSION,"")),i.default.setSync(i.default.KEY_APPID,this.appid),this.cid=i.default.getSync(i.default.KEY_CID,this.cid),this.cid&&(null===(e=this.onClientId)||void 0===e||e.call(this.onClientId,{cid:h.cid})),this.session=i.default.getSync(i.default.KEY_SESSION,this.session),this.deviceId=i.default.getSync(i.default.KEY_DEVICE_ID,this.deviceId),this.regId=i.default.getSync(i.default.KEY_REGID,this.regId),this.regId||(this.regId=this.createRegId(),i.default.set({key:i.default.KEY_REGID,data:this.regId})),this.socketUrl=i.default.getSync(i.default.KEY_SOCKET_URL,this.socketUrl);let r=this;u.default.getNetworkType({success:t=>{r.networkType=t.networkType,r.networkConnected="none"!=r.networkType&&""!=r.networkType}}),u.default.onNetworkStatusChange((t=>{r.networkConnected=t.isConnected,r.networkType=t.networkType,r.networkConnected&&a.default.reconnect(100)}))}static createRegId(){return`M-V${s.default.md5Hex(this.getUuid())}-${(new Date).getTime()}`}static getUuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}}h.appid="",h.cid="",h.regId="",h.session="",h.deviceId="",h.packetId=1,h.online=!1,h.socketUrl=o.default.DEFAULT_SOCKET_URL,h.publicKeyId=o.default.SERVER_PUBLIC_KEY_ID,h.publicKey=o.default.SERVER_PUBLIC_KEY,h.lastAliasTime=0,h.networkConnected=!0,h.networkType="none",e.default=h},9586:function(t,e,r){var n,s,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(r(661)),a=r(4198),c=i(r(6379));class u extends o.default{constructor(){super(...arguments),this.actionMsgData=new l}static initActionMsg(t,...e){return super.initMsg(t),t.command=o.default.Command.CLIENT_MSG,t.data=t.actionMsgData=l.create(),t}static parseActionMsg(t,e){return super.parseMsg(t,e),t.actionMsgData=l.parse(t.data),t}send(){setTimeout((()=>{var t;(u.waitingLoginMsgMap.has(this.actionMsgData.msgId)||u.waitingResponseMsgMap.has(this.actionMsgData.msgId))&&(u.waitingLoginMsgMap.delete(this.actionMsgData.msgId),u.waitingResponseMsgMap.delete(this.actionMsgData.msgId),null===(t=this.callback)||void 0===t||t.call(this.callback,{resultCode:a.ErrorCode.TIME_OUT,message:"waiting time out"}))}),1e4),c.default.online?(this.actionMsgData.msgAction!=u.ClientAction.RECEIVED&&u.waitingResponseMsgMap.set(this.actionMsgData.msgId,this),super.send()):u.waitingLoginMsgMap.set(this.actionMsgData.msgId,this)}receive(){}static sendWaitingMessages(){let t,e=this.waitingLoginMsgMap.keys();for(;t=e.next(),!t.done;){let e=this.waitingLoginMsgMap.get(t.value);this.waitingLoginMsgMap.delete(t.value),null==e||e.send()}}static getWaitingResponseMessage(t){return u.waitingResponseMsgMap.get(t)}static removeWaitingResponseMessage(t){let e=u.waitingResponseMsgMap.get(t);return e&&u.waitingResponseMsgMap.delete(t),e}}u.ServerAction=((n=class{}).PUSH_MESSAGE="pushmessage",n.REDIRECT_SERVER="redirect_server",n.ADD_PHONE_INFO_RESULT="addphoneinfo",n.SET_MODE_RESULT="set_mode_result",n.SET_TAG_RESULT="settag_result",n.BIND_ALIAS_RESULT="response_bind",n.UNBIND_ALIAS_RESULT="response_unbind",n.FEED_BACK_RESULT="pushmessage_feedback",n.RECEIVED="received",n),u.ClientAction=((s=class{}).ADD_PHONE_INFO="addphoneinfo",s.SET_MODE="set_mode",s.FEED_BACK="pushmessage_feedback",s.SET_TAGS="set_tag",s.BIND_ALIAS="bind_alias",s.UNBIND_ALIAS="unbind_alias",s.RECEIVED="received",s),u.waitingLoginMsgMap=new Map,u.waitingResponseMsgMap=new Map;class l{constructor(){this.appId="",this.cid="",this.msgId="",this.msgAction="",this.msgData="",this.msgExtraData=""}static create(){let t=new l;return t.appId=c.default.appid,t.cid=c.default.cid,t.msgId=(2147483647&(new Date).getTime()).toString(),t}static parse(t){let e=new l,r=JSON.parse(t);return e.appId=r.appId,e.cid=r.cid,e.msgId=r.msgId,e.msgAction=r.msgAction,e.msgData=r.msgData,e.msgExtraData=r.msgExtraData,e}}e.default=u},4516:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(4685)),i=n(r(8506)),o=n(r(6893)),a=r(4198),c=n(r(9586)),u=n(r(6379));class l extends c.default{constructor(){super(...arguments),this.addPhoneInfoData=new h}static create(){let t=new l;return super.initActionMsg(t),t.callback=e=>{e.resultCode!=a.ErrorCode.SUCCESS&&e.resultCode!=a.ErrorCode.REPEAT_MESSAGE?setTimeout((function(){t.send()}),3e4):i.default.set({key:i.default.KEY_ADD_PHONE_INFO_TIME,data:(new Date).getTime()})},t.actionMsgData.msgAction=c.default.ClientAction.ADD_PHONE_INFO,t.addPhoneInfoData=h.create(),t.actionMsgData.msgData=JSON.stringify(t.addPhoneInfoData),t}send(){(new Date).getTime()-i.default.getSync(i.default.KEY_ADD_PHONE_INFO_TIME,0)<864e5||super.send()}}class h{constructor(){this.model="",this.brand="",this.system_version="",this.version="",this.deviceid="",this.type=""}static create(){let t=new h;return t.model=s.default.model(),t.brand=s.default.brand(),t.system_version=s.default.osVersion(),t.version=o.default.SDK_VERSION,t.device_token="",t.imei="",t.oaid="",t.mac="",t.idfa="",t.type="MINIPROGRAM",t.deviceid=`${t.type}-${u.default.deviceId}`,t.extra={os:s.default.os(),platform:s.default.platform(),platformVersion:s.default.platformVersion(),platformId:s.default.platformId(),language:s.default.language(),userAgent:s.default.userAgent()},t}}e.default=l},8723:function(t,e,r){var n,s,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(r(6379)),a=r(4198),c=i(r(9586));class u extends c.default{constructor(){super(...arguments),this.feedbackData=new l}static create(t,e){let r=new u;return super.initActionMsg(r),r.callback=t=>{t.resultCode!=a.ErrorCode.SUCCESS&&t.resultCode!=a.ErrorCode.REPEAT_MESSAGE&&setTimeout((function(){r.send()}),3e4)},r.feedbackData=l.create(t,e),r.actionMsgData.msgAction=c.default.ClientAction.FEED_BACK,r.actionMsgData.msgData=JSON.stringify(r.feedbackData),r}send(){super.send()}}u.ActionId=((n=class{}).RECEIVE="0",n.MP_RECEIVE="210000",n.WEB_RECEIVE="220000",n.BEGIN="1",n),u.RESULT=((s=class{}).OK="ok",s);class l{constructor(){this.messageid="",this.appkey="",this.appid="",this.taskid="",this.actionid="",this.result="",this.timestamp=""}static create(t,e){let r=new l;return r.messageid=t.pushMessageData.messageid,r.appkey=t.pushMessageData.appKey,r.appid=o.default.appid,r.taskid=t.pushMessageData.taskId,r.actionid=e,r.result=u.RESULT.OK,r.timestamp=(new Date).getTime().toString(),r}}e.default=u},6362:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(661));class i extends s.default{static create(){let t=new i;return super.initMsg(t),t.command=s.default.Command.HEART_BEAT,t}}e.default=i},1386:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(6667)),i=n(r(6379)),o=n(r(661));class a extends o.default{constructor(){super(...arguments),this.keyNegotiateData=new c}static create(){let t=new a;return super.initMsg(t),t.command=o.default.Command.KEY_NEGOTIATE,s.default.resetKey(),t.data=t.keyNegotiateData=c.create(),t}send(){super.send()}}class c{constructor(){this.appId="",this.rsaPublicKeyId="",this.algorithm="",this.secretKey="",this.iv=""}static create(){let t=new c;return t.appId=i.default.appid,t.rsaPublicKeyId=i.default.publicKeyId,t.algorithm="AES",t.secretKey=s.default.getEncryptedSecretKey(),t.iv=s.default.getEncryptedIV(),t}}e.default=a},1280:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(661)),i=n(r(6667)),o=n(r(8858)),a=n(r(529)),c=n(r(6379));class u extends s.default{constructor(){super(...arguments),this.keyNegotiateResultData=new l}static parse(t){let e=new u;return super.parseMsg(e,t),e.keyNegotiateResultData=l.parse(e.data),e}receive(){var t,e;if(0!=this.keyNegotiateResultData.errorCode)return a.default.error(`key negotiate fail: ${this.data}`),void(null===(t=c.default.onError)||void 0===t||t.call(c.default.onError,{error:`key negotiate fail: ${this.data}`}));let r=this.keyNegotiateResultData.encryptType.split("/");if(!i.default.algorithmMap.has(r[0].trim().toLowerCase())||!i.default.modeMap.has(r[1].trim().toLowerCase())||!i.default.paddingMap.has(r[2].trim().toLowerCase()))return a.default.error(`key negotiate fail: ${this.data}`),void(null===(e=c.default.onError)||void 0===e||e.call(c.default.onError,{error:`key negotiate fail: ${this.data}`}));i.default.setEncryptParams(r[0].trim().toLowerCase(),r[1].trim().toLowerCase(),r[2].trim().toLowerCase()),o.default.create().send()}}class l{constructor(){this.errorCode=-1,this.errorMsg="",this.encryptType=""}static parse(t){let e=new l,r=JSON.parse(t);return e.errorCode=r.errorCode,e.errorMsg=r.errorMsg,e.encryptType=r.encryptType,e}}e.default=u},8858:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(6379)),i=n(r(6667)),o=n(r(661)),a=n(r(4534));class c extends o.default{constructor(){super(...arguments),this.loginData=new u}static create(){let t=new c;return super.initMsg(t),t.command=o.default.Command.LOGIN,t.data=t.loginData=u.create(),t}send(){this.loginData.session&&s.default.cid==i.default.md5Hex(this.loginData.session)?super.send():a.default.create().send()}}class u{constructor(){this.appId="",this.session=""}static create(){let t=new u;return t.appId=s.default.appid,t.session=s.default.session,t}}e.default=c},1606:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(8506)),i=n(r(661)),o=n(r(6379)),a=n(r(9586)),c=n(r(4516)),u=n(r(8858));class l extends i.default{constructor(){super(...arguments),this.loginResultData=new h}static parse(t){let e=new l;return super.parseMsg(e,t),e.loginResultData=h.parse(e.data),e}receive(){var t;if(0!=this.loginResultData.errorCode)return this.data,o.default.session=o.default.cid="",s.default.setSync(s.default.KEY_CID,""),s.default.setSync(s.default.KEY_SESSION,""),void u.default.create().send();o.default.online||(o.default.online=!0,null===(t=o.default.onlineState)||void 0===t||t.call(o.default.onlineState,{online:o.default.online})),a.default.sendWaitingMessages(),c.default.create().send()}}class h{constructor(){this.errorCode=-1,this.errorMsg="",this.session=""}static parse(t){let e=new h,r=JSON.parse(t);return e.errorCode=r.errorCode,e.errorMsg=r.errorMsg,e.session=r.session,e}}e.default=l},661:function(t,e,r){var n,s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(r(9593)),o=s(r(7002)),a=s(r(6893)),c=s(r(6379));class u{constructor(){this.version="",this.command=0,this.packetId=0,this.timeStamp=0,this.data="",this.signature=""}static initMsg(t,...e){return t.version=a.default.SOCKET_PROTOCOL_VERSION,t.command=0,t.timeStamp=(new Date).getTime(),t}static parseMsg(t,e){let r=JSON.parse(e);return t.version=r.version,t.command=r.command,t.packetId=r.packetId,t.timeStamp=r.timeStamp,t.data=r.data,t.signature=r.signature,t}stringify(){return JSON.stringify(this,["version","command","packetId","timeStamp","data","signature"])}send(){o.default.isAvailable()&&(this.packetId=c.default.packetId++,this.data=JSON.stringify(this.data),this.stringify(),this.command!=u.Command.HEART_BEAT&&(i.default.sign(this),this.data&&this.command!=u.Command.KEY_NEGOTIATE&&i.default.encrypt(this)),o.default.send(this.stringify()))}}u.Command=((n=class{}).HEART_BEAT=0,n.KEY_NEGOTIATE=1,n.KEY_NEGOTIATE_RESULT=16,n.REGISTER=2,n.REGISTER_RESULT=32,n.LOGIN=3,n.LOGIN_RESULT=48,n.LOGOUT=4,n.LOGOUT_RESULT=64,n.CLIENT_MSG=5,n.SERVER_MSG=80,n.SERVER_CLOSE=96,n.REDIRECT_SERVER=112,n),e.default=u},9593:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(6667));var i,o;(o=i||(i={})).encrypt=function(t){t.data=s.default.encrypt(t.data)},o.decrypt=function(t){t.data=s.default.decrypt(t.data)},o.sign=function(t){t.signature=s.default.sha256(`${t.timeStamp}${t.packetId}${t.command}${t.data}`)},o.verify=function(t){let e=s.default.sha256(`${t.timeStamp}${t.packetId}${t.command}${t.data}`);if(t.signature!=e)throw new Error("msg signature vierfy failed")},e.default=i},4054:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(1280)),i=n(r(1606)),o=n(r(661)),a=n(r(1277)),c=n(r(910)),u=n(r(9538)),l=n(r(9479)),h=n(r(6755)),f=n(r(2918)),d=n(r(9586)),p=n(r(9510)),g=n(r(4626)),y=n(r(7562)),m=n(r(9593)),v=n(r(9586)),_=n(r(9519)),S=n(r(8947));e.default=class{static receiveMessage(t){let e=o.default.parseMsg(new o.default,t);if(e.command!=o.default.Command.HEART_BEAT)switch(e.command!=o.default.Command.KEY_NEGOTIATE_RESULT&&e.command!=o.default.Command.SERVER_CLOSE&&e.command!=o.default.Command.REDIRECT_SERVER&&m.default.decrypt(e),e.command!=o.default.Command.SERVER_CLOSE&&e.command!=o.default.Command.REDIRECT_SERVER&&m.default.verify(e),e.command){case o.default.Command.KEY_NEGOTIATE_RESULT:s.default.parse(e.stringify()).receive();break;case o.default.Command.REGISTER_RESULT:a.default.parse(e.stringify()).receive();break;case o.default.Command.LOGIN_RESULT:i.default.parse(e.stringify()).receive();break;case o.default.Command.SERVER_MSG:this.receiveActionMsg(e.stringify());break;case o.default.Command.SERVER_CLOSE:S.default.parse(e.stringify()).receive();break;case o.default.Command.REDIRECT_SERVER:f.default.parse(e.stringify()).receive()}}static receiveActionMsg(t){let e=v.default.parseActionMsg(new v.default,t);if(e.actionMsgData.msgAction!=d.default.ServerAction.RECEIVED&&e.actionMsgData.msgAction!=d.default.ServerAction.REDIRECT_SERVER){let t=JSON.parse(e.actionMsgData.msgData);_.default.create(t.id).send()}switch(e.actionMsgData.msgAction){case d.default.ServerAction.PUSH_MESSAGE:h.default.parse(t).receive();break;case d.default.ServerAction.ADD_PHONE_INFO_RESULT:c.default.parse(t).receive();break;case d.default.ServerAction.SET_MODE_RESULT:p.default.parse(t).receive();break;case d.default.ServerAction.SET_TAG_RESULT:g.default.parse(t).receive();break;case d.default.ServerAction.BIND_ALIAS_RESULT:u.default.parse(t).receive();break;case d.default.ServerAction.UNBIND_ALIAS_RESULT:y.default.parse(t).receive();break;case d.default.ServerAction.FEED_BACK_RESULT:l.default.parse(t).receive();break;case d.default.ServerAction.RECEIVED:_.default.parse(t).receive()}}}},9519:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(4198),i=n(r(6379)),o=n(r(9586));class a extends o.default{constructor(){super(...arguments),this.receivedData=new c}static create(t){let e=new a;return super.initActionMsg(e),e.callback=t=>{t.resultCode!=s.ErrorCode.SUCCESS&&t.resultCode!=s.ErrorCode.REPEAT_MESSAGE&&setTimeout((function(){e.send()}),3e3)},e.actionMsgData.msgAction=o.default.ClientAction.RECEIVED,e.receivedData=c.create(t),e.actionMsgData.msgData=JSON.stringify(e.receivedData),e}static parse(t){let e=new a;return super.parseActionMsg(e,t),e.receivedData=c.parse(e.data),e}receive(){var t;let e=o.default.getWaitingResponseMessage(this.actionMsgData.msgId);(e&&e.actionMsgData.msgAction==o.default.ClientAction.ADD_PHONE_INFO||e&&e.actionMsgData.msgAction==o.default.ClientAction.FEED_BACK)&&(o.default.removeWaitingResponseMessage(e.actionMsgData.msgId),null===(t=e.callback)||void 0===t||t.call(e.callback,{resultCode:s.ErrorCode.SUCCESS,message:"received"}))}send(){super.send()}}class c{constructor(){this.msgId="",this.cid=""}static create(t){let e=new c;return e.cid=i.default.cid,e.msgId=t,e}static parse(t){let e=new c,r=JSON.parse(t);return e.cid=r.cid,e.msgId=r.msgId,e}}e.default=a},2918:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectServerData=void 0;const s=n(r(7002)),i=n(r(8506)),o=n(r(661));class a extends o.default{constructor(){super(...arguments),this.redirectServerData=new c}static parse(t){let e=new a;return super.parseMsg(e,t),e.redirectServerData=c.parse(e.data),e}receive(){this.redirectServerData,i.default.setSync(i.default.KEY_REDIRECT_SERVER,JSON.stringify(this.redirectServerData)),s.default.close("redirect server"),s.default.reconnect(this.redirectServerData.delay)}}class c{constructor(){this.addressList=[],this.delay=0,this.loc="",this.conf="",this.time=0}static parse(t){let e=new c,r=JSON.parse(t);return e.addressList=r.addressList,e.delay=r.delay,e.loc=r.loc,e.conf=r.conf,e.time=r.time?r.time:(new Date).getTime(),e}}e.RedirectServerData=c,e.default=a},4534:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(6379)),i=n(r(661));class o extends i.default{constructor(){super(...arguments),this.registerData=new a}static create(){let t=new o;return super.initMsg(t),t.command=i.default.Command.REGISTER,t.data=t.registerData=a.create(),t}send(){super.send()}}class a{constructor(){this.appId="",this.regId=""}static create(){let t=new a;return t.appId=s.default.appid,t.regId=s.default.regId,t}}e.default=o},1277:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(661)),i=n(r(8506)),o=n(r(6379)),a=n(r(8858)),c=n(r(529));class u extends s.default{constructor(){super(...arguments),this.registerResultData=new l}static parse(t){let e=new u;return super.parseMsg(e,t),e.registerResultData=l.parse(e.data),e}receive(){var t,e;if(0!=this.registerResultData.errorCode||!this.registerResultData.cid||!this.registerResultData.session)return c.default.error(`register fail: ${this.data}`),void(null===(t=o.default.onError)||void 0===t||t.call(o.default.onError,{error:`register fail: ${this.data}`}));o.default.cid!=this.registerResultData.cid&&i.default.setSync(i.default.KEY_ADD_PHONE_INFO_TIME,0),o.default.cid=this.registerResultData.cid,null===(e=o.default.onClientId)||void 0===e||e.call(o.default.onClientId,{cid:o.default.cid}),i.default.set({key:i.default.KEY_CID,data:o.default.cid}),o.default.session=this.registerResultData.session,i.default.set({key:i.default.KEY_SESSION,data:o.default.session}),o.default.deviceId=this.registerResultData.deviceId,i.default.set({key:i.default.KEY_DEVICE_ID,data:o.default.deviceId}),a.default.create().send()}}class l{constructor(){this.errorCode=-1,this.errorMsg="",this.cid="",this.session="",this.deviceId="",this.regId=""}static parse(t){let e=new l,r=JSON.parse(t);return e.errorCode=r.errorCode,e.errorMsg=r.errorMsg,e.cid=r.cid,e.session=r.session,e.deviceId=r.deviceId,e.regId=r.regId,e}}e.default=u},8947:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(7002)),i=n(r(529)),o=n(r(661));class a extends o.default{constructor(){super(...arguments),this.serverCloseData=new c}static parse(t){let e=new a;return super.parseMsg(e,t),e.serverCloseData=c.parse(e.data),e}receive(){JSON.stringify(this.serverCloseData);let t=`server close ${this.serverCloseData.code}`;20==this.serverCloseData.code||23==this.serverCloseData.code||24==this.serverCloseData.code?(s.default.allowReconnect=!1,s.default.close(t)):21==this.serverCloseData.code?this.safeClose21(t):(s.default.allowReconnect=!0,s.default.close(t),s.default.reconnect(10))}safeClose21(t){try{if("undefined"!=typeof document&&document.hasFocus()&&"visible"==document.visibilityState)return s.default.allowReconnect=!0,s.default.close(t),void s.default.reconnect(10);s.default.allowReconnect=!1,s.default.close(t)}catch(e){i.default.error("ServerClose t1",e),s.default.allowReconnect=!1,s.default.close(`${t} error`)}}}class c{constructor(){this.code=-1,this.msg=""}static parse(t){let e=new c,r=JSON.parse(t);return e.code=r.code,e.msg=r.msg,e}}e.default=a},910:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(8506)),i=n(r(9586));class o extends i.default{constructor(){super(...arguments),this.addPhoneInfoResultData=new a}static parse(t){let e=new o;return super.parseActionMsg(e,t),e.addPhoneInfoResultData=a.parse(e.actionMsgData.msgData),e}receive(){var t;this.addPhoneInfoResultData;let e=i.default.removeWaitingResponseMessage(this.actionMsgData.msgId);e&&(null===(t=e.callback)||void 0===t||t.call(e.callback,{resultCode:this.addPhoneInfoResultData.errorCode,message:this.addPhoneInfoResultData.errorMsg})),s.default.set({key:s.default.KEY_ADD_PHONE_INFO_TIME,data:(new Date).getTime()})}}class a{constructor(){this.errorCode=-1,this.errorMsg=""}static parse(t){let e=new a,r=JSON.parse(t);return e.errorCode=r.errorCode,e.errorMsg=r.errorMsg,e}}e.default=o},9538:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(8506)),i=n(r(529)),o=n(r(9586));class a extends o.default{constructor(){super(...arguments),this.bindAliasResultData=new c}static parse(t){let e=new a;return super.parseActionMsg(e,t),e.bindAliasResultData=c.parse(e.actionMsgData.msgData),e}receive(){var t;i.default.info("bind alias result",this.bindAliasResultData);let e=o.default.removeWaitingResponseMessage(this.actionMsgData.msgId);e&&(null===(t=e.callback)||void 0===t||t.call(e.callback,{resultCode:this.bindAliasResultData.errorCode,message:this.bindAliasResultData.errorMsg})),s.default.set({key:s.default.KEY_BIND_ALIAS_TIME,data:(new Date).getTime()})}}class c{constructor(){this.errorCode=-1,this.errorMsg=""}static parse(t){let e=new c,r=JSON.parse(t);return e.errorCode=r.errorCode,e.errorMsg=r.errorMsg,e}}e.default=a},9479:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(4198),i=n(r(9586));class o extends i.default{constructor(){super(...arguments),this.feedbackResultData=new a}static parse(t){let e=new o;return super.parseActionMsg(e,t),e.feedbackResultData=a.parse(e.actionMsgData.msgData),e}receive(){var t;this.feedbackResultData;let e=i.default.removeWaitingResponseMessage(this.actionMsgData.msgId);e&&(null===(t=e.callback)||void 0===t||t.call(e.callback,{resultCode:s.ErrorCode.SUCCESS,message:"received"}))}}class a{constructor(){this.actionId="",this.taskId="",this.result=""}static parse(t){let e=new a,r=JSON.parse(t);return e.actionId=r.actionId,e.taskId=r.taskId,e.result=r.result,e}}e.default=o},6755:function(t,e,r){var n,s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(r(6379)),o=s(r(9586)),a=s(r(8723));class c extends o.default{constructor(){super(...arguments),this.pushMessageData=new u}static parse(t){let e=new c;return super.parseActionMsg(e,t),e.pushMessageData=u.parse(e.actionMsgData.msgData),e}receive(){var t;this.pushMessageData,this.pushMessageData.appId==i.default.appid&&this.pushMessageData.messageid&&this.pushMessageData.taskId||this.stringify(),a.default.create(this,a.default.ActionId.RECEIVE).send(),a.default.create(this,a.default.ActionId.MP_RECEIVE).send(),this.actionMsgData.msgExtraData&&i.default.onPushMsg&&(null===(t=i.default.onPushMsg)||void 0===t||t.call(i.default.onPushMsg,{message:this.actionMsgData.msgExtraData}))}}class u{constructor(){this.id="",this.appKey="",this.appId="",this.messageid="",this.taskId="",this.actionChain=[],this.cdnType=""}static parse(t){let e=new u,r=JSON.parse(t);return e.id=r.id,e.appKey=r.appKey,e.appId=r.appId,e.messageid=r.messageid,e.taskId=r.taskId,e.actionChain=r.actionChain,e.cdnType=r.cdnType,e}}(n=class{}).GO_TO="goto",n.TRANSMIT="transmit",e.default=c},9510:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(9586));class i extends s.default{constructor(){super(...arguments),this.setModeResultData=new o}static parse(t){let e=new i;return super.parseActionMsg(e,t),e.setModeResultData=o.parse(e.actionMsgData.msgData),e}receive(){var t;this.setModeResultData;let e=s.default.removeWaitingResponseMessage(this.actionMsgData.msgId);e&&(null===(t=e.callback)||void 0===t||t.call(e.callback,{resultCode:this.setModeResultData.errorCode,message:this.setModeResultData.errorMsg}))}}class o{constructor(){this.errorCode=-1,this.errorMsg=""}static parse(t){let e=new o,r=JSON.parse(t);return e.errorCode=r.errorCode,e.errorMsg=r.errorMsg,e}}e.default=i},4626:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(8506)),i=n(r(529)),o=n(r(9586));class a extends o.default{constructor(){super(...arguments),this.setTagResultData=new c}static parse(t){let e=new a;return super.parseActionMsg(e,t),e.setTagResultData=c.parse(e.actionMsgData.msgData),e}receive(){var t;i.default.info("set tag result",this.setTagResultData);let e=o.default.removeWaitingResponseMessage(this.actionMsgData.msgId);e&&(null===(t=e.callback)||void 0===t||t.call(e.callback,{resultCode:this.setTagResultData.errorCode,message:this.setTagResultData.errorMsg})),s.default.set({key:s.default.KEY_SET_TAG_TIME,data:(new Date).getTime()})}}class c{constructor(){this.errorCode=0,this.errorMsg=""}static parse(t){let e=new c,r=JSON.parse(t);return e.errorCode=r.errorCode,e.errorMsg=r.errorMsg,e}}e.default=a},7562:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(8506)),i=n(r(529)),o=n(r(9586));class a extends o.default{constructor(){super(...arguments),this.unbindAliasResultData=new c}static parse(t){let e=new a;return super.parseActionMsg(e,t),e.unbindAliasResultData=c.parse(e.actionMsgData.msgData),e}receive(){var t;i.default.info("unbind alias result",this.unbindAliasResultData);let e=o.default.removeWaitingResponseMessage(this.actionMsgData.msgId);e&&(null===(t=e.callback)||void 0===t||t.call(e.callback,{resultCode:this.unbindAliasResultData.errorCode,message:this.unbindAliasResultData.errorMsg})),s.default.set({key:s.default.KEY_BIND_ALIAS_TIME,data:(new Date).getTime()})}}class c{constructor(){this.errorCode=-1,this.errorMsg=""}static parse(t){let e=new c,r=JSON.parse(t);return e.errorCode=r.errorCode,e.errorMsg=r.errorMsg,e}}e.default=a},8227:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.delay=10,this.delay=t}start(){this.cancel();let t=this;this.timer=setInterval((function(){t.run()}),this.delay)}cancel(){this.timer&&clearInterval(this.timer)}}},7167:function(t,e,r){var n,s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(r(6362)),o=s(r(8227));class a extends o.default{static getInstance(){return a.InstanceHolder.instance}run(){i.default.create().send()}refresh(){this.delay=6e4,this.start()}}a.INTERVAL=6e4,a.InstanceHolder=((n=class{}).instance=new a(a.INTERVAL),n),e.default=a},2323:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(4736)),i=n(r(6667));var o;!function(t){let e=(0,s.default)("9223372036854775808");function r(t){t>=e&&(t=e.multiply(2).minus(t));let r="";for(;t>(0,s.default)(0);t=t.divide(62))r+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Number(t.divmod(62).remainder));return r}t.to_getui=function(t){let e=function(t){let e=function(t){let e=t.length;if(e%2!=0)return[];let r=new Array;for(let n=0;n<e;n+=2)r.push(parseInt(t.substring(n,n+2),16));return r}(i.default.md5Hex(t));return e[6]&=15,e[6]|=48,e[8]&=63,e[8]|=128,e}(t),n=function(t){let e=(0,s.default)(0),r=(0,s.default)(0);for(let n=0;n<8;n++)e=e.multiply(256).plus((0,s.default)(255&t[n]));for(let n=8;n<16;n++)r=r.multiply(256).plus((0,s.default)(255&t[n]));return[e,r]}(e),o=n[1],a=n[0];return r(o)+r(a)}}(o||(o={})),e.default=o},6667:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(2620)),i=n(r(1354)),o=n(r(6379));var a;!function(t){let e,r,n,a,c=new s.default,u=i.default.mode.CBC,l=i.default.pad.Pkcs7,h=i.default.AES;t.algorithmMap=new Map([["aes",i.default.AES]]),t.modeMap=new Map([["cbc",i.default.mode.CBC],["cfb",i.default.mode.CFB],["cfb128",i.default.mode.CFB],["ecb",i.default.mode.ECB],["ofb",i.default.mode.OFB]]),t.paddingMap=new Map([["nopadding",i.default.pad.NoPadding],["pkcs7",i.default.pad.Pkcs7]]),t.resetKey=function(){e=i.default.MD5((new Date).getTime().toString()),r=i.default.MD5(e),c.setPublicKey(o.default.publicKey),e.toString(i.default.enc.Hex),r.toString(i.default.enc.Hex),n=c.encrypt(e.toString(i.default.enc.Hex)),a=c.encrypt(r.toString(i.default.enc.Hex))},t.setEncryptParams=function(e,r,n){h=t.algorithmMap.get(e),u=t.modeMap.get(r),l=t.paddingMap.get(n)},t.encrypt=function(t){return h.encrypt(t,e,{iv:r,mode:u,padding:l}).toString()},t.decrypt=function(t){return h.decrypt(t,e,{iv:r,mode:u,padding:l}).toString(i.default.enc.Utf8)},t.sha256=function(t){return i.default.SHA256(t).toString(i.default.enc.Base64)},t.md5Hex=function(t){return i.default.MD5(t).toString(i.default.enc.Hex)},t.getEncryptedSecretKey=function(){return n||""},t.getEncryptedIV=function(){return a||""}}(a||(a={})),e.default=a},529:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class r{static info(...t){this.debugMode&&console.info("[GtPush]",t)}static warn(...t){console.warn("[GtPush]",t)}static error(...t){console.error("[GtPush]",t)}}r.debugMode=!1,e.default=r},2620:(t,e,r)=>{function n(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function s(t,e){return t&e}function i(t,e){return t|e}function o(t,e){return t^e}function a(t,e){return t&~e}function c(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function u(t){for(var e=0;0!=t;)t&=t-1,++e;return e}r.r(e),r.d(e,{JSEncrypt:()=>et,default:()=>rt});var l,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function f(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=h.charAt(r>>6)+h.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=h.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=h.charAt(r>>2)+h.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}var d,p=function(t){var e;if(void 0===l){var r="0123456789ABCDEF",n=" \f\n\r\t \u2028\u2029";for(l={},e=0;e<16;++e)l[r.charAt(e)]=e;for(r=r.toLowerCase(),e=10;e<16;++e)l[r.charAt(e)]=e;for(e=0;e<n.length;++e)l[n.charAt(e)]=-1}var s=[],i=0,o=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=l[a])){if(void 0===a)throw new Error("Illegal character at offset "+e);i|=a,++o>=2?(s[s.length]=i,i=0,o=0):i<<=4}}if(o)throw new Error("Hex encoding incomplete: 4 bits missing");return s},g={decode:function(t){var e;if(void 0===d){var r="= \f\n\r\t \u2028\u2029";for(d=Object.create(null),e=0;e<64;++e)d["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(d["-"]=62,d._=63,e=0;e<r.length;++e)d[r.charAt(e)]=-1}var n=[],s=0,i=0;for(e=0;e<t.length;++e){var o=t.charAt(e);if("="==o)break;if(-1!=(o=d[o])){if(void 0===o)throw new Error("Illegal character at offset "+e);s|=o,++i>=4?(n[n.length]=s>>16,n[n.length]=s>>8&255,n[n.length]=255&s,s=0,i=0):s<<=6}}switch(i){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=s>>10;break;case 3:n[n.length]=s>>16,n[n.length]=s>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=g.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return g.decode(t)}},y=1e13,m=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var r,n,s=this.buf,i=s.length;for(r=0;r<i;++r)(n=s[r]*t+e)<y?e=0:n-=(e=0|n/y)*y,s[r]=n;e>0&&(s[r]=e)},t.prototype.sub=function(t){var e,r,n=this.buf,s=n.length;for(e=0;e<s;++e)(r=n[e]-t)<0?(r+=y,t=1):t=0,n[e]=r;for(;0===n[n.length-1];)n.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,r=e[e.length-1].toString(),n=e.length-2;n>=0;--n)r+=(y+e[n]).toString().substring(1);return r},t.prototype.valueOf=function(){for(var t=this.buf,e=0,r=t.length-1;r>=0;--r)e=e*y+t[r];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),v=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,_=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function S(t,e){return t.length>e&&(t=t.substring(0,e)+"…"),t}var w,b=function(){function t(e,r){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=r)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,r){for(var n="",s=t;s<e;++s)if(n+=this.hexByte(this.get(s)),!0!==r)switch(15&s){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},t.prototype.isASCII=function(t,e){for(var r=t;r<e;++r){var n=this.get(r);if(n<32||n>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var r="",n=t;n<e;++n)r+=String.fromCharCode(this.get(n));return r},t.prototype.parseStringUTF=function(t,e){for(var r="",n=t;n<e;){var s=this.get(n++);r+=s<128?String.fromCharCode(s):s>191&&s<224?String.fromCharCode((31&s)<<6|63&this.get(n++)):String.fromCharCode((15&s)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},t.prototype.parseStringBMP=function(t,e){for(var r,n,s="",i=t;i<e;)r=this.get(i++),n=this.get(i++),s+=String.fromCharCode(r<<8|n);return s},t.prototype.parseTime=function(t,e,r){var n=this.parseStringISO(t,e),s=(r?v:_).exec(n);return s?(r&&(s[1]=+s[1],s[1]+=+s[1]<70?2e3:1900),n=s[1]+"-"+s[2]+"-"+s[3]+" "+s[4],s[5]&&(n+=":"+s[5],s[6]&&(n+=":"+s[6],s[7]&&(n+="."+s[7]))),s[8]&&(n+=" UTC","Z"!=s[8]&&(n+=s[8],s[9]&&(n+=":"+s[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(t,e){for(var r,n=this.get(t),s=n>127,i=s?255:0,o="";n==i&&++t<e;)n=this.get(t);if(0==(r=e-t))return s?-1:0;if(r>4){for(o=n,r<<=3;0==(128&(+o^i));)o=+o<<1,--r;o="("+r+" bit)\n"}s&&(n-=256);for(var a=new m(n),c=t+1;c<e;++c)a.mulAdd(256,this.get(c));return o+a.toString()},t.prototype.parseBitString=function(t,e,r){for(var n=this.get(t),s="("+((e-t-1<<3)-n)+" bit)\n",i="",o=t+1;o<e;++o){for(var a=this.get(o),c=o==e-1?n:0,u=7;u>=c;--u)i+=a>>u&1?"1":"0";if(i.length>r)return s+S(i,r)}return s+i},t.prototype.parseOctetString=function(t,e,r){if(this.isASCII(t,e))return S(this.parseStringISO(t,e),r);var n=e-t,s="("+n+" byte)\n";n>(r/=2)&&(e=t+r);for(var i=t;i<e;++i)s+=this.hexByte(this.get(i));return n>r&&(s+="…"),s},t.prototype.parseOID=function(t,e,r){for(var n="",s=new m,i=0,o=t;o<e;++o){var a=this.get(o);if(s.mulAdd(128,127&a),i+=7,!(128&a)){if(""===n)if((s=s.simplify())instanceof m)s.sub(80),n="2."+s.toString();else{var c=s<80?s<40?0:1:2;n=c+"."+(s-40*c)}else n+="."+s.toString();if(n.length>r)return S(n,r);s=new m,i=0}}return i>0&&(n+=".incomplete"),n},t}(),E=function(){function t(t,e,r,n,s){if(!(n instanceof T))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=r,this.tag=n,this.sub=s}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+r,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);case 6:return this.stream.parseOID(e,e+r,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return S(this.stream.parseStringUTF(e,e+r),t);case 18:case 19:case 20:case 21:case 22:case 26:return S(this.stream.parseStringISO(e,e+r),t);case 30:return S(this.stream.parseStringBMP(e,e+r),t);case 23:case 24:return this.stream.parseTime(e,e+r,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var r=0,n=this.sub.length;r<n;++r)e+=this.sub[r].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),r=127&e;if(r==e)return r;if(r>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===r)return null;e=0;for(var n=0;n<r;++n)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,r=2*this.length;return t.substr(e,r)},t.decode=function(e){var r;r=e instanceof b?e:new b(e,0);var n=new b(r),s=new T(r),i=t.decodeLength(r),o=r.pos,a=o-n.pos,c=null,u=function(){var e=[];if(null!==i){for(var n=o+i;r.pos<n;)e[e.length]=t.decode(r);if(r.pos!=n)throw new Error("Content size is not correct for container starting at offset "+o)}else try{for(;;){var s=t.decode(r);if(s.tag.isEOC())break;e[e.length]=s}i=o-r.pos}catch(a){throw new Error("Exception while decoding undefined length content: "+a)}return e};if(s.tagConstructed)c=u();else if(s.isUniversal()&&(3==s.tagNumber||4==s.tagNumber))try{if(3==s.tagNumber&&0!=r.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var l=0;l<c.length;++l)if(c[l].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(h){c=null}if(null===c){if(null===i)throw new Error("We can't skip over an invalid tag with undefined length at offset "+o);r.pos=o+Math.abs(i)}return new t(n,a,i,s,c)},t}(),T=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!=(32&e),this.tagNumber=31&e,31==this.tagNumber){var r=new m;do{e=t.get(),r.mulAdd(128,127&e)}while(128&e);this.tagNumber=r.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),I=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],A=(1<<26)/I[I.length-1],D=function(){function t(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,s=(1<<e)-1,i=!1,o="",a=this.t,c=this.DB-a*this.DB%e;if(a-- >0)for(c<this.DB&&(r=this[a]>>c)>0&&(i=!0,o=n(r));a>=0;)c<e?(r=(this[a]&(1<<c)-1)<<e-c,r|=this[--a]>>(c+=this.DB-e)):(r=this[a]>>(c-=e)&s,c<=0&&(c+=this.DB,--a)),r>0&&(i=!0),i&&(o+=n(r));return i?o:"0"},t.prototype.negate=function(){var e=M();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+j(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var r=M();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&e.subTo(r,r),r},t.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new x(e):new O(e),this.exp(t,r)},t.prototype.clone=function(){var t=M();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var r,n=this.DB-t*this.DB%8,s=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[s++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==s&&(128&this.s)!=(128&r)&&++s,(s>0||r!=this.s)&&(e[s++]=r);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=M();return this.bitwiseTo(t,s,e),e},t.prototype.or=function(t){var e=M();return this.bitwiseTo(t,i,e),e},t.prototype.xor=function(t){var e=M();return this.bitwiseTo(t,o,e),e},t.prototype.andNot=function(t){var e=M();return this.bitwiseTo(t,a,e),e},t.prototype.not=function(){for(var t=M(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=M();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=M();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+c(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=u(this[r]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,i)},t.prototype.clearBit=function(t){return this.changeBit(t,a)},t.prototype.flipBit=function(t){return this.changeBit(t,o)},t.prototype.add=function(t){var e=M();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=M();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=M();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=M();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=M();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=M(),r=M();return this.divRemTo(t,e,r),[e,r]},t.prototype.modPow=function(t,e){var r,n,s=t.bitLength(),i=q(1);if(s<=0)return i;r=s<18?1:s<48?3:s<144?4:s<768?5:6,n=s<8?new x(e):e.isEven()?new R(e):new O(e);var o=[],a=3,c=r-1,u=(1<<r)-1;if(o[1]=n.convert(this),r>1){var l=M();for(n.sqrTo(o[1],l);a<=u;)o[a]=M(),n.mulTo(l,o[a-2],o[a]),a+=2}var h,f,d=t.t-1,p=!0,g=M();for(s=j(t[d])-1;d>=0;){for(s>=c?h=t[d]>>s-c&u:(h=(t[d]&(1<<s+1)-1)<<c-s,d>0&&(h|=t[d-1]>>this.DB+s-c)),a=r;0==(1&h);)h>>=1,--a;if((s-=a)<0&&(s+=this.DB,--d),p)o[h].copyTo(i),p=!1;else{for(;a>1;)n.sqrTo(i,g),n.sqrTo(g,i),a-=2;a>0?n.sqrTo(i,g):(f=i,i=g,g=f),n.mulTo(g,o[h],i)}for(;d>=0&&0==(t[d]&1<<s);)n.sqrTo(i,g),f=i,i=g,g=f,--s<0&&(s=this.DB-1,--d)}return n.revert(i)},t.prototype.modInverse=function(e){var r=e.isEven();if(this.isEven()&&r||0==e.signum())return t.ZERO;for(var n=e.clone(),s=this.clone(),i=q(1),o=q(0),a=q(0),c=q(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),r?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;s.isEven();)s.rShiftTo(1,s),r?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(s)>=0?(n.subTo(s,n),r&&i.subTo(a,i),o.subTo(c,o)):(s.subTo(n,s),r&&a.subTo(i,a),c.subTo(o,c))}return 0!=s.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},t.prototype.pow=function(t){return this.exp(t,new k)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var s=e.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return e;for(s<i&&(i=s),i>0&&(e.rShiftTo(i,e),r.rShiftTo(i,r));e.signum()>0;)(s=e.getLowestSetBit())>0&&e.rShiftTo(s,e),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},t.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=I[I.length-1]){for(e=0;e<I.length;++e)if(r[0]==I[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<I.length;){for(var n=I[e],s=e+1;s<I.length&&n<A;)n*=I[s++];for(n=r.modInt(n);e<s;)if(n%I[e++]==0)return!1}return r.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(e,r);n=2}this.t=0,this.s=0;for(var s=e.length,i=!1,o=0;--s>=0;){var a=8==n?255&+e[s]:U(e,s);a<0?"-"==e.charAt(s)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&+e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,n=this.DB-r,s=(1<<n)-1,i=Math.floor(t/this.DB),o=this.s<<r&this.DM,a=this.t-1;a>=0;--a)e[a+i+1]=this[a]>>n|o,o=(this[a]&s)<<r;for(a=i-1;a>=0;--a)e[a]=0;e[i]=o,e.t=this.t+i+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,s=this.DB-n,i=(1<<n)-1;e[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)e[o-r-1]|=(this[o]&i)<<s,e[o-r]=this[o]>>n;n>0&&(e[this.t-r-1]|=(this.s&i)<<s),e.t=this.t-r,e.clamp()}},t.prototype.subTo=function(t,e){for(var r=0,n=0,s=Math.min(t.t,this.t);r<s;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},t.prototype.multiplyTo=function(e,r){var n=this.abs(),s=e.abs(),i=n.t;for(r.t=i+s.t;--i>=0;)r[i]=0;for(i=0;i<s.t;++i)r[i+n.t]=n.am(0,s[i],r,i,0,n.t);r.s=0,r.clamp(),this.s!=e.s&&t.ZERO.subTo(r,r)},t.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,r,n){var s=e.abs();if(!(s.t<=0)){var i=this.abs();if(i.t<s.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=M());var o=M(),a=this.s,c=e.s,u=this.DB-j(s[s.t-1]);u>0?(s.lShiftTo(u,o),i.lShiftTo(u,n)):(s.copyTo(o),i.copyTo(n));var l=o.t,h=o[l-1];if(0!=h){var f=h*(1<<this.F1)+(l>1?o[l-2]>>this.F2:0),d=this.FV/f,p=(1<<this.F1)/f,g=1<<this.F2,y=n.t,m=y-l,v=null==r?M():r;for(o.dlShiftTo(m,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),t.ONE.dlShiftTo(l,v),v.subTo(o,o);o.t<l;)o[o.t++]=0;for(;--m>=0;){var _=n[--y]==h?this.DM:Math.floor(n[y]*d+(n[y-1]+g)*p);if((n[y]+=o.am(0,_,n,m,0,l))<_)for(o.dlShiftTo(m,v),n.subTo(v,n);n[y]<--_;)n.subTo(v,n)}null!=r&&(n.drShiftTo(l,r),a!=c&&t.ZERO.subTo(r,r)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&t.ZERO.subTo(n,n)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,r){if(e>4294967295||e<1)return t.ONE;var n=M(),s=M(),i=r.convert(this),o=j(e)-1;for(i.copyTo(n);--o>=0;)if(r.sqrTo(n,s),(e&1<<o)>0)r.mulTo(s,i,n);else{var a=n;n=s,s=a}return r.revert(n)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=q(r),s=M(),i=M(),o="";for(this.divRemTo(n,s,i);s.signum()>0;)o=(r+i.intValue()).toString(t).substr(1)+o,s.divRemTo(n,s,i);return i.intValue().toString(t)+o},t.prototype.fromRadix=function(e,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),s=Math.pow(r,n),i=!1,o=0,a=0,c=0;c<e.length;++c){var u=U(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(a=r*a+u,++o>=n&&(this.dMultiply(s),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(r,o)),this.dAddOffset(a,0)),i&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,r,n){if("number"==typeof r)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),i,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var s=[],o=7&e;s.length=1+(e>>3),r.nextBytes(s),o>0?s[0]&=(1<<o)-1:s[0]=0,this.fromString(s,256)}},t.prototype.bitwiseTo=function(t,e,r){var n,s,i=Math.min(t.t,this.t);for(n=0;n<i;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(s=t.s&this.DM,n=i;n<this.t;++n)r[n]=e(this[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=i;n<t.t;++n)r[n]=e(s,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},t.prototype.changeBit=function(e,r){var n=t.ONE.shiftLeft(e);return this.bitwiseTo(n,r,n),n},t.prototype.addTo=function(t,e){for(var r=0,n=0,s=Math.min(t.t,this.t);r<s;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(var s=r.t-this.t;n<s;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(s=Math.min(t.t,e);n<s;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()},t.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},t.prototype.millerRabin=function(e){var r=this.subtract(t.ONE),n=r.getLowestSetBit();if(n<=0)return!1;var s=r.shiftRight(n);(e=e+1>>1)>I.length&&(e=I.length);for(var i=M(),o=0;o<e;++o){i.fromInt(I[Math.floor(Math.random()*I.length)]);var a=i.modPow(s,this);if(0!=a.compareTo(t.ONE)&&0!=a.compareTo(r)){for(var c=1;c++<n&&0!=a.compareTo(r);)if(0==(a=a.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=a.compareTo(r))return!1}}return!0},t.prototype.square=function(){var t=M();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var r=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(r.compareTo(n)<0){var s=r;r=n,n=s}var i=r.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)e(r);else{i<o&&(o=i),o>0&&(r.rShiftTo(o,r),n.rShiftTo(o,n));var a=function(){(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n)),r.signum()>0?setTimeout(a,0):(o>0&&n.lShiftTo(o,n),setTimeout((function(){e(n)}),0))};setTimeout(a,10)}},t.prototype.fromNumberAsync=function(e,r,n,s){if("number"==typeof r)if(e<2)this.fromInt(1);else{this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),i,this),this.isEven()&&this.dAddOffset(1,0);var o=this,a=function(){o.dAddOffset(2,0),o.bitLength()>e&&o.subTo(t.ONE.shiftLeft(e-1),o),o.isProbablePrime(r)?setTimeout((function(){s()}),0):setTimeout(a,0)};setTimeout(a,0)}else{var c=[],u=7&e;c.length=1+(e>>3),r.nextBytes(c),u>0?c[0]&=(1<<u)-1:c[0]=0,this.fromString(c,256)}},t}(),k=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),x=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),O=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=M();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(D.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=M();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),R=function(){function t(t){this.m=t,this.r2=M(),this.q3=M(),D.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=M();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function M(){return new D(null)}function C(t,e){return new D(t,e)}var P="undefined"!=typeof navigator;P&&"Microsoft Internet Explorer"==navigator.appName?(D.prototype.am=function(t,e,r,n,s,i){for(var o=32767&e,a=e>>15;--i>=0;){var c=32767&this[t],u=this[t++]>>15,l=a*c+u*o;s=((c=o*c+((32767&l)<<15)+r[n]+(1073741823&s))>>>30)+(l>>>15)+a*u+(s>>>30),r[n++]=1073741823&c}return s},w=30):P&&"Netscape"!=navigator.appName?(D.prototype.am=function(t,e,r,n,s,i){for(;--i>=0;){var o=e*this[t++]+r[n]+s;s=Math.floor(o/67108864),r[n++]=67108863&o}return s},w=26):(D.prototype.am=function(t,e,r,n,s,i){for(var o=16383&e,a=e>>14;--i>=0;){var c=16383&this[t],u=this[t++]>>14,l=a*c+u*o;s=((c=o*c+((16383&l)<<14)+r[n]+s)>>28)+(l>>14)+a*u,r[n++]=268435455&c}return s},w=28),D.prototype.DB=w,D.prototype.DM=(1<<w)-1,D.prototype.DV=1<<w,D.prototype.FV=Math.pow(2,52),D.prototype.F1=52-w,D.prototype.F2=2*w-52;var B,N,L=[];for(B="0".charCodeAt(0),N=0;N<=9;++N)L[B++]=N;for(B="a".charCodeAt(0),N=10;N<36;++N)L[B++]=N;for(B="A".charCodeAt(0),N=10;N<36;++N)L[B++]=N;function U(t,e){var r=L[t.charCodeAt(e)];return null==r?-1:r}function q(t){var e=M();return e.fromInt(t),e}function j(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}D.ZERO=q(0),D.ONE=q(1);var F,H,V=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}(),K=null;function $(){if(null==F){for(F=new V;H<256;){var t=Math.floor(65536*Math.random());K[H++]=255&t}for(F.init(K),H=0;H<K.length;++H)K[H]=0;H=0}return F.next()}null==K&&(K=[],H=0);var z=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=$()},t}(),W=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(r)<0;)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=C(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=this.n.bitLength()+7>>3,r=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var r=[],n=t.length-1;n>=0&&e>0;){var s=t.charCodeAt(n--);s<128?r[--e]=s:s>127&&s<2048?(r[--e]=63&s|128,r[--e]=s>>6|192):(r[--e]=63&s|128,r[--e]=s>>6&63|128,r[--e]=s>>12|224)}r[--e]=0;for(var i=new z,o=[];e>2;){for(o[0]=0;0==o[0];)i.nextBytes(o);r[--e]=o[0]}return r[--e]=2,r[--e]=0,new D(r)}(t,e);if(null==r)return null;var n=this.doPublic(r);if(null==n)return null;for(var s=n.toString(16),i=s.length,o=0;o<2*e-i;o++)s="0"+s;return s},t.prototype.setPrivate=function(t,e,r){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=C(t,16),this.e=parseInt(e,16),this.d=C(r,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,r,n,s,i,o,a){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=C(t,16),this.e=parseInt(e,16),this.d=C(r,16),this.p=C(n,16),this.q=C(s,16),this.dmp1=C(i,16),this.dmq1=C(o,16),this.coeff=C(a,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var r=new z,n=t>>1;this.e=parseInt(e,16);for(var s=new D(e,16);;){for(;this.p=new D(t-n,1,r),0!=this.p.subtract(D.ONE).gcd(s).compareTo(D.ONE)||!this.p.isProbablePrime(10););for(;this.q=new D(n,1,r),0!=this.q.subtract(D.ONE).gcd(s).compareTo(D.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var i=this.p;this.p=this.q,this.q=i}var o=this.p.subtract(D.ONE),a=this.q.subtract(D.ONE),c=o.multiply(a);if(0==c.gcd(s).compareTo(D.ONE)){this.n=this.p.multiply(this.q),this.d=s.modInverse(c),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=C(t,16),r=this.doPrivate(e);return null==r?null:function(t,e){for(var r=t.toByteArray(),n=0;n<r.length&&0==r[n];)++n;if(r.length-n!=e-1||2!=r[n])return null;for(++n;0!=r[n];)if(++n>=r.length)return null;for(var s="";++n<r.length;){var i=255&r[n];i<128?s+=String.fromCharCode(i):i>191&&i<224?(s+=String.fromCharCode((31&i)<<6|63&r[n+1]),++n):(s+=String.fromCharCode((15&i)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return s}(r,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,r){var n=new z,s=t>>1;this.e=parseInt(e,16);var i=new D(e,16),o=this,a=function(){var e=function(){if(o.p.compareTo(o.q)<=0){var t=o.p;o.p=o.q,o.q=t}var e=o.p.subtract(D.ONE),n=o.q.subtract(D.ONE),s=e.multiply(n);0==s.gcd(i).compareTo(D.ONE)?(o.n=o.p.multiply(o.q),o.d=i.modInverse(s),o.dmp1=o.d.mod(e),o.dmq1=o.d.mod(n),o.coeff=o.q.modInverse(o.p),setTimeout((function(){r()}),0)):setTimeout(a,0)},c=function(){o.q=M(),o.q.fromNumberAsync(s,1,n,(function(){o.q.subtract(D.ONE).gcda(i,(function(t){0==t.compareTo(D.ONE)&&o.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(c,0)}))}))},u=function(){o.p=M(),o.p.fromNumberAsync(t-s,1,n,(function(){o.p.subtract(D.ONE).gcda(i,(function(t){0==t.compareTo(D.ONE)&&o.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(u,0)}))}))};setTimeout(u,0)};setTimeout(a,0)},t.prototype.sign=function(t,e,r){var n=function(t){return J[t]||""}(r),s=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var r=e-t.length-6,n="",s=0;s<r;s+=2)n+="ff";return C("0001"+n+"00"+t,16)}(n+e(t).toString(),this.n.bitLength()/4);if(null==s)return null;var i=this.doPrivate(s);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},t.prototype.verify=function(t,e,r){var n=C(e,16),s=this.doPublic(n);if(null==s)return null;var i=function(t){for(var e in J)if(J.hasOwnProperty(e)){var r=J[e],n=r.length;if(t.substr(0,n)==r)return t.substr(n)}return t}(s.toString(16).replace(/^1f+00/,""));return i==r(t).toString()},t.prototype.encryptLong=function(t){var e=this,r="",n=(this.n.bitLength()+7>>3)-11;return this.setSplitChn(t,n).forEach((function(t){r+=e.encrypt(t)})),r},t.prototype.decryptLong=function(t){var e="",r=this.n.bitLength()+7>>3,n=2*r;if(t.length>n){for(var s=t.match(new RegExp(".{1,"+n+"}","g"))||[],i=[],o=0;o<s.length;o++){var a=C(s[o],16),c=this.doPrivate(a);if(null==c)return null;i.push(c)}e=function(t,e){for(var r=[],n=0;n<t.length;n++){for(var s=t[n].toByteArray(),i=0;i<s.length&&0==s[i];)++i;if(s.length-i!=e-1||2!=s[i])return null;for(++i;0!=s[i];)if(++i>=s.length)return null;r=r.concat(s.slice(i+1))}for(var o=r,a=-1,c="";++a<o.length;){var u=255&o[a];u<128?c+=String.fromCharCode(u):u>191&&u<224?(c+=String.fromCharCode((31&u)<<6|63&o[a+1]),++a):(c+=String.fromCharCode((15&u)<<12|(63&o[a+1])<<6|63&o[a+2]),a+=2)}return c}(i,r)}else e=this.decrypt(t);return e},t.prototype.setSplitChn=function(t,e,r){void 0===r&&(r=[]);for(var n=t.split(""),s=0,i=0;i<n.length;i++){var o=n[i].charCodeAt(0);if((s+=o<=127?1:o<=2047?2:o<=65535?3:4)>e){var a=t.substring(0,i);return r.push(a),this.setSplitChn(t.substring(i),e,r)}}return r.push(t),r},t}(),J={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},G={};G.lang={extend:function(t,e,r){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var n=function(){};if(n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),r){var s;for(s in r)t.prototype[s]=r[s];var i=function(){},o=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(i=function(t,e){for(s=0;s<o.length;s+=1){var r=o[s],n=e[r];"function"==typeof n&&n!=Object.prototype[r]&&(t[r]=n)}})}catch(a){}i(t.prototype,r)}}};var Y={};void 0!==Y.asn1&&Y.asn1||(Y.asn1={}),Y.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",s=0;s<r;s++)n+="f";e=new D(n,16).xor(t).add(D.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=Y.asn1,r=e.DERBoolean,n=e.DERInteger,s=e.DERBitString,i=e.DEROctetString,o=e.DERNull,a=e.DERObjectIdentifier,c=e.DEREnumerated,u=e.DERUTF8String,l=e.DERNumericString,h=e.DERPrintableString,f=e.DERTeletexString,d=e.DERIA5String,p=e.DERUTCTime,g=e.DERGeneralizedTime,y=e.DERSequence,m=e.DERSet,v=e.DERTaggedObject,_=e.ASN1Util.newObject,S=Object.keys(t);if(1!=S.length)throw"key of param shall be only one.";var w=S[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+w+":"))throw"undefined key: "+w;if("bool"==w)return new r(t[w]);if("int"==w)return new n(t[w]);if("bitstr"==w)return new s(t[w]);if("octstr"==w)return new i(t[w]);if("null"==w)return new o(t[w]);if("oid"==w)return new a(t[w]);if("enum"==w)return new c(t[w]);if("utf8str"==w)return new u(t[w]);if("numstr"==w)return new l(t[w]);if("prnstr"==w)return new h(t[w]);if("telstr"==w)return new f(t[w]);if("ia5str"==w)return new d(t[w]);if("utctime"==w)return new p(t[w]);if("gentime"==w)return new g(t[w]);if("seq"==w){for(var b=t[w],E=[],T=0;T<b.length;T++){var I=_(b[T]);E.push(I)}return new y({array:E})}if("set"==w){for(b=t[w],E=[],T=0;T<b.length;T++)I=_(b[T]),E.push(I);return new m({array:E})}if("tag"==w){var A=t[w];if("[object Array]"===Object.prototype.toString.call(A)&&3==A.length){var D=_(A[2]);return new v({tag:A[0],explicit:A[1],obj:D})}var k={};if(void 0!==A.explicit&&(k.explicit=A.explicit),void 0!==A.tag&&(k.tag=A.tag),void 0===A.obj)throw"obj shall be specified for 'tag'.";return k.obj=_(A.obj),new v(k)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},Y.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),s=2;s<t.length;s+=2){var i=("00000000"+parseInt(t.substr(s,2),16).toString(2)).slice(-8);n+=i.substr(1,7),"0"==i.substr(0,1)&&(e=e+"."+new D(n,2).toString(10),n="")}return e},Y.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new D(t,10).toString(2),s=7-n.length%7;7==s&&(s=0);for(var i="",o=0;o<s;o++)i+="0";for(n=i+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=e(parseInt(a,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",s=t.split("."),i=40*parseInt(s[0])+parseInt(s[1]);n+=e(i),s.splice(0,2);for(var o=0;o<s.length;o++)n+=r(s[o]);return n},Y.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+r).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},Y.asn1.DERAbstractString=function(t){Y.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},G.lang.extend(Y.asn1.DERAbstractString,Y.asn1.ASN1Object),Y.asn1.DERAbstractTime=function(t){Y.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,r){var n=this.zeroPadding,s=this.localDateToUTC(t),i=String(s.getFullYear());"utc"==e&&(i=i.substr(2,2));var o=i+n(String(s.getMonth()+1),2)+n(String(s.getDate()),2)+n(String(s.getHours()),2)+n(String(s.getMinutes()),2)+n(String(s.getSeconds()),2);if(!0===r){var a=s.getMilliseconds();if(0!=a){var c=n(String(a),3);o=o+"."+(c=c.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,r,n,s,i){var o=new Date(Date.UTC(t,e-1,r,n,s,i,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},G.lang.extend(Y.asn1.DERAbstractTime,Y.asn1.ASN1Object),Y.asn1.DERAbstractStructured=function(t){Y.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},G.lang.extend(Y.asn1.DERAbstractStructured,Y.asn1.ASN1Object),Y.asn1.DERBoolean=function(){Y.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},G.lang.extend(Y.asn1.DERBoolean,Y.asn1.ASN1Object),Y.asn1.DERInteger=function(t){Y.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Y.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new D(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},G.lang.extend(Y.asn1.DERInteger,Y.asn1.ASN1Object),Y.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Y.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}Y.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+="0";var n="";for(r=0;r<t.length-1;r+=8){var s=t.substr(r,8),i=parseInt(s,2).toString(16);1==i.length&&(i="0"+i),n+=i}this.hTLV=null,this.isModified=!0,this.hV="0"+e+n},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},G.lang.extend(Y.asn1.DERBitString,Y.asn1.ASN1Object),Y.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Y.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}Y.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},G.lang.extend(Y.asn1.DEROctetString,Y.asn1.DERAbstractString),Y.asn1.DERNull=function(){Y.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},G.lang.extend(Y.asn1.DERNull,Y.asn1.ASN1Object),Y.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new D(t,10).toString(2),s=7-n.length%7;7==s&&(s=0);for(var i="",o=0;o<s;o++)i+="0";for(n=i+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=e(parseInt(a,2))}return r};Y.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",s=t.split("."),i=40*parseInt(s[0])+parseInt(s[1]);n+=e(i),s.splice(0,2);for(var o=0;o<s.length;o++)n+=r(s[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(t){var e=Y.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},G.lang.extend(Y.asn1.DERObjectIdentifier,Y.asn1.ASN1Object),Y.asn1.DEREnumerated=function(t){Y.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Y.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new D(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},G.lang.extend(Y.asn1.DEREnumerated,Y.asn1.ASN1Object),Y.asn1.DERUTF8String=function(t){Y.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},G.lang.extend(Y.asn1.DERUTF8String,Y.asn1.DERAbstractString),Y.asn1.DERNumericString=function(t){Y.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},G.lang.extend(Y.asn1.DERNumericString,Y.asn1.DERAbstractString),Y.asn1.DERPrintableString=function(t){Y.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},G.lang.extend(Y.asn1.DERPrintableString,Y.asn1.DERAbstractString),Y.asn1.DERTeletexString=function(t){Y.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},G.lang.extend(Y.asn1.DERTeletexString,Y.asn1.DERAbstractString),Y.asn1.DERIA5String=function(t){Y.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},G.lang.extend(Y.asn1.DERIA5String,Y.asn1.DERAbstractString),Y.asn1.DERUTCTime=function(t){Y.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},G.lang.extend(Y.asn1.DERUTCTime,Y.asn1.DERAbstractTime),Y.asn1.DERGeneralizedTime=function(t){Y.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},G.lang.extend(Y.asn1.DERGeneralizedTime,Y.asn1.DERAbstractTime),Y.asn1.DERSequence=function(t){Y.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},G.lang.extend(Y.asn1.DERSequence,Y.asn1.DERAbstractStructured),Y.asn1.DERSet=function(t){Y.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},G.lang.extend(Y.asn1.DERSet,Y.asn1.DERAbstractStructured),Y.asn1.DERTaggedObject=function(t){Y.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,r){this.hT=e,this.isExplicit=t,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},G.lang.extend(Y.asn1.DERTaggedObject,Y.asn1.ASN1Object);var Z,Q=(Z=function(t,e){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),X=function(t){function e(r){var n=t.call(this)||this;return r&&("string"==typeof r?n.parseKey(r):(e.hasPrivateKeyProperty(r)||e.hasPublicKeyProperty(r))&&n.parsePropertiesFrom(r)),n}return Q(e,t),e.prototype.parseKey=function(t){try{var e=0,r=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?p(t):g.unarmor(t),s=E.decode(n);if(3===s.sub.length&&(s=s.sub[2].sub[0]),9===s.sub.length){e=s.sub[1].getHexStringValue(),this.n=C(e,16),r=s.sub[2].getHexStringValue(),this.e=parseInt(r,16);var i=s.sub[3].getHexStringValue();this.d=C(i,16);var o=s.sub[4].getHexStringValue();this.p=C(o,16);var a=s.sub[5].getHexStringValue();this.q=C(a,16);var c=s.sub[6].getHexStringValue();this.dmp1=C(c,16);var u=s.sub[7].getHexStringValue();this.dmq1=C(u,16);var l=s.sub[8].getHexStringValue();this.coeff=C(l,16)}else{if(2!==s.sub.length)return!1;var h=s.sub[1].sub[0];e=h.sub[0].getHexStringValue(),this.n=C(e,16),r=h.sub[1].getHexStringValue(),this.e=parseInt(r,16)}return!0}catch(f){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new Y.asn1.DERInteger({int:0}),new Y.asn1.DERInteger({bigint:this.n}),new Y.asn1.DERInteger({int:this.e}),new Y.asn1.DERInteger({bigint:this.d}),new Y.asn1.DERInteger({bigint:this.p}),new Y.asn1.DERInteger({bigint:this.q}),new Y.asn1.DERInteger({bigint:this.dmp1}),new Y.asn1.DERInteger({bigint:this.dmq1}),new Y.asn1.DERInteger({bigint:this.coeff})]};return new Y.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return f(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new Y.asn1.DERSequence({array:[new Y.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new Y.asn1.DERNull]}),e=new Y.asn1.DERSequence({array:[new Y.asn1.DERInteger({bigint:this.n}),new Y.asn1.DERInteger({int:this.e})]}),r=new Y.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new Y.asn1.DERSequence({array:[t,r]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return f(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var r="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(r,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(W);const tt="3.2.1";var et=function(){function t(t){void 0===t&&(t={}),t=t||{},this.default_key_size=t.default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new X(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(t)}catch(e){return!1}},t.prototype.encrypt=function(t){try{return this.getKey().encrypt(t)}catch(e){return!1}},t.prototype.encryptLong=function(t){try{return f(this.getKey().encryptLong(t))}catch(e){return!1}},t.prototype.decryptLong=function(t){try{return this.getKey().decryptLong(t)}catch(e){return!1}},t.prototype.sign=function(t,e,r){try{return f(this.getKey().sign(t,e,r))}catch(n){return!1}},t.prototype.verify=function(t,e,r){try{return this.getKey().verify(t,function(t){var e,r="",s=0,i=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var o=h.indexOf(t.charAt(e));o<0||(0==s?(r+=n(o>>2),i=3&o,s=1):1==s?(r+=n(i<<2|o>>4),i=15&o,s=2):2==s?(r+=n(i),r+=n(o>>2),i=3&o,s=3):(r+=n(i<<2|o>>4),r+=n(15&o),s=0))}return 1==s&&(r+=n(i<<2)),r}(e),r)}catch(s){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new X,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version=tt,t}();const rt=et},2480:()=>{}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r(9021)})(),{get exports(){return o},set exports(t){o=t}}.exports=i();var a=s(o);uni.invokePushCallback({type:"enabled"});"undefined"!=typeof plus&&plus.push&&plus.globalEvent.addEventListener("newPath",(({path:t})=>{if(!t)return;const e=getCurrentPages(),r=e[e.length-1];r&&r.$page&&r.$page.fullPath===t||uni.navigateTo({url:t,fail(e){e.errMsg.indexOf("tabbar")>-1?uni.switchTab({url:t,fail(t){console.error(t.errMsg)}}):console.error(e.errMsg)}})})),"function"==typeof uni.onAppShow&&uni.onAppShow((()=>{a.enableSocket(!0)})),a.init({appid:"__UNI__9CA9A5A",onError:t=>{console.error(t.error);const e={type:"clientId",cid:"",errMsg:t.error};uni.invokePushCallback(e)},onClientId:t=>{const e={type:"clientId",cid:t.cid};uni.invokePushCallback(e)},onlineState:t=>{const e={type:"lineState",online:t.online};uni.invokePushCallback(e)},onPushMsg:t=>{const e={type:"pushMsg",message:t.message};uni.invokePushCallback(e)}}),uni.onPushMessage((t=>{"receive"===t.type&&t.data&&t.data.force_notification&&(uni.createPushMessage(t.data),t.stopped=!0)}));const c={onLaunch:function(){e("log","at App.vue:4","App Launch")},onShow:function(){e("log","at App.vue:7","App Show")},onHide:function(){e("log","at App.vue:10","App Hide")}},u=["{","}"];const l=/^(?:\d)+/,h=/^(?:\w)+/;const f="zh-Hans",d="zh-Hant",p="en",g=Object.prototype.hasOwnProperty,y=(t,e)=>g.call(t,e),m=new class{constructor(){this._caches=Object.create(null)}interpolate(t,e,r=u){if(!e)return[t];let n=this._caches[t];return n||(n=function(t,[e,r]){const n=[];let s=0,i="";for(;s<t.length;){let o=t[s++];if(o===e){i&&n.push({type:"text",value:i}),i="";let e="";for(o=t[s++];void 0!==o&&o!==r;)e+=o,o=t[s++];const a=o===r,c=l.test(e)?"list":a&&h.test(e)?"named":"unknown";n.push({value:e,type:c})}else i+=o}return i&&n.push({type:"text",value:i}),n}(t,r),this._caches[t]=n),function(t,e){const r=[];let n=0;const s=Array.isArray(e)?"list":(i=e,null!==i&&"object"==typeof i?"named":"unknown");var i;if("unknown"===s)return r;for(;n<t.length;){const i=t[n];switch(i.type){case"text":r.push(i.value);break;case"list":r.push(e[parseInt(i.value,10)]);break;case"named":"named"===s&&r.push(e[i.value])}n++}return r}(n,e)}};function v(t,e){if(!t)return;if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if("chinese"===(t=t.toLowerCase()))return f;if(0===t.indexOf("zh"))return t.indexOf("-hans")>-1?f:t.indexOf("-hant")>-1?d:(r=t,["-tw","-hk","-mo","-cht"].find((t=>-1!==r.indexOf(t)))?d:f);var r;let n=[p,"fr","es"];e&&Object.keys(e).length>0&&(n=Object.keys(e));const s=function(t,e){return e.find((e=>0===t.indexOf(e)))}(t,n);return s||void 0}class _{constructor({locale:t,fallbackLocale:e,messages:r,watcher:n,formater:s}){this.locale=p,this.fallbackLocale=p,this.message={},this.messages={},this.watchers=[],e&&(this.fallbackLocale=e),this.formater=s||m,this.messages=r||{},this.setLocale(t||p),n&&this.watchLocale(n)}setLocale(t){const e=this.locale;this.locale=v(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],e!==this.locale&&this.watchers.forEach((t=>{t(this.locale,e)}))}getLocale(){return this.locale}watchLocale(t){const e=this.watchers.push(t)-1;return()=>{this.watchers.splice(e,1)}}add(t,e,r=!0){const n=this.messages[t];n?r?Object.assign(n,e):Object.keys(e).forEach((t=>{y(n,t)||(n[t]=e[t])})):this.messages[t]=e}f(t,e,r){return this.formater.interpolate(t,e,r).join("")}t(t,e,r){let n=this.message;return"string"==typeof e?(e=v(e,this.messages))&&(n=this.messages[e]):r=e,y(n,t)?this.formater.interpolate(n[t],r).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}}const S={pages:[{path:"pages/index/index",style:{navigationBarTitleText:"",navigationStyle:"custom",navigationBarTextStyle:"black"}}],globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"uni-app",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8"},uniIdRouter:{}};function w(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var b=w((function(t,e){var r;t.exports=(r=r||function(t,e){var r=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),n={},s=n.lib={},i=s.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=s.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,s=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<s;i++){var o=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=o<<24-(n+i)%4*8}else for(i=0;i<s;i+=4)e[n+i>>>2]=r[i>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],s=function(e){var r=987654321,n=4294967295;return function(){var s=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return s/=4294967296,(s+=.5)*(t.random()>.5?1:-1)}},i=0;i<e;i+=4){var a=s(4294967296*(r||t.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new o.init(n,e)}}),a=n.enc={},c=a.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],s=0;s<r;s++){var i=e[s>>>2]>>>24-s%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new o.init(r,e/2)}},u=a.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],s=0;s<r;s++){var i=e[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new o.init(r,e)}},l=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=s.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,s=r.sigBytes,i=this.blockSize,a=s/(4*i),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*i,u=t.min(4*c,s);if(c){for(var l=0;l<c;l+=i)this._doProcessBlock(n,l);var h=n.splice(0,c);r.sigBytes-=u}return new o.init(h,u)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});s.Hasher=h.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new f.HMAC.init(t,r).finalize(e)}}});var f=n.algo={};return n}(Math),r)})),E=b,T=(w((function(t,e){var r;t.exports=(r=E,function(t){var e=r,n=e.lib,s=n.WordArray,i=n.Hasher,o=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=o.MD5=i.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,s=t[n];t[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var i=this._hash.words,o=t[e+0],c=t[e+1],d=t[e+2],p=t[e+3],g=t[e+4],y=t[e+5],m=t[e+6],v=t[e+7],_=t[e+8],S=t[e+9],w=t[e+10],b=t[e+11],E=t[e+12],T=t[e+13],I=t[e+14],A=t[e+15],D=i[0],k=i[1],x=i[2],O=i[3];D=u(D,k,x,O,o,7,a[0]),O=u(O,D,k,x,c,12,a[1]),x=u(x,O,D,k,d,17,a[2]),k=u(k,x,O,D,p,22,a[3]),D=u(D,k,x,O,g,7,a[4]),O=u(O,D,k,x,y,12,a[5]),x=u(x,O,D,k,m,17,a[6]),k=u(k,x,O,D,v,22,a[7]),D=u(D,k,x,O,_,7,a[8]),O=u(O,D,k,x,S,12,a[9]),x=u(x,O,D,k,w,17,a[10]),k=u(k,x,O,D,b,22,a[11]),D=u(D,k,x,O,E,7,a[12]),O=u(O,D,k,x,T,12,a[13]),x=u(x,O,D,k,I,17,a[14]),D=l(D,k=u(k,x,O,D,A,22,a[15]),x,O,c,5,a[16]),O=l(O,D,k,x,m,9,a[17]),x=l(x,O,D,k,b,14,a[18]),k=l(k,x,O,D,o,20,a[19]),D=l(D,k,x,O,y,5,a[20]),O=l(O,D,k,x,w,9,a[21]),x=l(x,O,D,k,A,14,a[22]),k=l(k,x,O,D,g,20,a[23]),D=l(D,k,x,O,S,5,a[24]),O=l(O,D,k,x,I,9,a[25]),x=l(x,O,D,k,p,14,a[26]),k=l(k,x,O,D,_,20,a[27]),D=l(D,k,x,O,T,5,a[28]),O=l(O,D,k,x,d,9,a[29]),x=l(x,O,D,k,v,14,a[30]),D=h(D,k=l(k,x,O,D,E,20,a[31]),x,O,y,4,a[32]),O=h(O,D,k,x,_,11,a[33]),x=h(x,O,D,k,b,16,a[34]),k=h(k,x,O,D,I,23,a[35]),D=h(D,k,x,O,c,4,a[36]),O=h(O,D,k,x,g,11,a[37]),x=h(x,O,D,k,v,16,a[38]),k=h(k,x,O,D,w,23,a[39]),D=h(D,k,x,O,T,4,a[40]),O=h(O,D,k,x,o,11,a[41]),x=h(x,O,D,k,p,16,a[42]),k=h(k,x,O,D,m,23,a[43]),D=h(D,k,x,O,S,4,a[44]),O=h(O,D,k,x,E,11,a[45]),x=h(x,O,D,k,A,16,a[46]),D=f(D,k=h(k,x,O,D,d,23,a[47]),x,O,o,6,a[48]),O=f(O,D,k,x,v,10,a[49]),x=f(x,O,D,k,I,15,a[50]),k=f(k,x,O,D,y,21,a[51]),D=f(D,k,x,O,E,6,a[52]),O=f(O,D,k,x,p,10,a[53]),x=f(x,O,D,k,w,15,a[54]),k=f(k,x,O,D,c,21,a[55]),D=f(D,k,x,O,_,6,a[56]),O=f(O,D,k,x,A,10,a[57]),x=f(x,O,D,k,m,15,a[58]),k=f(k,x,O,D,T,21,a[59]),D=f(D,k,x,O,g,6,a[60]),O=f(O,D,k,x,b,10,a[61]),x=f(x,O,D,k,d,15,a[62]),k=f(k,x,O,D,S,21,a[63]),i[0]=i[0]+D|0,i[1]=i[1]+k|0,i[2]=i[2]+x|0,i[3]=i[3]+O|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;r[s>>>5]|=128<<24-s%32;var i=t.floor(n/4294967296),o=n;r[15+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,r,n,s,i,o){var a=t+(e&r|~e&n)+s+o;return(a<<i|a>>>32-i)+e}function l(t,e,r,n,s,i,o){var a=t+(e&n|r&~n)+s+o;return(a<<i|a>>>32-i)+e}function h(t,e,r,n,s,i,o){var a=t+(e^r^n)+s+o;return(a<<i|a>>>32-i)+e}function f(t,e,r,n,s,i,o){var a=t+(r^(e|~n))+s+o;return(a<<i|a>>>32-i)+e}e.MD5=i._createHelper(c),e.HmacMD5=i._createHmacHelper(c)}(Math),r.MD5)})),w((function(t,e){var r,n,s;t.exports=(n=(r=E).lib.Base,s=r.enc.Utf8,void(r.algo.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),a=i.words,c=o.words,u=0;u<r;u++)a[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))})),w((function(t,e){t.exports=E.HmacMD5}))),I=w((function(t,e){t.exports=E.enc.Utf8})),A=w((function(t,e){var r,n,s;t.exports=(s=(n=r=E).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var s=[],i=0;i<r;i+=3)for(var o=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<r;a++)s.push(n.charAt(o>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(t){var e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return function(t,e,r){for(var n=[],i=0,o=0;o<e;o++)if(o%4){var a=r[t.charCodeAt(o-1)]<<o%4*2,c=r[t.charCodeAt(o)]>>>6-o%4*2;n[i>>>2]|=(a|c)<<24-i%4*8,i++}return s.create(n,i)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)}));const D="FUNCTION",k="pending",x="rejected";function O(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function R(t){return"object"===O(t)}function M(t){return"function"==typeof t}function C(t){return function(){try{return t.apply(t,arguments)}catch(e){console.error(e)}}}const P="REJECTED",B="NOT_PENDING";class N{constructor({createPromise:t,retryRule:e=P}={}){this.createPromise=t,this.status=null,this.promise=null,this.retryRule=e}get needRetry(){if(!this.status)return!0;switch(this.retryRule){case P:return this.status===x;case B:return this.status!==k}}exec(){return this.needRetry?(this.status=k,this.promise=this.createPromise().then((t=>(this.status="fullfilled",Promise.resolve(t))),(t=>(this.status=x,Promise.reject(t)))),this.promise):this.promise}}function L(t){return t&&"string"==typeof t?JSON.parse(t):t}const U=L([]);L("");const q=L("[]")||[];let j="";try{j="__UNI__9CA9A5A"}catch(Rt){}let F={};function H(t,e={}){var r,n;return r=F,n=t,Object.prototype.hasOwnProperty.call(r,n)||(F[t]=e),F[t]}F=uni._globalUniCloudObj?uni._globalUniCloudObj:uni._globalUniCloudObj={};const V=["invoke","success","fail","complete"],K=H("_globalUniCloudInterceptor");function $(t,e){K[t]||(K[t]={}),R(e)&&Object.keys(e).forEach((r=>{V.indexOf(r)>-1&&function(t,e,r){let n=K[t][e];n||(n=K[t][e]=[]),-1===n.indexOf(r)&&M(r)&&n.push(r)}(t,r,e[r])}))}function z(t,e){K[t]||(K[t]={}),R(e)?Object.keys(e).forEach((r=>{V.indexOf(r)>-1&&function(t,e,r){const n=K[t][e];if(!n)return;const s=n.indexOf(r);s>-1&&n.splice(s,1)}(t,r,e[r])})):delete K[t]}function W(t,e){return t&&0!==t.length?t.reduce(((t,r)=>t.then((()=>r(e)))),Promise.resolve()):Promise.resolve()}function J(t,e){return K[t]&&K[t][e]||[]}function G(t){$("callObject",t)}const Y=H("_globalUniCloudListener"),Z="response",Q="needLogin",X="refreshToken",et="clientdb",rt="cloudfunction",nt="cloudobject";function st(t){return Y[t]||(Y[t]=[]),Y[t]}function it(t,e){const r=st(t);r.includes(e)||r.push(e)}function ot(t,e){const r=st(t),n=r.indexOf(e);-1!==n&&r.splice(n,1)}function at(t,e){const r=st(t);for(let n=0;n<r.length;n++)(0,r[n])(e)}let ct,ut=!1;function lt(){return ct||(ct=new Promise((t=>{ut&&t(),function e(){if("function"==typeof getCurrentPages){const e=getCurrentPages();e&&e[0]&&(ut=!0,t())}ut||setTimeout((()=>{e()}),30)}()})),ct)}function ht(t){const e={};for(const r in t){const n=t[r];M(n)&&(e[r]=C(n))}return e}class ft extends Error{constructor(t){super(t.message),this.errMsg=t.message||t.errMsg||"unknown system error",this.code=this.errCode=t.code||t.errCode||"SYSTEM_ERROR",this.errSubject=this.subject=t.subject||t.errSubject,this.cause=t.cause,this.requestId=t.requestId}toJson(t=0){if(!(t>=10))return t++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(t):this.cause}}}var dt={request:t=>uni.request(t),uploadFile:t=>uni.uploadFile(t),setStorageSync:(t,e)=>uni.setStorageSync(t,e),getStorageSync:t=>uni.getStorageSync(t),removeStorageSync:t=>uni.removeStorageSync(t),clearStorageSync:()=>uni.clearStorageSync()};function pt(t){return t&&pt(t.__v_raw)||t}function gt(){return{token:dt.getStorageSync("uni_id_token")||dt.getStorageSync("uniIdToken"),tokenExpired:dt.getStorageSync("uni_id_token_expired")}}function yt({token:t,tokenExpired:e}={}){t&&dt.setStorageSync("uni_id_token",t),e&&dt.setStorageSync("uni_id_token_expired",e)}let mt,vt;function _t(){return mt||(mt=uni.getSystemInfoSync()),mt}function St(){let t,e;try{if(uni.getLaunchOptionsSync){if(uni.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;const{scene:r,channel:n}=uni.getLaunchOptionsSync();t=n,e=r}}catch(r){}return{channel:t,scene:e}}function wt(){const t=uni.getLocale&&uni.getLocale()||"en";if(vt)return{...vt,locale:t,LOCALE:t};const e=_t(),{deviceId:r,osName:n,uniPlatform:s,appId:i}=e,o=["pixelRatio","brand","model","system","language","version","platform","host","SDKVersion","swanNativeVersion","app","AppPlatform","fontSizeSetting"];for(let a=0;a<o.length;a++)delete e[o[a]];return vt={PLATFORM:s,OS:n,APPID:i,DEVICEID:r,...St(),...e},{...vt,locale:t,LOCALE:t}}var bt=function(t,e){let r="";return Object.keys(t).sort().forEach((function(e){t[e]&&(r=r+"&"+e+"="+t[e])})),r=r.slice(1),T(r,e).toString()},Et=function(t,e){return new Promise(((r,n)=>{e(Object.assign(t,{complete(t){t||(t={});const e=t.data&&t.data.header&&t.data.header["x-serverless-request-id"]||t.header&&t.header["request-id"];if(!t.statusCode||t.statusCode>=400)return n(new ft({code:"SYS_ERR",message:t.errMsg||"request:fail",requestId:e}));const s=t.data;if(s.error)return n(new ft({code:s.error.code,message:s.error.message,requestId:e}));s.result=s.data,s.requestId=e,delete s.data,r(s)}}))}))},Tt=function(t){return A.stringify(I.parse(t))},It={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"};const{t:At}=function(t,e={},r,n){"string"!=typeof t&&([t,e]=[e,t]),"string"!=typeof t&&(t="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():p),"string"!=typeof r&&(r="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||p);const s=new _({locale:t,fallbackLocale:r,messages:e,watcher:n});let i=(t,e)=>{if("function"!=typeof getApp)i=function(t,e){return s.t(t,e)};else{let t=!1;i=function(e,r){const n=getApp().$vm;return n&&(n.$locale,t||(t=!0,function(t,e){t.$watchLocale?t.$watchLocale((t=>{e.setLocale(t)})):t.$watch((()=>t.$locale),(t=>{e.setLocale(t)}))}(n,s))),s.t(e,r)}}return i(t,e)};return{i18n:s,f:(t,e,r)=>s.f(t,e,r),t:(t,e)=>i(t,e),add:(t,e,r=!0)=>s.add(t,e,r),watch:t=>s.watchLocale(t),getLocale:()=>s.getLocale(),setLocale:t=>s.setLocale(t)}}({"zh-Hans":{"uniCloud.init.paramRequired":"缺少参数：{param}","uniCloud.uploadFile.fileError":"filePath应为File对象"},"zh-Hant":{"uniCloud.init.paramRequired":"缺少参数：{param}","uniCloud.uploadFile.fileError":"filePath应为File对象"},en:It,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:It},"zh-Hans");var Dt=class{constructor(t){["spaceId","clientSecret"].forEach((e=>{if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error(At("uniCloud.init.paramRequired",{param:e}))})),this.config=Object.assign({},{endpoint:0===t.spaceId.indexOf("mp-")?"https://api.next.bspapp.com":"https://api.bspapp.com"},t),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=dt,this._getAccessTokenPromiseHub=new N({createPromise:()=>this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((t=>{if(!t.result||!t.result.accessToken)throw new ft({code:"AUTH_FAILED",message:"获取accessToken失败"});this.setAccessToken(t.result.accessToken)})),retryRule:B})}get hasAccessToken(){return!!this.accessToken}setAccessToken(t){this.accessToken=t}requestWrapped(t){return Et(t,this.adapter.request)}requestAuth(t){return this.requestWrapped(t)}request(t,e){return Promise.resolve().then((()=>this.hasAccessToken?e?this.requestWrapped(t):this.requestWrapped(t).catch((e=>new Promise(((t,r)=>{!e||"GATEWAY_INVALID_TOKEN"!==e.code&&"InvalidParameter.InvalidToken"!==e.code?r(e):t()})).then((()=>this.getAccessToken())).then((()=>{const e=this.rebuildRequest(t);return this.request(e,!0)})))):this.getAccessToken().then((()=>{const e=this.rebuildRequest(t);return this.request(e,!0)}))))}rebuildRequest(t){const e=Object.assign({},t);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=bt(e.data,this.config.clientSecret),e}setupRequest(t,e){const r=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),n={"Content-Type":"application/json"};return"auth"!==e&&(r.token=this.accessToken,n["x-basement-token"]=this.accessToken),n["x-serverless-sign"]=bt(r,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:r,dataType:"json",header:n}}getAccessToken(){return this._getAccessTokenPromiseHub.exec()}async authorize(){await this.getAccessToken()}callFunction(t){const e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:t.name,functionArgs:t.data||{}})};return this.request(this.setupRequest(e))}getOSSUploadOptionsFromPath(t){const e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}uploadFileToOSS({url:t,formData:e,name:r,filePath:n,fileType:s,onUploadProgress:i}){return new Promise(((o,a)=>{const c=this.adapter.uploadFile({url:t,formData:e,name:r,filePath:n,fileType:s,header:{"X-OSS-server-side-encrpytion":"AES256"},success(t){t&&t.statusCode<400?o(t):a(new ft({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(t){a(new ft({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"文件上传失败"}))}});"function"==typeof i&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((t=>{i({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}reportOSSUpload(t){const e={method:"serverless.file.resource.report",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}async uploadFile({filePath:t,cloudPath:e,fileType:r="image",onUploadProgress:n,config:s}){if("string"!==O(e))throw new ft({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});if(!(e=e.trim()))throw new ft({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});if(/:\/\//.test(e))throw new ft({code:"INVALID_PARAM",message:"cloudPath不合法"});const i=s&&s.envType||this.config.envType,o=(await this.getOSSUploadOptionsFromPath({env:i,filename:e})).result,a="https://"+o.cdnDomain+"/"+o.ossPath,{securityToken:c,accessKeyId:u,signature:l,host:h,ossPath:f,id:d,policy:p,ossCallbackUrl:g}=o,y={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:u,Signature:l,host:h,id:d,key:f,policy:p,success_action_status:200};if(c&&(y["x-oss-security-token"]=c),g){const t=JSON.stringify({callbackUrl:g,callbackBody:JSON.stringify({fileId:d,spaceId:this.config.spaceId}),callbackBodyType:"application/json"});y.callback=Tt(t)}const m={url:"https://"+o.host,formData:y,fileName:"file",name:"file",filePath:t,fileType:r};if(await this.uploadFileToOSS(Object.assign({},m,{onUploadProgress:n})),g)return{success:!0,filePath:t,fileID:a};if((await this.reportOSSUpload({id:d})).success)return{success:!0,filePath:t,fileID:a};throw new ft({code:"UPLOAD_FAILED",message:"文件上传失败"})}getTempFileURL({fileList:t}={}){return new Promise(((e,r)=>{Array.isArray(t)&&0!==t.length||r(new ft({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"})),e({fileList:t.map((t=>({fileID:t,tempFileURL:t})))})}))}async getFileInfo({fileList:t}={}){if(!Array.isArray(t)||0===t.length)throw new ft({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const e={method:"serverless.file.resource.info",params:JSON.stringify({id:t.map((t=>t.split("?")[0])).join(",")})};return{fileList:(await this.request(this.setupRequest(e))).result}}},kt={init(t){const e=new Dt(t),r={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return r},e.customAuth=e.auth,e}};const xt="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";var Ot,Rt;(Rt=Ot||(Ot={})).local="local",Rt.none="none",Rt.session="session";var Mt=function(){};const Ct=()=>{let t;if(!Promise){t=()=>{},t.promise={};const e=()=>{throw new ft({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}const e=new Promise(((e,r)=>{t=(t,n)=>t?r(t):e(n)}));return t.promise=e,t};function Pt(t){return void 0===t}function Bt(t){return"[object Null]"===Object.prototype.toString.call(t)}var Nt;!function(t){t.WEB="web",t.WX_MP="wx_mp"}(Nt||(Nt={}));const Lt={adapter:null,runtime:void 0},Ut=["anonymousUuidKey"];class qt extends Mt{constructor(){super(),Lt.adapter.root.tcbObject||(Lt.adapter.root.tcbObject={})}setItem(t,e){Lt.adapter.root.tcbObject[t]=e}getItem(t){return Lt.adapter.root.tcbObject[t]}removeItem(t){delete Lt.adapter.root.tcbObject[t]}clear(){delete Lt.adapter.root.tcbObject}}function jt(t,e){switch(t){case"local":return e.localStorage||new qt;case"none":return new qt;default:return e.sessionStorage||new qt}}class Ft{constructor(t){if(!this._storage){this._persistence=Lt.adapter.primaryStorage||t.persistence,this._storage=jt(this._persistence,Lt.adapter);const e=`access_token_${t.env}`,r=`access_token_expire_${t.env}`,n=`refresh_token_${t.env}`,s=`anonymous_uuid_${t.env}`,i=`login_type_${t.env}`,o=`user_info_${t.env}`;this.keys={accessTokenKey:e,accessTokenExpireKey:r,refreshTokenKey:n,anonymousUuidKey:s,loginTypeKey:i,userInfoKey:o}}}updatePersistence(t){if(t===this._persistence)return;const e="local"===this._persistence;this._persistence=t;const r=jt(t,Lt.adapter);for(const n in this.keys){const t=this.keys[n];if(e&&Ut.includes(n))continue;const s=this._storage.getItem(t);Pt(s)||Bt(s)||(r.setItem(t,s),this._storage.removeItem(t))}this._storage=r}setStore(t,e,r){if(!this._storage)return;const n={version:r||"localCachev1",content:e},s=JSON.stringify(n);try{this._storage.setItem(t,s)}catch(i){throw i}}getStore(t,e){try{if(!this._storage)return}catch(n){return""}e=e||"localCachev1";const r=this._storage.getItem(t);return r&&r.indexOf(e)>=0?JSON.parse(r).content:""}removeStore(t){this._storage.removeItem(t)}}const Ht={},Vt={};function Kt(t){return Ht[t]}class $t{constructor(t,e){this.data=e||null,this.name=t}}class zt extends $t{constructor(t,e){super("error",{error:t,data:e}),this.error=t}}const Wt=new class{constructor(){this._listeners={}}on(t,e){return r=t,n=e,(s=this._listeners)[r]=s[r]||[],s[r].push(n),this;var r,n,s}off(t,e){return function(t,e,r){if(r&&r[t]){const n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1)}}(t,e,this._listeners),this}fire(t,e){if(t instanceof zt)return console.error(t.error),this;const r="string"==typeof t?new $t(t,e||{}):t,n=r.name;if(this._listens(n)){r.target=this;const t=this._listeners[n]?[...this._listeners[n]]:[];for(const e of t)e.call(this,r)}return this}_listens(t){return this._listeners[t]&&this._listeners[t].length>0}};function Jt(t,e){Wt.on(t,e)}function Gt(t,e={}){Wt.fire(t,e)}function Yt(t,e){Wt.off(t,e)}const Zt="loginStateChanged",Qt="loginStateExpire",Xt="loginTypeChanged",te="anonymousConverted",ee="refreshAccessToken";var re;!function(t){t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.NULL="NULL"}(re||(re={}));const ne=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],se={"X-SDK-Version":"1.3.5"};function ie(t,e,r){const n=t[e];t[e]=function(e){const s={},i={};r.forEach((r=>{const{data:n,headers:o}=r.call(t,e);Object.assign(s,n),Object.assign(i,o)}));const o=e.data;return o&&(()=>{var t;if(t=o,"[object FormData]"!==Object.prototype.toString.call(t))e.data={...o,...s};else for(const e in s)o.append(e,s[e])})(),e.headers={...e.headers||{},...i},n.call(t,e)}}function oe(){const t=Math.random().toString(16).slice(2);return{data:{seqId:t},headers:{...se,"x-seqid":t}}}class ae{constructor(t={}){var e;this.config=t,this._reqClass=new Lt.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`请求在${this.config.timeout/1e3}s内未完成，已中断`,restrictedMethods:["post"]}),this._cache=Kt(this.config.env),this._localCache=(e=this.config.env,Vt[e]),ie(this._reqClass,"post",[oe]),ie(this._reqClass,"upload",[oe]),ie(this._reqClass,"download",[oe])}async post(t){return await this._reqClass.post(t)}async upload(t){return await this._reqClass.upload(t)}async download(t){return await this._reqClass.download(t)}async refreshAccessToken(){let t,e;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{t=await this._refreshAccessTokenPromise}catch(r){e=r}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,e)throw e;return t}async _refreshAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:e,refreshTokenKey:r,loginTypeKey:n,anonymousUuidKey:s}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(e);let i=this._cache.getStore(r);if(!i)throw new ft({message:"未登录CloudBase"});const o={refresh_token:i},a=await this.request("auth.fetchAccessTokenWithRefreshToken",o);if(a.data.code){const{code:t}=a.data;if("SIGN_PARAM_INVALID"===t||"REFRESH_TOKEN_EXPIRED"===t||"INVALID_REFRESH_TOKEN"===t){if(this._cache.getStore(n)===re.ANONYMOUS&&"INVALID_REFRESH_TOKEN"===t){const t=this._cache.getStore(s),e=this._cache.getStore(r),n=await this.send("auth.signInAnonymously",{anonymous_uuid:t,refresh_token:e});return this.setRefreshToken(n.refresh_token),this._refreshAccessToken()}Gt(Qt),this._cache.removeStore(r)}throw new ft({code:a.data.code,message:`刷新access token失败：${a.data.code}`})}if(a.data.access_token)return Gt(ee),this._cache.setStore(t,a.data.access_token),this._cache.setStore(e,a.data.access_token_expire+Date.now()),{accessToken:a.data.access_token,accessTokenExpire:a.data.access_token_expire};a.data.refresh_token&&(this._cache.removeStore(r),this._cache.setStore(r,a.data.refresh_token),this._refreshAccessToken())}async getAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:e,refreshTokenKey:r}=this._cache.keys;if(!this._cache.getStore(r))throw new ft({message:"refresh token不存在，登录状态异常"});let n=this._cache.getStore(t),s=this._cache.getStore(e),i=!0;return this._shouldRefreshAccessTokenHook&&!(await this._shouldRefreshAccessTokenHook(n,s))&&(i=!1),(!n||!s||s<Date.now())&&i?this.refreshAccessToken():{accessToken:n,accessTokenExpire:s}}async request(t,e,r){const n=`x-tcb-trace_${this.config.env}`;let s="application/x-www-form-urlencoded";const i={action:t,env:this.config.env,dataVersion:"2019-08-16",...e};if(-1===ne.indexOf(t)){const{refreshTokenKey:t}=this._cache.keys;this._cache.getStore(t)&&(i.access_token=(await this.getAccessToken()).accessToken)}let o;if("storage.uploadFile"===t){o=new FormData;for(let t in o)o.hasOwnProperty(t)&&void 0!==o[t]&&o.append(t,i[t]);s="multipart/form-data"}else{s="application/json",o={};for(let t in i)void 0!==i[t]&&(o[t]=i[t])}let a={headers:{"content-type":s}};r&&r.onUploadProgress&&(a.onUploadProgress=r.onUploadProgress);const c=this._localCache.getStore(n);c&&(a.headers["X-TCB-Trace"]=c);const{parse:u,inQuery:l,search:h}=e;let f={env:this.config.env};u&&(f.parse=!0),l&&(f={...l,...f});let d=function(t,e,r={}){const n=/\?/.test(e);let s="";for(let i in r)""===s?!n&&(e+="?"):s+="&",s+=`${i}=${encodeURIComponent(r[i])}`;return/^http(s)?\:\/\//.test(e+=s)?e:`${t}${e}`}(xt,"//tcb-api.tencentcloudapi.com/web",f);h&&(d+=h);const p=await this.post({url:d,data:o,...a}),g=p.header&&p.header["x-tcb-trace"];if(g&&this._localCache.setStore(n,g),200!==Number(p.status)&&200!==Number(p.statusCode)||!p.data)throw new ft({code:"NETWORK_ERROR",message:"network request error"});return p}async send(t,e={}){const r=await this.request(t,e,{onUploadProgress:e.onUploadProgress});if("ACCESS_TOKEN_EXPIRED"===r.data.code&&-1===ne.indexOf(t)){await this.refreshAccessToken();const r=await this.request(t,e,{onUploadProgress:e.onUploadProgress});if(r.data.code)throw new ft({code:r.data.code,message:r.data.message});return r.data}if(r.data.code)throw new ft({code:r.data.code,message:r.data.message});return r.data}setRefreshToken(t){const{accessTokenKey:e,accessTokenExpireKey:r,refreshTokenKey:n}=this._cache.keys;this._cache.removeStore(e),this._cache.removeStore(r),this._cache.setStore(n,t)}}const ce={};function ue(t){return ce[t]}class le{constructor(t){this.config=t,this._cache=Kt(t.env),this._request=ue(t.env)}setRefreshToken(t){const{accessTokenKey:e,accessTokenExpireKey:r,refreshTokenKey:n}=this._cache.keys;this._cache.removeStore(e),this._cache.removeStore(r),this._cache.setStore(n,t)}setAccessToken(t,e){const{accessTokenKey:r,accessTokenExpireKey:n}=this._cache.keys;this._cache.setStore(r,t),this._cache.setStore(n,e)}async refreshUserInfo(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setLocalUserInfo(t){const{userInfoKey:e}=this._cache.keys;this._cache.setStore(e,t)}}class he{constructor(t){if(!t)throw new ft({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=t,this._cache=Kt(this._envId),this._request=ue(this._envId),this.setUserInfo()}linkWithTicket(t){if("string"!=typeof t)throw new ft({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:t})}linkWithRedirect(t){t.signInWithRedirect()}updatePassword(t,e){return this._request.send("auth.updatePassword",{oldPassword:e,newPassword:t})}updateEmail(t){return this._request.send("auth.updateEmail",{newEmail:t})}updateUsername(t){if("string"!=typeof t)throw new ft({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:t})}async getLinkedUidList(){const{data:t}=await this._request.send("auth.getLinkedUidList",{});let e=!1;const{users:r}=t;return r.forEach((t=>{t.wxOpenId&&t.wxPublicId&&(e=!0)})),{users:r,hasPrimaryUid:e}}setPrimaryUid(t){return this._request.send("auth.setPrimaryUid",{uid:t})}unlink(t){return this._request.send("auth.unlink",{platform:t})}async update(t){const{nickName:e,gender:r,avatarUrl:n,province:s,country:i,city:o}=t,{data:a}=await this._request.send("auth.updateUserInfo",{nickName:e,gender:r,avatarUrl:n,province:s,country:i,city:o});this.setLocalUserInfo(a)}async refresh(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setUserInfo(){const{userInfoKey:t}=this._cache.keys,e=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((t=>{this[t]=e[t]})),this.location={country:e.country,province:e.province,city:e.city}}setLocalUserInfo(t){const{userInfoKey:e}=this._cache.keys;this._cache.setStore(e,t),this.setUserInfo()}}class fe{constructor(t){if(!t)throw new ft({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=Kt(t);const{refreshTokenKey:e,accessTokenKey:r,accessTokenExpireKey:n}=this._cache.keys,s=this._cache.getStore(e),i=this._cache.getStore(r),o=this._cache.getStore(n);this.credential={refreshToken:s,accessToken:i,accessTokenExpire:o},this.user=new he(t)}get isAnonymousAuth(){return this.loginType===re.ANONYMOUS}get isCustomAuth(){return this.loginType===re.CUSTOM}get isWeixinAuth(){return this.loginType===re.WECHAT||this.loginType===re.WECHAT_OPEN||this.loginType===re.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}let de=class extends le{async signIn(){this._cache.updatePersistence("local");const{anonymousUuidKey:t,refreshTokenKey:e}=this._cache.keys,r=this._cache.getStore(t)||void 0,n=this._cache.getStore(e)||void 0,s=await this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:n});if(s.uuid&&s.refresh_token){this._setAnonymousUUID(s.uuid),this.setRefreshToken(s.refresh_token),await this._request.refreshAccessToken(),Gt(Zt),Gt(Xt,{env:this.config.env,loginType:re.ANONYMOUS,persistence:"local"});const t=new fe(this.config.env);return await t.user.refresh(),t}throw new ft({message:"匿名登录失败"})}async linkAndRetrieveDataWithTicket(t){const{anonymousUuidKey:e,refreshTokenKey:r}=this._cache.keys,n=this._cache.getStore(e),s=this._cache.getStore(r),i=await this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:n,refresh_token:s,ticket:t});if(i.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(i.refresh_token),await this._request.refreshAccessToken(),Gt(te,{env:this.config.env}),Gt(Xt,{loginType:re.CUSTOM,persistence:"local"}),{credential:{refreshToken:i.refresh_token}};throw new ft({message:"匿名转化失败"})}_setAnonymousUUID(t){const{anonymousUuidKey:e,loginTypeKey:r}=this._cache.keys;this._cache.removeStore(e),this._cache.setStore(e,t),this._cache.setStore(r,re.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}};class pe extends le{async signIn(t){if("string"!=typeof t)throw new ft({code:"PARAM_ERROR",message:"ticket must be a string"});const{refreshTokenKey:e}=this._cache.keys,r=await this._request.send("auth.signInWithTicket",{ticket:t,refresh_token:this._cache.getStore(e)||""});if(r.refresh_token)return this.setRefreshToken(r.refresh_token),await this._request.refreshAccessToken(),Gt(Zt),Gt(Xt,{env:this.config.env,loginType:re.CUSTOM,persistence:this.config.persistence}),await this.refreshUserInfo(),new fe(this.config.env);throw new ft({message:"自定义登录失败"})}}class ge extends le{async signIn(t,e){if("string"!=typeof t)throw new ft({code:"PARAM_ERROR",message:"email must be a string"});const{refreshTokenKey:r}=this._cache.keys,n=await this._request.send("auth.signIn",{loginType:"EMAIL",email:t,password:e,refresh_token:this._cache.getStore(r)||""}),{refresh_token:s,access_token:i,access_token_expire:o}=n;if(s)return this.setRefreshToken(s),i&&o?this.setAccessToken(i,o):await this._request.refreshAccessToken(),await this.refreshUserInfo(),Gt(Zt),Gt(Xt,{env:this.config.env,loginType:re.EMAIL,persistence:this.config.persistence}),new fe(this.config.env);throw n.code?new ft({code:n.code,message:`邮箱登录失败: ${n.message}`}):new ft({message:"邮箱登录失败"})}async activate(t){return this._request.send("auth.activateEndUserMail",{token:t})}async resetPasswordWithToken(t,e){return this._request.send("auth.resetPasswordWithToken",{token:t,newPassword:e})}}class ye extends le{async signIn(t,e){if("string"!=typeof t)throw new ft({code:"PARAM_ERROR",message:"username must be a string"});"string"!=typeof e&&(e="",console.warn("password is empty"));const{refreshTokenKey:r}=this._cache.keys,n=await this._request.send("auth.signIn",{loginType:re.USERNAME,username:t,password:e,refresh_token:this._cache.getStore(r)||""}),{refresh_token:s,access_token_expire:i,access_token:o}=n;if(s)return this.setRefreshToken(s),o&&i?this.setAccessToken(o,i):await this._request.refreshAccessToken(),await this.refreshUserInfo(),Gt(Zt),Gt(Xt,{env:this.config.env,loginType:re.USERNAME,persistence:this.config.persistence}),new fe(this.config.env);throw n.code?new ft({code:n.code,message:`用户名密码登录失败: ${n.message}`}):new ft({message:"用户名密码登录失败"})}}class me{constructor(t){this.config=t,this._cache=Kt(t.env),this._request=ue(t.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Jt(Xt,this._onLoginTypeChanged)}get currentUser(){const t=this.hasLoginState();return t&&t.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new de(this.config)}customAuthProvider(){return new pe(this.config)}emailAuthProvider(){return new ge(this.config)}usernameAuthProvider(){return new ye(this.config)}async signInAnonymously(){return new de(this.config).signIn()}async signInWithEmailAndPassword(t,e){return new ge(this.config).signIn(t,e)}signInWithUsernameAndPassword(t,e){return new ye(this.config).signIn(t,e)}async linkAndRetrieveDataWithTicket(t){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new de(this.config)),Jt(te,this._onAnonymousConverted),await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(t)}async signOut(){if(this.loginType===re.ANONYMOUS)throw new ft({message:"匿名用户不支持登出操作"});const{refreshTokenKey:t,accessTokenKey:e,accessTokenExpireKey:r}=this._cache.keys,n=this._cache.getStore(t);if(!n)return;const s=await this._request.send("auth.logout",{refresh_token:n});return this._cache.removeStore(t),this._cache.removeStore(e),this._cache.removeStore(r),Gt(Zt),Gt(Xt,{env:this.config.env,loginType:re.NULL,persistence:this.config.persistence}),s}async signUpWithEmailAndPassword(t,e){return this._request.send("auth.signUpWithEmailAndPassword",{email:t,password:e})}async sendPasswordResetEmail(t){return this._request.send("auth.sendPasswordResetEmail",{email:t})}onLoginStateChanged(t){Jt(Zt,(()=>{const e=this.hasLoginState();t.call(this,e)}));const e=this.hasLoginState();t.call(this,e)}onLoginStateExpired(t){Jt(Qt,t.bind(this))}onAccessTokenRefreshed(t){Jt(ee,t.bind(this))}onAnonymousConverted(t){Jt(te,t.bind(this))}onLoginTypeChanged(t){Jt(Xt,(()=>{const e=this.hasLoginState();t.call(this,e)}))}async getAccessToken(){return{accessToken:(await this._request.getAccessToken()).accessToken,env:this.config.env}}hasLoginState(){const{refreshTokenKey:t}=this._cache.keys;return this._cache.getStore(t)?new fe(this.config.env):null}async isUsernameRegistered(t){if("string"!=typeof t)throw new ft({code:"PARAM_ERROR",message:"username must be a string"});const{data:e}=await this._request.send("auth.isUsernameRegistered",{username:t});return e&&e.isRegistered}getLoginState(){return Promise.resolve(this.hasLoginState())}async signInWithTicket(t){return new pe(this.config).signIn(t)}shouldRefreshAccessToken(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then((t=>t.code?t:{...t.data,requestId:t.seqId}))}getAuthHeader(){const{refreshTokenKey:t,accessTokenKey:e}=this._cache.keys,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(e)+"/@@/"+r}}_onAnonymousConverted(t){const{env:e}=t.data;e===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(t){const{loginType:e,persistence:r,env:n}=t.data;n===this.config.env&&(this._cache.updatePersistence(r),this._cache.setStore(this._cache.keys.loginTypeKey,e))}}const ve=function(t,e){e=e||Ct();const r=ue(this.config.env),{cloudPath:n,filePath:s,onUploadProgress:i,fileType:o="image"}=t;return r.send("storage.getUploadMetadata",{path:n}).then((t=>{const{data:{url:a,authorization:c,token:u,fileId:l,cosFileId:h},requestId:f}=t,d={key:n,signature:c,"x-cos-meta-fileid":h,success_action_status:"201","x-cos-security-token":u};r.upload({url:a,data:d,file:s,name:n,fileType:o,onUploadProgress:i}).then((t=>{201===t.statusCode?e(null,{fileID:l,requestId:f}):e(new ft({code:"STORAGE_REQUEST_FAIL",message:`STORAGE_REQUEST_FAIL: ${t.data}`}))})).catch((t=>{e(t)}))})).catch((t=>{e(t)})),e.promise},_e=function(t,e){e=e||Ct();const r=ue(this.config.env),{cloudPath:n}=t;return r.send("storage.getUploadMetadata",{path:n}).then((t=>{e(null,t)})).catch((t=>{e(t)})),e.promise},Se=function({fileList:t},e){if(e=e||Ct(),!t||!Array.isArray(t))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};for(let n of t)if(!n||"string"!=typeof n)return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"};const r={fileid_list:t};return ue(this.config.env).send("storage.batchDeleteFile",r).then((t=>{t.code?e(null,t):e(null,{fileList:t.data.delete_list,requestId:t.requestId})})).catch((t=>{e(t)})),e.promise},we=function({fileList:t},e){e=e||Ct(),t&&Array.isArray(t)||e(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});let r=[];for(let s of t)"object"==typeof s?(s.hasOwnProperty("fileID")&&s.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),r.push({fileid:s.fileID,max_age:s.maxAge})):"string"==typeof s?r.push({fileid:s}):e(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});const n={file_list:r};return ue(this.config.env).send("storage.batchGetDownloadUrl",n).then((t=>{t.code?e(null,t):e(null,{fileList:t.data.download_list,requestId:t.requestId})})).catch((t=>{e(t)})),e.promise},be=async function({fileID:t},e){const r=(await we.call(this,{fileList:[{fileID:t,maxAge:600}]})).fileList[0];if("SUCCESS"!==r.code)return e?e(r):new Promise((t=>{t(r)}));const n=ue(this.config.env);let s=r.download_url;if(s=encodeURI(s),!e)return n.download({url:s});e(await n.download({url:s}))},Ee=function({name:t,data:e,query:r,parse:n,search:s},i){const o=i||Ct();let a;try{a=e?JSON.stringify(e):""}catch(u){return Promise.reject(u)}if(!t)return Promise.reject(new ft({code:"PARAM_ERROR",message:"函数名不能为空"}));const c={inQuery:r,parse:n,search:s,function_name:t,request_data:a};return ue(this.config.env).send("functions.invokeFunction",c).then((t=>{if(t.code)o(null,t);else{let r=t.data.response_data;if(n)o(null,{result:r,requestId:t.requestId});else try{r=JSON.parse(t.data.response_data),o(null,{result:r,requestId:t.requestId})}catch(e){o(new ft({message:"response data must be json"}))}}return o.promise})).catch((t=>{o(t)})),o.promise},Te={timeout:15e3,persistence:"session"},Ie={};class Ae{constructor(t){this.config=t||this.config,this.authObj=void 0}init(t){switch(Lt.adapter||(this.requestClient=new Lt.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:`请求在${(t.timeout||5e3)/1e3}s内未完成，已中断`})),this.config={...Te,...t},!0){case this.config.timeout>6e5:console.warn("timeout大于可配置上限[10分钟]，已重置为上限数值"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout小于可配置下限[100ms]，已重置为下限数值"),this.config.timeout=100}return new Ae(this.config)}auth({persistence:t}={}){if(this.authObj)return this.authObj;const e=t||Lt.adapter.primaryStorage||Te.persistence;var r;return e!==this.config.persistence&&(this.config.persistence=e),function(t){const{env:e}=t;Ht[e]=new Ft(t),Vt[e]=new Ft({...t,persistence:"local"})}(this.config),r=this.config,ce[r.env]=new ae(r),this.authObj=new me(this.config),this.authObj}on(t,e){return Jt.apply(this,[t,e])}off(t,e){return Yt.apply(this,[t,e])}callFunction(t,e){return Ee.apply(this,[t,e])}deleteFile(t,e){return Se.apply(this,[t,e])}getTempFileURL(t,e){return we.apply(this,[t,e])}downloadFile(t,e){return be.apply(this,[t,e])}uploadFile(t,e){return ve.apply(this,[t,e])}getUploadMetadata(t,e){return _e.apply(this,[t,e])}registerExtension(t){Ie[t.name]=t}async invokeExtension(t,e){const r=Ie[t];if(!r)throw new ft({message:`扩展${t} 必须先注册`});return await r.invoke(e,this)}useAdapters(t){const{adapter:e,runtime:r}=function(t){const e=(r=t,"[object Array]"===Object.prototype.toString.call(r)?t:[t]);var r;for(const n of e){const{isMatch:t,genAdapter:e,runtime:r}=n;if(t())return{adapter:e(),runtime:r}}}(t)||{};e&&(Lt.adapter=e),r&&(Lt.runtime=r)}}var De=new Ae;function ke(t,e,r){void 0===r&&(r={});var n=/\?/.test(e),s="";for(var i in r)""===s?!n&&(e+="?"):s+="&",s+=i+"="+encodeURIComponent(r[i]);return/^http(s)?:\/\//.test(e+=s)?e:""+t+e}class xe{post(t){const{url:e,data:r,headers:n}=t;return new Promise(((t,s)=>{dt.request({url:ke("https:",e),data:r,method:"POST",header:n,success(e){t(e)},fail(t){s(t)}})}))}upload(t){return new Promise(((e,r)=>{const{url:n,file:s,data:i,headers:o,fileType:a}=t,c=dt.uploadFile({url:ke("https:",n),name:"file",formData:Object.assign({},i),filePath:s,fileType:a,header:o,success(t){const r={statusCode:t.statusCode,data:t.data||{}};200===t.statusCode&&i.success_action_status&&(r.statusCode=parseInt(i.success_action_status,10)),e(r)},fail(t){r(new Error(t.errMsg||"uploadFile:fail"))}});"function"==typeof t.onUploadProgress&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((e=>{t.onUploadProgress({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}}const Oe={setItem(t,e){dt.setStorageSync(t,e)},getItem:t=>dt.getStorageSync(t),removeItem(t){dt.removeStorageSync(t)},clear(){dt.clearStorageSync()}};var Re={genAdapter:function(){return{root:{},reqClass:xe,localStorage:Oe,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};De.useAdapters(Re);const Me=De,Ce=Me.init;Me.init=function(t){t.env=t.spaceId;const e=Ce.call(this,t);e.config.provider="tencent",e.config.spaceId=t.spaceId;const r=e.auth;return e.auth=function(t){const e=r.call(this,t);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((t=>{var r;e[t]=(r=e[t],function(t){t=t||{};const{success:e,fail:n,complete:s}=ht(t);if(!(e||n||s))return r.call(this,t);r.call(this,t).then((t=>{e&&e(t),s&&s(t)}),(t=>{n&&n(t),s&&s(t)}))}).bind(e)})),e},e.customAuth=e.auth,e};var Pe=Me,Be=class extends Dt{getAccessToken(){return new Promise(((t,e)=>{const r="Anonymous_Access_token";this.setAccessToken(r),t(r)}))}setupRequest(t,e){const r=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),n={"Content-Type":"application/json"};"auth"!==e&&(r.token=this.accessToken,n["x-basement-token"]=this.accessToken),n["x-serverless-sign"]=bt(r,this.config.clientSecret);const s=wt();n["x-client-info"]=encodeURIComponent(JSON.stringify(s));const{token:i}=gt();return n["x-client-token"]=i,{url:this.config.requestUrl,method:"POST",data:r,dataType:"json",header:JSON.parse(JSON.stringify(n))}}uploadFileToOSS({url:t,formData:e,name:r,filePath:n,fileType:s,onUploadProgress:i}){return new Promise(((o,a)=>{const c=this.adapter.uploadFile({url:t,formData:e,name:r,filePath:n,fileType:s,success(t){t&&t.statusCode<400?o(t):a(new ft({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(t){a(new ft({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"文件上传失败"}))}});"function"==typeof i&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((t=>{i({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}uploadFile({filePath:t,cloudPath:e,fileType:r="image",onUploadProgress:n}){if(!e)throw new ft({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});let s;return this.getOSSUploadOptionsFromPath({cloudPath:e}).then((e=>{const{url:i,formData:o,name:a}=e.result;s=e.result.fileUrl;const c={url:i,formData:o,name:a,filePath:t,fileType:r};return this.uploadFileToOSS(Object.assign({},c,{onUploadProgress:n}))})).then((()=>this.reportOSSUpload({cloudPath:e}))).then((e=>new Promise(((r,n)=>{e.success?r({success:!0,filePath:t,fileID:s}):n(new ft({code:"UPLOAD_FAILED",message:"文件上传失败"}))}))))}deleteFile({fileList:t}){const e={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:t})};return this.request(this.setupRequest(e)).then((t=>{if(t.success)return t.result;throw new ft({code:"DELETE_FILE_FAILED",message:"删除文件失败"})}))}getTempFileURL({fileList:t}={}){if(!Array.isArray(t)||0===t.length)throw new ft({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const e={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:t})};return this.request(this.setupRequest(e)).then((t=>{if(t.success)return{fileList:t.result.fileList.map((t=>({fileID:t.fileID,tempFileURL:t.tempFileURL})))};throw new ft({code:"GET_TEMP_FILE_URL_FAILED",message:"获取临时文件链接失败"})}))}},Ne={init(t){const e=new Be(t),r={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return r},e.customAuth=e.auth,e}};function Le({data:t}){let e;e=wt();const r=JSON.parse(JSON.stringify(t||{}));if(Object.assign(r,{clientInfo:e}),!r.uniIdToken){const{token:t}=gt();t&&(r.uniIdToken=t)}return r}const Ue=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"，云函数[{functionName}]在云端不存在，请检查此云函数名称是否正确以及该云函数是否已上传到服务空间",mode:"append"}];var qe=/[\\^$.*+?()[\]{}|]/g,je=RegExp(qe.source);function Fe(t,e,r){return t.replace(new RegExp((n=e)&&je.test(n)?n.replace(qe,"\\$&"):n,"g"),r);var n}const He=2e4,Ve={code:20101,message:"Invalid client"};function Ke(t){const{errSubject:e,subject:r,errCode:n,errMsg:s,code:i,message:o,cause:a}=t||{};return new ft({subject:e||r||"uni-secure-network",code:n||i||He,message:s||o,cause:a})}let $e;function ze({secretType:t}={}){return"request"===t||"response"===t||"both"===t}function We({name:t,data:e={}}={}){return"DCloud-clientDB"===t&&"encryption"===e.redirectTo&&"getAppClientKey"===e.action}function Je({functionName:t,result:e,logPvd:r}){}function Ge(t){const e=t.callFunction,r=function(r){const n=r.name;r.data=Le.call(t,{data:r.data});const s={aliyun:"aliyun",tencent:"tcb",tcb:"tcb"}[this.config.provider],i=ze(r),o=We(r),a=i||o;return e.call(this,r).then((t=>(t.errCode=0,!a&&Je.call(this,{functionName:n,result:t,logPvd:s}),Promise.resolve(t))),(t=>(!a&&Je.call(this,{functionName:n,result:t,logPvd:s}),t&&t.message&&(t.message=function({message:t="",extraInfo:e={},formatter:r=[]}={}){for(let n=0;n<r.length;n++){const{rule:s,content:i,mode:o}=r[n],a=t.match(s);if(!a)continue;let c=i;for(let t=1;t<a.length;t++)c=Fe(c,`{$${t}}`,a[t]);for(const t in e)c=Fe(c,`{${t}}`,e[t]);return"replace"===o?c:t+c}return t}({message:`[${r.name}]: ${t.message}`,formatter:Ue,extraInfo:{functionName:n}})),Promise.reject(t))))};t.callFunction=function(e){const{provider:n,spaceId:s}=t.config,i=e.name;let o,a;return e.data=e.data||{},o=r,o=o.bind(t),a=We(e)?r.call(t,e):ze(e)?new $e({secretType:e.secretType,uniCloudIns:t}).wrapEncryptDataCallFunction(r.bind(t))(e):function({provider:t,spaceId:e,functionName:r}={}){const{appId:n,uniPlatform:s,osName:i}=_t();let o=s;"app"===s&&(o=i);const a=function({provider:t,spaceId:e}={}){if(!U)return{};var r;t="tencent"===(r=t)?"tcb":r;const n=U.find((r=>r.provider===t&&r.spaceId===e));return n&&n.config}({provider:t,spaceId:e});if(!a||!a.accessControl||!a.accessControl.enable)return!1;const c=a.accessControl.function||{},u=Object.keys(c);if(0===u.length)return!0;const l=function(t,e){let r,n,s;for(let i=0;i<t.length;i++){const o=t[i];o!==e?"*"!==o?o.split(",").map((t=>t.trim())).indexOf(e)>-1&&(n=o):s=o:r=o}return r||n||s}(u,r);if(!l)return!1;if((c[l]||[]).find(((t={})=>t.appId===n&&(t.platform||"").toLowerCase()===o.toLowerCase())))return!0;throw console.error(`此应用[appId: ${n}, platform: ${o}]不在云端配置的允许访问的应用列表内，参考：https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client`),Ke(Ve)}({provider:n,spaceId:s,functionName:i})?new $e({secretType:e.secretType,uniCloudIns:t}).wrapVerifyClientCallFunction(r.bind(t))(e):o(e),Object.defineProperty(a,"result",{get:()=>(console.warn("当前返回结果为Promise类型，不可直接访问其result属性，详情请参考：https://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),a}}$e=class{constructor(){throw Ke({message:"Platform app is not enabled, please check whether secure network module is enabled in your manifest.json"})}};const Ye=Symbol("CLIENT_DB_INTERNAL");function Ze(t,e){return t.then="DoNotReturnProxyWithAFunctionNamedThen",t._internalType=Ye,t.inspect=null,t.__v_raw=void 0,new Proxy(t,{get(t,r,n){if("_uniClient"===r)return null;if("symbol"==typeof r)return t[r];if(r in t||"string"!=typeof r){const e=t[r];return"function"==typeof e?e.bind(t):e}return e.get(t,r,n)}})}function Qe(t){return{on:(e,r)=>{t[e]=t[e]||[],t[e].indexOf(r)>-1||t[e].push(r)},off:(e,r)=>{t[e]=t[e]||[];const n=t[e].indexOf(r);-1!==n&&t[e].splice(n,1)}}}const Xe=["db.Geo","db.command","command.aggregate"];function tr(t,e){return Xe.indexOf(`${t}.${e}`)>-1}function er(t){switch(O(t=pt(t))){case"array":return t.map((t=>er(t)));case"object":return t._internalType===Ye||Object.keys(t).forEach((e=>{t[e]=er(t[e])})),t;case"regexp":return{$regexp:{source:t.source,flags:t.flags}};case"date":return{$date:t.toISOString()};default:return t}}function rr(t){return t&&t.content&&t.content.$method}class nr{constructor(t,e,r){this.content=t,this.prevStage=e||null,this.udb=null,this._database=r}toJSON(){let t=this;const e=[t.content];for(;t.prevStage;)t=t.prevStage,e.push(t.content);return{$db:e.reverse().map((t=>({$method:t.$method,$param:er(t.$param)})))}}toString(){return JSON.stringify(this.toJSON())}getAction(){const t=this.toJSON().$db.find((t=>"action"===t.$method));return t&&t.$param&&t.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter((t=>"action"!==t.$method))}}get isAggregate(){let t=this;for(;t;){const e=rr(t),r=rr(t.prevStage);if("aggregate"===e&&"collection"===r||"pipeline"===e)return!0;t=t.prevStage}return!1}get isCommand(){let t=this;for(;t;){if("command"===rr(t))return!0;t=t.prevStage}return!1}get isAggregateCommand(){let t=this;for(;t;){const e=rr(t),r=rr(t.prevStage);if("aggregate"===e&&"command"===r)return!0;t=t.prevStage}return!1}getNextStageFn(t){const e=this;return function(){return sr({$method:t,$param:er(Array.from(arguments))},e,e._database)}}get count(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}get remove(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}get(){return this._send("get",Array.from(arguments))}get add(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}get set(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL禁止使用set方法")}}_send(t,e){const r=this.getAction(),n=this.getCommand();return n.$db.push({$method:t,$param:er(e)}),this._database._callCloudFunction({action:r,command:n})}}function sr(t,e,r){return Ze(new nr(t,e,r),{get(t,e){let n="db";return t&&t.content&&(n=t.content.$method),tr(n,e)?sr({$method:e},t,r):function(){return sr({$method:e,$param:er(Array.from(arguments))},t,r)}}})}function ir({path:t,method:e}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...t.map((t=>({$method:t}))),{$method:e,$param:this.param}]}}toString(){return JSON.stringify(this.toJSON())}}}function or(t,e={}){return Ze(new t(e),{get:(t,e)=>tr("db",e)?sr({$method:e},null,t):function(){return sr({$method:e,$param:er(Array.from(arguments))},null,t)}})}class ar extends class{constructor({uniClient:t={},isJQL:e=!1}={}){this._uniClient=t,this._authCallBacks={},this._dbCallBacks={},t._isDefault&&(this._dbCallBacks=H("_globalUniCloudDatabaseCallback")),e||(this.auth=Qe(this._authCallBacks)),this._isJQL=e,Object.assign(this,Qe(this._dbCallBacks)),this.env=Ze({},{get:(t,e)=>({$env:e})}),this.Geo=Ze({},{get:(t,e)=>ir({path:["Geo"],method:e})}),this.serverDate=ir({path:[],method:"serverDate"}),this.RegExp=ir({path:[],method:"RegExp"})}getCloudEnv(t){if("string"!=typeof t||!t.trim())throw new Error("getCloudEnv参数错误");return{$env:t.replace("$cloudEnv_","")}}_callback(t,e){const r=this._dbCallBacks;r[t]&&r[t].forEach((t=>{t(...e)}))}_callbackAuth(t,e){const r=this._authCallBacks;r[t]&&r[t].forEach((t=>{t(...e)}))}multiSend(){const t=Array.from(arguments),e=t.map((t=>{const e=t.getAction(),r=t.getCommand();if("getTemp"!==r.$db[r.$db.length-1].$method)throw new Error("multiSend只支持子命令内使用getTemp");return{action:e,command:r}}));return this._callCloudFunction({multiCommand:e,queryList:t})}}{_parseResult(t){return this._isJQL?t.result:t}_callCloudFunction({action:t,command:e,multiCommand:r,queryList:n}){function s(t,e){if(r&&n)for(let r=0;r<n.length;r++){const s=n[r];s.udb&&"function"==typeof s.udb.setResult&&(e?s.udb.setResult(e):s.udb.setResult(t.result.dataList[r]))}}const i=this,o=this._isJQL?"databaseForJQL":"database";function a(t){return i._callback("error",[t]),W(J(o,"fail"),t).then((()=>W(J(o,"complete"),t))).then((()=>(s(null,t),at(Z,{type:et,content:t}),Promise.reject(t))))}const c=W(J(o,"invoke")),u=this._uniClient;return c.then((()=>u.callFunction({name:"DCloud-clientDB",type:"CLIENT_DB",data:{action:t,command:e,multiCommand:r}}))).then((t=>{const{code:e,message:r,token:n,tokenExpired:c,systemInfo:u=[]}=t.result;if(u)for(let s=0;s<u.length;s++){const{level:t,message:e,detail:r}=u[s],n=console["warn"===t?"error":t]||console.log;let i="[System Info]"+e;r&&(i=`${i}\n详细信息：${r}`),n(i)}if(e)return a(new ft({code:e,message:r,requestId:t.requestId}));t.result.errCode=t.result.errCode||t.result.code,t.result.errMsg=t.result.errMsg||t.result.message,n&&c&&(yt({token:n,tokenExpired:c}),this._callbackAuth("refreshToken",[{token:n,tokenExpired:c}]),this._callback("refreshToken",[{token:n,tokenExpired:c}]),at(X,{token:n,tokenExpired:c}));const l=[{prop:"affectedDocs",tips:"affectedDocs不再推荐使用，请使用inserted/deleted/updated/data.length替代"},{prop:"code",tips:"code不再推荐使用，请使用errCode替代"},{prop:"message",tips:"message不再推荐使用，请使用errMsg替代"}];for(let s=0;s<l.length;s++){const{prop:e,tips:r}=l[s];if(e in t.result){const n=t.result[e];Object.defineProperty(t.result,e,{get:()=>(console.warn(r),n)})}}return h=t,W(J(o,"success"),h).then((()=>W(J(o,"complete"),h))).then((()=>{s(h,null);const t=i._parseResult(h);return at(Z,{type:et,content:t}),Promise.resolve(t)}));var h}),(t=>(/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(t.message)&&console.warn("clientDB未初始化，请在web控制台保存一次schema以开启clientDB"),a(new ft({code:t.code||"SYSTEM_ERROR",message:t.message,requestId:t.requestId})))))}}const cr="token无效，跳转登录页面",ur="token过期，跳转登录页面",lr={TOKEN_INVALID_TOKEN_EXPIRED:ur,TOKEN_INVALID_INVALID_CLIENTID:cr,TOKEN_INVALID:cr,TOKEN_INVALID_WRONG_TOKEN:cr,TOKEN_INVALID_ANONYMOUS_USER:cr},hr={"uni-id-token-expired":ur,"uni-id-check-token-failed":cr,"uni-id-token-not-exist":cr,"uni-id-check-device-feature-failed":cr};function fr(t,e){let r="";return r=t?`${t}/${e}`:e,r.replace(/^\//,"")}function dr(t=[],e=""){const r=[],n=[];return t.forEach((t=>{!0===t.needLogin?r.push(fr(e,t.path)):!1===t.needLogin&&n.push(fr(e,t.path))})),{needLoginPage:r,notNeedLoginPage:n}}function pr(t){return t.split("?")[0].replace(/^\//,"")}function gr(){return function(t){let e=t&&t.$page&&t.$page.fullPath||"";return e?("/"!==e.charAt(0)&&(e="/"+e),e):e}(function(){const t=getCurrentPages();return t[t.length-1]}())}function yr(){return pr(gr())}function mr(t="",e={}){if(!t)return!1;if(!(e&&e.list&&e.list.length))return!1;const r=e.list,n=pr(t);return r.some((t=>t.pagePath===n))}const vr=!!S.uniIdRouter,{loginPage:_r,routerNeedLogin:Sr,resToLogin:wr,needLoginPage:br,notNeedLoginPage:Er,loginPageInTabBar:Tr}=function({pages:t=[],subPackages:e=[],uniIdRouter:r={},tabBar:n={}}=S){const{loginPage:s,needLogin:i=[],resToLogin:o=!0}=r,{needLoginPage:a,notNeedLoginPage:c}=dr(t),{needLoginPage:u,notNeedLoginPage:l}=function(t=[]){const e=[],r=[];return t.forEach((t=>{const{root:n,pages:s=[]}=t,{needLoginPage:i,notNeedLoginPage:o}=dr(s,n);e.push(...i),r.push(...o)})),{needLoginPage:e,notNeedLoginPage:r}}(e);return{loginPage:s,routerNeedLogin:i,resToLogin:o,needLoginPage:[...a,...u],notNeedLoginPage:[...c,...l],loginPageInTabBar:mr(s,n)}}();if(br.indexOf(_r)>-1)throw new Error(`Login page [${_r}] should not be "needLogin", please check your pages.json`);function Ir(t){const e=yr();if("/"===t.charAt(0))return t;const[r,n]=t.split("?"),s=r.replace(/^\//,"").split("/"),i=e.split("/");i.pop();for(let o=0;o<s.length;o++){const t=s[o];".."===t?i.pop():"."!==t&&i.push(t)}return""===i[0]&&i.shift(),"/"+i.join("/")+(n?"?"+n:"")}function Ar({redirect:t}){const e=pr(t),r=pr(_r);return yr()!==r&&e!==r}function Dr({api:t,redirect:e}={}){if(!e||!Ar({redirect:e}))return;const r=(s=e,"/"!==(n=_r).charAt(0)&&(n="/"+n),s?n.indexOf("?")>-1?n+`&uniIdRedirectUrl=${encodeURIComponent(s)}`:n+`?uniIdRedirectUrl=${encodeURIComponent(s)}`:n);var n,s;Tr?"navigateTo"!==t&&"redirectTo"!==t||(t="switchTab"):"switchTab"===t&&(t="navigateTo");const i={navigateTo:uni.navigateTo,redirectTo:uni.redirectTo,switchTab:uni.switchTab,reLaunch:uni.reLaunch};setTimeout((()=>{i[t]({url:r})}))}function kr({url:t}={}){const e={abortLoginPageJump:!1,autoToLoginPage:!1},r=function(){const{token:t,tokenExpired:e}=gt();let r;if(t){if(e<Date.now()){const t="uni-id-token-expired";r={errCode:t,errMsg:hr[t]}}}else{const t="uni-id-check-token-failed";r={errCode:t,errMsg:hr[t]}}return r}();if(function(t){const e=pr(Ir(t));return!(Er.indexOf(e)>-1)&&(br.indexOf(e)>-1||Sr.some((e=>{return r=t,new RegExp(e).test(r);var r})))}(t)&&r){if(r.uniIdRedirectUrl=t,st(Q).length>0)return setTimeout((()=>{at(Q,r)}),0),e.abortLoginPageJump=!0,e;e.autoToLoginPage=!0}return e}function xr(){!function(){const t=gr(),{abortLoginPageJump:e,autoToLoginPage:r}=kr({url:t});e||r&&Dr({api:"redirectTo",redirect:t})}();const t=["navigateTo","redirectTo","reLaunch","switchTab"];for(let e=0;e<t.length;e++){const r=t[e];uni.addInterceptor(r,{invoke(t){const{abortLoginPageJump:e,autoToLoginPage:n}=kr({url:t.url});return e?t:n?(Dr({api:r,redirect:Ir(t.url)}),!1):t}})}}function Or(){this.onResponse((t=>{const{type:e,content:r}=t;let n=!1;switch(e){case"cloudobject":n=function(t){if("object"!=typeof t)return!1;const{errCode:e}=t||{};return e in hr}(r);break;case"clientdb":n=function(t){if("object"!=typeof t)return!1;const{errCode:e}=t||{};return e in lr}(r)}n&&function(t={}){const e=st(Q);lt().then((()=>{const r=gr();if(r&&Ar({redirect:r}))return e.length>0?at(Q,Object.assign({uniIdRedirectUrl:r},t)):void(_r&&Dr({api:"navigateTo",redirect:r}))}))}(r)}))}function Rr(t){var e;(e=t).onResponse=function(t){it(Z,t)},e.offResponse=function(t){ot(Z,t)},function(t){t.onNeedLogin=function(t){it(Q,t)},t.offNeedLogin=function(t){ot(Q,t)},vr&&(H("_globalUniCloudStatus").needLoginInit||(H("_globalUniCloudStatus").needLoginInit=!0,lt().then((()=>{xr.call(t)})),wr&&Or.call(t)))}(t),function(t){t.onRefreshToken=function(t){it(X,t)},t.offRefreshToken=function(t){ot(X,t)}}(t)}let Mr;const Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Pr=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function Br(){const t=gt().token||"",e=t.split(".");if(!t||3!==e.length)return{uid:null,role:[],permission:[],tokenExpired:0};let r;try{r=JSON.parse((n=e[1],decodeURIComponent(Mr(n).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(s){throw new Error("获取当前用户信息出错，详细错误信息为："+s.message)}var n;return r.tokenExpired=1e3*r.exp,delete r.exp,delete r.iat,r}Mr="function"!=typeof atob?function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!Pr.test(t))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var e;t+="==".slice(2-(3&t.length));for(var r,n,s="",i=0;i<t.length;)e=Cr.indexOf(t.charAt(i++))<<18|Cr.indexOf(t.charAt(i++))<<12|(r=Cr.indexOf(t.charAt(i++)))<<6|(n=Cr.indexOf(t.charAt(i++))),s+=64===r?String.fromCharCode(e>>16&255):64===n?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return s}:atob;var Nr=w((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r="chooseAndUploadFile:ok",n="chooseAndUploadFile:fail";function s(t,e){return t.tempFiles.forEach(((t,r)=>{t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+r+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((t=>t.path))),t}function i(t,e,{onChooseFile:n,onUploadProgress:s}){return e.then((t=>{if(n){const e=n(t);if(void 0!==e)return Promise.resolve(e).then((e=>void 0===e?t:e))}return t})).then((e=>!1===e?{errMsg:r,tempFilePaths:[],tempFiles:[]}:function(t,e,n=5,s){(e=Object.assign({},e)).errMsg=r;const i=e.tempFiles,o=i.length;let a=0;return new Promise((r=>{for(;a<n;)c();function c(){const n=a++;if(n>=o)return void(!i.find((t=>!t.url&&!t.errMsg))&&r(e));const u=i[n];t.uploadFile({filePath:u.path,cloudPath:u.cloudPath,fileType:u.fileType,onUploadProgress(t){t.index=n,t.tempFile=u,t.tempFilePath=u.path,s&&s(t)}}).then((t=>{u.url=t.fileID,n<o&&c()})).catch((t=>{u.errMsg=t.errMsg||t.message,n<o&&c()}))}}))}(t,e,5,s)))}e.initChooseAndUploadFile=function(t){return function(e={type:"all"}){return"image"===e.type?i(t,function(t){const{count:e,sizeType:r,sourceType:i=["album","camera"],extension:o}=t;return new Promise(((t,a)=>{uni.chooseImage({count:e,sizeType:r,sourceType:i,extension:o,success(e){t(s(e,"image"))},fail(t){a({errMsg:t.errMsg.replace("chooseImage:fail",n)})}})}))}(e),e):"video"===e.type?i(t,function(t){const{camera:e,compressed:r,maxDuration:i,sourceType:o=["album","camera"],extension:a}=t;return new Promise(((t,c)=>{uni.chooseVideo({camera:e,compressed:r,maxDuration:i,sourceType:o,extension:a,success(e){const{tempFilePath:r,duration:n,size:i,height:o,width:a}=e;t(s({errMsg:"chooseVideo:ok",tempFilePaths:[r],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:r,size:i,type:e.tempFile&&e.tempFile.type||"",width:a,height:o,duration:n,fileType:"video",cloudPath:""}]},"video"))},fail(t){c({errMsg:t.errMsg.replace("chooseVideo:fail",n)})}})}))}(e),e):i(t,function(t){const{count:e,extension:r}=t;return new Promise(((t,i)=>{let o=uni.chooseFile;if("undefined"!=typeof wx&&"function"==typeof wx.chooseMessageFile&&(o=wx.chooseMessageFile),"function"!=typeof o)return i({errMsg:n+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});o({type:"all",count:e,extension:r,success(e){t(s(e))},fail(t){i({errMsg:t.errMsg.replace("chooseFile:fail",n)})}})}))}(e),e)}}})),Lr=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(Nr);function Ur(t){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((()=>{var t=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((e=>{t.push(this[e])})),t}),((t,e)=>{if("manual"===this.loadtime)return;let r=!1;const n=[];for(let s=2;s<t.length;s++)t[s]!==e[s]&&(n.push(t[s]),r=!0);t[0]!==e[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(r,n)}))},methods:{onMixinDatacomPropsChange(t,e){},mixinDatacomEasyGet({getone:t=!1,success:e,fail:r}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then((r=>{this.mixinDatacomLoading=!1;const{data:n,count:s}=r.result;this.getcount&&(this.mixinDatacomPage.count=s),this.mixinDatacomHasMore=n.length<this.pageSize;const i=t?n.length?n[0]:void 0:n;this.mixinDatacomResData=i,e&&e(i)})).catch((t=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=t,r&&r(t)})))},mixinDatacomGet(e={}){let r=t.database(this.spaceInfo);const n=e.action||this.action;n&&(r=r.action(n));const s=e.collection||this.collection;r=Array.isArray(s)?r.collection(...s):r.collection(s);const i=e.where||this.where;i&&Object.keys(i).length&&(r=r.where(i));const o=e.field||this.field;o&&(r=r.field(o));const a=e.foreignKey||this.foreignKey;a&&(r=r.foreignKey(a));const c=e.groupby||this.groupby;c&&(r=r.groupBy(c));const u=e.groupField||this.groupField;u&&(r=r.groupField(u)),!0===(void 0!==e.distinct?e.distinct:this.distinct)&&(r=r.distinct());const l=e.orderby||this.orderby;l&&(r=r.orderBy(l));const h=void 0!==e.pageCurrent?e.pageCurrent:this.mixinDatacomPage.current,f=void 0!==e.pageSize?e.pageSize:this.mixinDatacomPage.size,d=void 0!==e.getcount?e.getcount:this.getcount,p=void 0!==e.gettree?e.gettree:this.gettree,g=void 0!==e.gettreepath?e.gettreepath:this.gettreepath,y={getCount:d},m={limitLevel:void 0!==e.limitlevel?e.limitlevel:this.limitlevel,startWith:void 0!==e.startwith?e.startwith:this.startwith};return p&&(y.getTree=m),g&&(y.getTreePath=m),r=r.skip(f*(h-1)).limit(f).get(y),r}}}}function qr(t){return H("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",t.config.spaceId))}async function jr({openid:t,callLoginByWeixin:e=!1}={}){throw qr(this),new Error("[SecureNetwork] API `initSecureNetworkByWeixin` is not supported on platform `app`")}async function Fr(t){const e=qr(this);return e.initPromise||(e.initPromise=jr.call(this,t)),e.initPromise}function Hr(t){const e={getSystemInfo:uni.getSystemInfo,getPushClientId:uni.getPushClientId};return function(r){return new Promise(((n,s)=>{e[t]({...r,success(t){n(t)},fail(t){s(t)}})}))}}class Vr extends class{constructor(){this._callback={}}addListener(t,e){this._callback[t]||(this._callback[t]=[]),this._callback[t].push(e)}on(t,e){return this.addListener(t,e)}removeListener(t,e){if(!e)throw new Error('The "listener" argument must be of type function. Received undefined');const r=this._callback[t];if(!r)return;const n=function(t,e){for(let r=t.length-1;r>=0;r--)if(t[r]===e)return r;return-1}(r,e);r.splice(n,1)}off(t,e){return this.removeListener(t,e)}removeAllListener(t){delete this._callback[t]}emit(t,...e){const r=this._callback[t];if(r)for(let n=0;n<r.length;n++)r[n](...e)}}{constructor(){super(),this._uniPushMessageCallback=this._receivePushMessage.bind(this),this._currentMessageId=-1,this._payloadQueue=[]}init(){return Promise.all([Hr("getSystemInfo")(),Hr("getPushClientId")()]).then((([{appId:t}={},{cid:e}={}]=[])=>{if(!t)throw new Error("Invalid appId, please check the manifest.json file");if(!e)throw new Error("Invalid push client id");this._appId=t,this._pushClientId=e,this._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),this.emit("open"),this._initMessageListener()}),(t=>{throw this.emit("error",t),this.close(),t}))}async open(){return this.init()}_isUniCloudSSE(t){if("receive"!==t.type)return!1;const e=t&&t.data&&t.data.payload;return!(!e||"UNI_CLOUD_SSE"!==e.channel||e.seqId!==this._seqId)}_receivePushMessage(t){if(!this._isUniCloudSSE(t))return;const e=t&&t.data&&t.data.payload,{action:r,messageId:n,message:s}=e;this._payloadQueue.push({action:r,messageId:n,message:s}),this._consumMessage()}_consumMessage(){for(;;){const t=this._payloadQueue.find((t=>t.messageId===this._currentMessageId+1));if(!t)break;this._currentMessageId++,this._parseMessagePayload(t)}}_parseMessagePayload(t){const{action:e,messageId:r,message:n}=t;"end"===e?this._end({messageId:r,message:n}):"message"===e&&this._appendMessage({messageId:r,message:n})}_appendMessage({messageId:t,message:e}={}){this.emit("message",e)}_end({messageId:t,message:e}={}){this.emit("end",e),this.close()}_initMessageListener(){uni.onPushMessage(this._uniPushMessageCallback)}_destroy(){uni.offPushMessage(this._uniPushMessageCallback)}toJSON(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}close(){this._destroy(),this.emit("close")}}const Kr={tcb:Pe,tencent:Pe,aliyun:kt,private:Ne};let $r=new class{init(t){let e={};const r=Kr[t.provider];if(!r)throw new Error("未提供正确的provider参数");var n;return e=r.init(t),function(t){t._initPromiseHub||(t._initPromiseHub=new N({createPromise:function(){let e=Promise.resolve();e=new Promise((t=>{setTimeout((()=>{t()}),1)}));const r=t.auth();return e.then((()=>r.getLoginState())).then((t=>t?Promise.resolve():r.signInAnonymously()))}}))}(e),Ge(e),function(t){const e=t.uploadFile;t.uploadFile=function(t){return e.call(this,t)}}(e),(n=e).database=function(t){if(t&&Object.keys(t).length>0)return n.init(t).database();if(this._database)return this._database;const e=or(ar,{uniClient:n});return this._database=e,e},n.databaseForJQL=function(t){if(t&&Object.keys(t).length>0)return n.init(t).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;const e=or(ar,{uniClient:n,isJQL:!0});return this._databaseForJQL=e,e},function(t){t.getCurrentUserInfo=Br,t.chooseAndUploadFile=Lr.initChooseAndUploadFile(t),Object.assign(t,{get mixinDatacom(){return Ur(t)}}),t.SSEChannel=Vr,t.initSecureNetworkByWeixin=function(t){return function({openid:e,callLoginByWeixin:r=!1}={}){return Fr.call(t,{openid:e,callLoginByWeixin:r})}}(t),t.importObject=function(e){return function(r,n={}){n=function(t,e={}){return t.customUI=e.customUI||t.customUI,t.parseSystemError=e.parseSystemError||t.parseSystemError,Object.assign(t.loadingOptions,e.loadingOptions),Object.assign(t.errorOptions,e.errorOptions),"object"==typeof e.secretMethods&&(t.secretMethods=e.secretMethods),t}({customUI:!1,loadingOptions:{title:"加载中...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);const{customUI:s,loadingOptions:i,errorOptions:o,parseSystemError:a}=n,c=!s;return new Proxy({},{get:(s,u)=>function({fn:t,interceptorName:e,getCallbackArgs:r}={}){return async function(...n){const s=r?r({params:n}):{};let i,o;try{return await W(J(e,"invoke"),{...s}),i=await t(...n),await W(J(e,"success"),{...s,result:i}),i}catch(a){throw o=a,await W(J(e,"fail"),{...s,error:o}),o}finally{await W(J(e,"complete"),o?{...s,error:o}:{...s,result:i})}}}({fn:async function s(...l){let h;c&&uni.showLoading({title:i.title,mask:i.mask});const f={name:r,type:"OBJECT",data:{method:u,params:l}};"object"==typeof n.secretMethods&&function(t,e){const r=e.data.method,n=t.secretMethods||{},s=n[r]||n["*"];s&&(e.secretType=s)}(n,f);let d=!1;try{h=await e.callFunction(f)}catch(t){d=!0,h={result:new ft(t)}}const{errSubject:p,errCode:g,errMsg:y,newToken:m}=h.result||{};if(c&&uni.hideLoading(),m&&m.token&&m.tokenExpired&&(yt(m),at(X,{...m})),g){let t=y;if(d&&a&&(t=(await a({objectName:r,methodName:u,params:l,errSubject:p,errCode:g,errMsg:y})).errMsg||y),c)if("toast"===o.type)uni.showToast({title:t,icon:"none"});else{if("modal"!==o.type)throw new Error(`Invalid errorOptions.type: ${o.type}`);{const{confirm:e}=await async function({title:t,content:e,showCancel:r,cancelText:n,confirmText:s}={}){return new Promise(((i,o)=>{uni.showModal({title:t,content:e,showCancel:r,cancelText:n,confirmText:s,success(t){i(t)},fail(){i({confirm:!1,cancel:!0})}})}))}({title:"提示",content:t,showCancel:o.retry,cancelText:"取消",confirmText:o.retry?"重试":"确定"});if(o.retry&&e)return s(...l)}}const e=new ft({subject:p,code:g,message:y,requestId:h.requestId});throw e.detail=h.result,at(Z,{type:nt,content:e}),e}return at(Z,{type:nt,content:h.result}),h.result},interceptorName:"callObject",getCallbackArgs:function({params:t}={}){return{objectName:r,methodName:u,params:t}}})})}}(t)}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((t=>{if(!e[t])return;const r=e[t];var n,s;e[t]=function(){return r.apply(e,Array.from(arguments))},e[t]=(n=e[t],s=t,function(t){let e=!1;if("callFunction"===s){const r=t&&t.type||D;e=r!==D}const r="callFunction"===s&&!e,i=this._initPromiseHub.exec();t=t||{};const{success:o,fail:a,complete:c}=ht(t),u=i.then((()=>e?Promise.resolve():W(J(s,"invoke"),t))).then((()=>n.call(this,t))).then((t=>e?Promise.resolve(t):W(J(s,"success"),t).then((()=>W(J(s,"complete"),t))).then((()=>(r&&at(Z,{type:rt,content:t}),Promise.resolve(t))))),(t=>e?Promise.reject(t):W(J(s,"fail"),t).then((()=>W(J(s,"complete"),t))).then((()=>(at(Z,{type:rt,content:t}),Promise.reject(t))))));if(!(o||a||c))return u;u.then((t=>{o&&o(t),c&&c(t),r&&at(Z,{type:rt,content:t})}),(t=>{a&&a(t),c&&c(t),r&&at(Z,{type:rt,content:t})}))}).bind(e)})),e.init=this.init,e}};(()=>{const t=q;let e={};if(t&&1===t.length)e=t[0],$r=$r.init(e),$r._isDefault=!0;else{const e=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"];let r;r=t&&t.length>0?"应用有多个服务空间，请通过uniCloud.init方法指定要使用的服务空间":"应用未关联服务空间，请在uniCloud目录右键关联服务空间",e.forEach((t=>{$r[t]=function(){return console.error(r),Promise.reject(new ft({code:"SYS_ERR",message:r}))}}))}Object.assign($r,{get mixinDatacom(){return Ur($r)}}),Rr($r),$r.addInterceptor=$,$r.removeInterceptor=z,$r.interceptObject=G})();var zr=$r;const Wr=uni.getSystemInfoSync(),Jr="3.8.4",Gr="__UNI__9CA9A5A",Yr=(t,e)=>{let r=uni.getStorageSync("$$STAT__DBDATA:"+Gr)||{};r||(r={}),r[t]=e,uni.setStorageSync("$$STAT__DBDATA:"+Gr,r)},Zr=t=>{let e=uni.getStorageSync("$$STAT__DBDATA:"+Gr)||{};if(!e[t]){let r=uni.getStorageSync("$$STAT__DBDATA:"+Gr);if(r||(r={}),!r[t])return;e[t]=r[t]}return e[t]},Qr=t=>{let e=uni.getStorageSync("$$STAT__DBDATA:"+Gr)||{};e[t]?(delete e[t],uni.setStorageSync("$$STAT__DBDATA:"+Gr,e)):(e=uni.getStorageSync("$$STAT__DBDATA:"+Gr),e[t]&&(delete e[t],uni.setStorageSync("$$STAT__DBDATA:"+Gr,e)))},Xr={enable:!0,version:"2"};let tn={};tn={};const en="__DC_STAT_UUID",rn="__DC_UUID_VALUE";function nn(){let t="";if("n"===on()){try{t=plus.runtime.getDCloudId()}catch(Rt){t=""}return t}try{t=uni.getStorageSync(en)}catch(Rt){t=rn}if(!t){t=Date.now()+""+Math.floor(1e7*Math.random());try{uni.setStorageSync(en,t)}catch(Rt){uni.setStorageSync(en,rn)}}return t}const sn={appid:"__UNI__9CA9A5A"},on=()=>{const t={app:"n","app-plus":"n",h5:"h5","mp-weixin":"wx",[["y","a","p","mp-ali"].reverse().join("")]:"ali","mp-baidu":"bd","mp-toutiao":"tt","mp-qq":"qq","quickapp-native":"qn","mp-kuaishou":"ks","mp-lark":"lark","quickapp-webview":"qw"};if("ali"===t.app&&my&&my.env){const t=my.env.clientName;if("ap"===t)return"ali";if("dingtalk"===t)return"dt"}return t.app},an=t=>{const e=on();let r="";return t||("wx"===e&&(r=uni.getLaunchOptionsSync().scene),r)},cn=t=>{let e=t||ln();if("bd"===on()){let t=e.$mp&&e.$mp.page&&e.$mp.page.is,r=e.$scope&&e.$scope.is;return t||r||""}return e.route||e.$scope&&e.$scope.route||e.$mp&&e.$mp.page.route},un=t=>{let e=t&&(t.$page||t.$scope&&t.$scope.$page),r=uni.getStorageSync("_STAT_LAST_PAGE_ROUTE");return e?"/"===e.fullPath?e.route:e.fullPath||e.route:r||""},ln=()=>{let t=getCurrentPages(),e=t[t.length-1];return e?e.$vm:null},hn=t=>"page"===t.mpType||"page"===t.$mpType||t.$mp&&"page"===t.$mp.mpType||"page"===t.$options.mpType?"page":"app"===t.mpType||"app"===t.$mpType||t.$mp&&"app"===t.$mp.mpType||"app"===t.$options.mpType?"app":null,fn=t=>{let e=[],r=[],n=[];for(let s in t){t[s].forEach((t=>{let i="";i=t,0===s?e.push(i):3===s?n.push(i):r.push(i)}))}return e.push(...r,...n),JSON.stringify(e)},dn=t=>tn&&tn[t]||"",pn="Report_Data_Time",gn="Report_Status",yn=t=>{let e={usv:Jr,conf:JSON.stringify({ak:"__UNI__9CA9A5A"})};uni.request({url:"https://tongji.dcloud.io/uni/stat",method:"GET",data:e,success:e=>{const{data:r}=e;0===r.ret&&"function"==typeof t&&t({enable:r.enable})},fail:e=>{let r=1;try{r=uni.getStorageSync(gn)}catch(n){r=1}""===r&&(r=1),"function"==typeof t&&t({enable:r})}})},mn=()=>{if(Xr.collectItems){const t=Xr.collectItems.uniStatPageLog;return void 0===t||("boolean"!=typeof t||t)}return!0},vn="is_handle_device_id",_n="__first__visit__time",Sn="__last__visit__time",wn=()=>parseInt((new Date).getTime()/1e3),bn=()=>{const t=Zr(_n);let e=0;return t?e=t:(e=wn(),Yr(_n,e),Qr(Sn)),e},En="__page__residence__time";let Tn=0,In=0;const An=()=>(Tn=wn(),Yr(En,Tn),Tn),Dn="__total__visit__count",kn=()=>{const t=Zr(Dn);let e=1;return t&&(e=t,e++),Yr(Dn,e),e},xn="__first_time",On=()=>{let t=wn();return Yr(xn,t)},Rn=t=>{let e=0;const r=Zr(xn),n=wn();if(0!==r&&(e=n-r),e=e<1?1:e,"app"===t){return{residenceTime:e,overtime:e>300}}if("page"===t){return{residenceTime:e,overtime:e>1800}}return{residenceTime:e}},Mn=(t=>{let e=Xr.reportInterval;if(0===Number(e))return 0;e=e||t;return/(^[1-9]\d*$)/.test(e)?Number(e):t})(10);let Cn={uuid:Wr.deviceId||nn(),ak:sn.appid,p:"android"===Wr.platform?"a":"i",ut:on(),mpn:(()=>{let t="";return"wx"!==on()&&"qq"!==on()||uni.canIUse("getAccountInfoSync")&&(t=uni.getAccountInfoSync().miniProgram.appId||""),on(),t})(),usv:Jr,v:"n"===on()?plus.runtime.version:"",ch:(()=>{let t="";return"n"===on()&&(t=plus.runtime.channel),t})(),cn:"",pn:"",ct:"",t:wn(),tt:"",brand:Wr.brand||"",md:Wr.model,sv:Wr.system.replace(/(Android|iOS)\s/,""),mpsdk:Wr.SDKVersion||"",mpv:Wr.version||"",lang:Wr.language,pr:Wr.pixelRatio,ww:Wr.windowWidth,wh:Wr.windowHeight,sw:Wr.screenWidth,sh:Wr.screenHeight};class Pn extends class{constructor(){this.self="",this.__licationShow=!1,this.__licationHide=!1,this.statData=Cn,this._navigationBarTitle={config:"",page:"",report:"",lt:""},this._query={},"function"==typeof uni.addInterceptor&&(this.addInterceptorInit(),this.interceptLogin(),this.interceptShare(!0),this.interceptRequestPayment())}addInterceptorInit(){let t=this;uni.addInterceptor("setNavigationBarTitle",{invoke(e){t._navigationBarTitle.page=e.title}})}interceptLogin(){let t=this;uni.addInterceptor("login",{complete(){t._login()}})}interceptShare(t){let e=this;t?uni.addInterceptor("share",{success(){e._share()},fail(){e._share()}}):e._share()}interceptRequestPayment(){let t=this;uni.addInterceptor("requestPayment",{success(){t._payment("pay_success")},fail(){t._payment("pay_fail")}})}_login(){this.sendEventRequest({key:"login"},0)}_share(){this.sendEventRequest({key:"share"},0)}_payment(t){this.sendEventRequest({key:t},0)}applicationShow(){if(this.__licationHide){if(Rn("app").overtime){let t={path:uni.getStorageSync("_STAT_LAST_PAGE_ROUTE"),scene:this.statData.sc,cst:2};this.sendReportRequest(t)}this.__licationHide=!1}}applicationHide(t,e){t||(t=ln()),this.__licationHide=!0;const r=Rn(),n=un(t);uni.setStorageSync("_STAT_LAST_PAGE_ROUTE",n),this.sendHideRequest({urlref:n,urlref_ts:r.residenceTime},e),On()}pageShow(t){this._navigationBarTitle={config:"",page:"",report:"",lt:""};const e=un(t),r=cn(t);if(this._navigationBarTitle.config=dn(r),this.__licationShow)return On(),uni.setStorageSync("_STAT_LAST_PAGE_ROUTE",e),void(this.__licationShow=!1);if(Rn("page").overtime){let t={path:e,scene:this.statData.sc,cst:3};this.sendReportRequest(t)}On()}pageHide(t){if(!this.__licationHide){const e=Rn("page");let r=un(t),n=uni.getStorageSync("_STAT_LAST_PAGE_ROUTE");return n||(n=r),uni.setStorageSync("_STAT_LAST_PAGE_ROUTE",r),void this.sendPageRequest({url:r,urlref:n,urlref_ts:e.residenceTime})}}sendReportRequest(t,e){this._navigationBarTitle.lt="1",this._navigationBarTitle.config=dn(t.path);let r=t.query&&"{}"!==JSON.stringify(t.query)?"?"+JSON.stringify(t.query):"";const n=(()=>{const t=Zr(Sn);let e=0;return t&&(e=t),Yr(Sn,wn()),e})();if(0!==n||!n){const t=(t=>{let e="";if("n"===on()){try{e=plus.device.uuid}catch(Rt){e=""}return e}return Wr.deviceId||nn()})();(()=>{let t=Zr(vn)||"";return Yr(vn,"1"),"1"===t})()||(this.statData.odid=t)}Object.assign(this.statData,{lt:"1",url:t.path+r||"",t:wn(),sc:an(t.scene),fvts:bn(),lvts:n,tvc:kn(),cst:t.cst||1}),"n"===on()?this.getProperty(e):this.getNetworkInfo(e)}sendPageRequest(t){let{url:e,urlref:r,urlref_ts:n}=t;this._navigationBarTitle.lt="11";let s={ak:this.statData.ak,uuid:this.statData.uuid,p:this.statData.p,lt:"11",ut:this.statData.ut,url:e,tt:this.statData.tt,urlref:r,urlref_ts:n,ch:this.statData.ch,usv:this.statData.usv,t:wn()};this.request(s)}sendHideRequest(t,e){let{urlref:r,urlref_ts:n}=t,s={ak:this.statData.ak,uuid:this.statData.uuid,p:this.statData.p,lt:"3",ut:this.statData.ut,urlref:r,urlref_ts:n,ch:this.statData.ch,usv:this.statData.usv,t:wn()};this.request(s,e)}sendEventRequest({key:t="",value:e=""}={}){let r="";try{r=cn()}catch(s){r=Zr("__launch_options").path}this._navigationBarTitle.config=dn(r),this._navigationBarTitle.lt="21";let n={ak:this.statData.ak,uuid:this.statData.uuid,p:this.statData.p,lt:"21",ut:this.statData.ut,url:r,ch:this.statData.ch,e_n:t,e_v:"object"==typeof e?JSON.stringify(e):e.toString(),usv:this.statData.usv,t:wn()};this.request(n)}sendPushRequest(t,e){let r=wn();const n={lt:"101",cid:e,t:r,ut:this.statData.ut},s=fn({101:[n]});let i={usv:Jr,t:r,requests:s};"n"!==on()||"a"!==this.statData.p?this.sendRequest(i):setTimeout((()=>{this.sendRequest(i)}),200)}getProperty(t){plus.runtime.getProperty(plus.runtime.appid,(e=>{this.statData.v=e.version||"",this.getNetworkInfo(t)}))}getNetworkInfo(t){uni.getNetworkType({success:e=>{this.statData.net=e.networkType,this.getLocation(t)}})}getLocation(t){sn.getLocation?uni.getLocation({type:"wgs84",geocode:!0,success:e=>{e.address&&(this.statData.cn=e.address.country,this.statData.pn=e.address.province,this.statData.ct=e.address.city),this.statData.lat=e.latitude,this.statData.lng=e.longitude,this.request(this.statData,t)}}):(this.statData.lat=0,this.statData.lng=0,this.request(this.statData,t))}request(t,e){let r=wn();const n=this._navigationBarTitle;Object.assign(t,{ttn:n.page,ttpj:n.config,ttc:n.report});let s=Zr("__UNI__STAT__DATA")||{};if(s[t.lt]||(s[t.lt]=[]),s[t.lt].push(t),Yr("__UNI__STAT__DATA",s),(In=wn(),Tn=Zr(En),In-Tn)<Mn&&!e)return;An();const i=fn(s);let o={usv:Jr,t:r,requests:i};Qr("__UNI__STAT__DATA"),"n"!==on()||"a"!==this.statData.p?this.sendRequest(o):setTimeout((()=>{this.sendRequest(o)}),200)}getIsReportData(){return new Promise(((t,e)=>{let r="",n=(new Date).getTime(),s=1;try{r=uni.getStorageSync(pn),s=uni.getStorageSync(gn)}catch(Rt){r="",s=1}""!==s?(1===s&&t(),r||(uni.setStorageSync(pn,n),r=n),n-r>864e5&&yn((({enable:t})=>{uni.setStorageSync(pn,n),uni.setStorageSync(gn,t)}))):yn((({enable:e})=>{uni.setStorageSync(pn,n),uni.setStorageSync(gn,e),1===e&&t()}))}))}sendRequest(t){if(!uni.__stat_uniCloud_space)return void console.error("应用未关联服务空间，统计上报失败，请在uniCloud目录右键关联服务空间.");uni.__stat_uniCloud_space.importObject("uni-stat-receiver",{customUI:!0}).report(t).then((()=>{})).catch((t=>{}))}imageRequest(t){this.getIsReportData().then((()=>{let e=new Image,r=(t=>{let e=Object.keys(t).sort(),r={},n="";for(var s in e)r[e[s]]=t[e[s]],n+=e[s]+"="+t[e[s]]+"&";return{sign:"",options:n.substr(0,n.length-1)}})((t=>{let e={};for(let r in t)e[r]=encodeURIComponent(t[r]);return e})(t)).options;e.src="https://tongji.dcloud.io/uni/stat.gif?"+r}))}sendEvent(t,e){var r,n;(n=e,(r=t)?"string"!=typeof r?(console.error("uni.report [eventName] Parameter type error, it can only be of type String"),1):r.length>255?(console.error("uni.report [eventName] Parameter length cannot be greater than 255"),1):"string"!=typeof n&&"object"!=typeof n?(console.error("uni.report [options] Parameter type error, Only supports String or Object type"),1):"string"==typeof n&&n.length>255?(console.error("uni.report [options] Parameter length cannot be greater than 255"),1):"title"===r&&"string"!=typeof n?(console.error("uni.report [eventName] When the parameter is title, the [options] parameter can only be of type String"),1):void 0:(console.error("uni.report Missing [eventName] parameter"),1))||("title"!==t?this.sendEventRequest({key:t,value:"object"==typeof e?JSON.stringify(e):e},1):this._navigationBarTitle.report=e)}}{static getInstance(){uni.__stat_instance||(uni.__stat_instance=new Pn);{let t=(t=>{const e={},{spaceId:r,provider:n,clientSecret:s}=e;return-1!==["tcb","tencent","aliyun"].indexOf(n)&&("aliyun"===n&&r&&s||("tcb"===n||"tencent"===n)&&r)?e:t&&t.spaceId?t:null})(zr.config);if(!uni.__stat_uniCloud_space)if(t&&0!==Object.keys(t).length){let e={provider:t.provider,spaceId:t.spaceId,clientSecret:t.clientSecret};t.endpoint&&(e.endpoint=t.endpoint),uni.__stat_uniCloud_space=zr.init(e)}else console.error("应用未关联服务空间，请在uniCloud目录右键关联服务空间")}return uni.__stat_instance}constructor(){super()}pushEvent(t){const e=(()=>{if(Xr.collectItems){const t=Xr.collectItems.uniPushClientID;return"boolean"==typeof t&&t}return!1})();uni.getPushClientId&&e&&uni.getPushClientId({success:e=>{const r=e.cid||!1;r&&this.sendPushRequest(t,r)}})}launch(t,e){An(),this.__licationShow=!0,Yr("__launch_options",t),t.cst=1,this.sendReportRequest(t,!0)}load(t,e){this.self=e,this._query=t}appHide(t){this.applicationHide(t,!0)}appShow(t){this.applicationShow(t)}show(t){if(this.self=t,"page"===hn(t)){mn()&&this.pageShow(t)}"h5"!==on()&&"n"!==on()||"app"===hn(t)&&this.appShow()}hide(t){if(this.self=t,"page"===hn(t)){mn()&&this.pageHide(t)}"h5"!==on()&&"n"!==on()||"app"===hn(t)&&this.appHide()}error(t){let e="";e=t.message?t.stack:JSON.stringify(t);let r="";try{r=get_route()}catch(Rt){r=""}let n={ak:this.statData.ak,uuid:this.statData.uuid,p:this.statData.p,lt:"31",url:r,ut:this.statData.ut,ch:this.statData.ch,mpsdk:this.statData.mpsdk,mpv:this.statData.mpv,v:this.statData.v,em:e,usv:this.statData.usv,t:parseInt((new Date).getTime()/1e3)};this.request(n)}}const Bn=Pn.getInstance();let Nn=!1;const Ln={onLaunch(t){Bn.launch(t,this),Bn.pushEvent(t)},onLoad(t){if(Bn.load(t,this),this.$scope&&this.$scope.onShareAppMessage){let t=this.$scope.onShareAppMessage;this.$scope.onShareAppMessage=function(e){return Bn.interceptShare(!1),t.call(this,e)}}},onShow(){Nn=!1,Bn.show(this)},onHide(){Nn=!0,Bn.hide(this)},onUnload(){Nn?Nn=!1:Bn.hide(this)},onError(t){Bn.error(t)}};uni.onCreateVueApp((t=>{t.mixin(Ln),uni.report=function(t,e){Bn.sendEvent(t,e)}})),"h5"!==on()&&"n"!==on()&&(uni.onAppHide((()=>{Bn.appHide(ln())})),uni.onAppShow((()=>{Bn.appShow(ln())})));const{app:Un,Vuex:qn,Pinia:jn}={app:t.createVueApp(c)};uni.Vuex=qn,uni.Pinia=jn,Un.provide("__globalStyles",__uniConfig.styles),Un._component.mpType="app",Un._component.render=()=>{},Un.mount("#app")}(Vue);
